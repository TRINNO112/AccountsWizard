<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>AccountsWizard – Learn Accounting the Fun Way</title>
  <meta name="description" content="AccountsWizard helps Grade 11 students learn accounting basics with interactive, colorful lessons and quizzes." />
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='96' height='96' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M7 3h10a2 2 0 0 1 2 2v2H5V5a2 2 0 0 1 2-2m12 6v8a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V9z'/%3E%3Cpath fill='%23a5b4fc' d='M8.5 12h7v1.6h-7zM8.5 15h5v1.6h-5z'/%3E%3C/svg%3E" />
  <style>
    :root{
      --bg: #0b1020;
      --bg-2:#0f1733;
      --text:#f7f9ff;
      --muted:#b8c2ff;
      --brand:#7c4dff;
      --brand-2:#00e5ff;
      --accent:#ff7ac6;
      --lime:#b7ff4a;
      --card:#141b38;
      --ok:#27e1a3;
      --warn:#ffd166;
      --error:#ff4757;
      --shadow: 0 15px 30px rgba(0,0,0,.35), 0 6px 10px rgba(0,0,0,.2);
      --radius: 18px;
      --radius-lg: 28px;
      --speed: 500ms;
    }

    /* ========= PERFORMANCE OPTIMIZATIONS ========= */
    /* Disable animations for users who prefer reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
      .floaters, .bubble, .floating-icon { display: none !important; }
    }

    /* Disable heavy animations on small screens for better performance */
    @media (max-width: 768px) {
      .floaters, .bubble { display: none !important; }
      .floating-icon { display: none !important; }

      /* Disable 3D transforms and heavy hover effects on mobile */
      .topic {
        animation: none !important;
        transform: none !important;
        perspective: none !important;
      }
      .topic:hover {
        transform: translateY(-4px) !important;
      }
      .topic::before, .topic::after { display: none !important; }
      .topic-glow, .topic-shine { display: none !important; }
      .topic-3d-badge, .topic-3d-layer { display: none !important; }
      .topic-preview { display: none !important; }
      .topic-progress::after { display: none !important; }

      /* Simplify card hover */
      .card:hover { transform: translateY(-2px) !important; filter: none !important; }
      .neon-card:hover { transform: translateY(-4px) !important; }
      .neon-icon-bg::before { display: none !important; }

      /* Disable CTA band animations */
      .cta-band::before { display: none !important; }
      .cta-wizard { animation: none !important; }
      .cta-wizard::after { display: none !important; }
      .cta-sparkle { animation: none !important; }

      /* Disable step dots animation */
      .step-dot { animation: none !important; }
      .step-dot::after { display: none !important; }

      /* Disable formula hover effects */
      .neon-card:hover .formula-item { transform: none !important; }
      .neon-card:hover .infographic-icon { transform: none !important; }
    }

    /* Touch device detection - disable hover effects */
    @media (hover: none) and (pointer: coarse) {
      .topic:hover { transform: none !important; }
      .topic:hover::before, .topic:hover::after { opacity: 0 !important; }
      .topic:hover .topic-icon { transform: none !important; }
      .topic:hover .topic-cta { transform: none !important; }
      .card:hover { transform: none !important; filter: none !important; }
      .neon-card:hover { transform: none !important; }
      .pill:hover { transform: none !important; }
      .ghost:hover { transform: none !important; }
    }

    /* GPU acceleration for smoother animations on desktop */
    @media (min-width: 769px) {
      .bubble { will-change: transform; transform: translateZ(0); }
      .topic { will-change: transform; }
      .neon-card { will-change: transform; }
      .floating-icon { will-change: transform; }
      .cta-wizard { will-change: transform; }
    }
    
    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; }
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Liberation Sans", sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 800px at 80% -10%, rgba(124,77,255,.35), transparent 60%),
                  radial-gradient(1000px 700px at 10% 10%, rgba(0,229,255,.25), transparent 55%),
                  linear-gradient(180deg, var(--bg), var(--bg-2));
      min-height: 100dvh;
      overflow-x: hidden;
    }

    /* Animations */
    @keyframes fadeIn {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes slideUp {
      from { transform: translateY(20px); opacity: 0; }
      to { transform: translateY(0); opacity: 1; }
    }

    .floaters { position: fixed; inset: 0; pointer-events: none; z-index: -1; }
    .bubble{
      position: absolute; border-radius: 999px; filter: blur(1px);
      opacity: .35; mix-blend-mode: screen;
      animation: drift var(--dur) linear infinite;
      box-shadow: 0 0 50px currentColor;
    }
    @keyframes drift{
      from{ transform: translateY(120vh) translateX(var(--sx)) scale(var(--sc)); }
      to  { transform: translateY(-20vh) translateX(calc(var(--sx) + var(--dx))) scale(var(--sc)); }
    }

    header{
      position: sticky; top: 0; z-index: 20;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(13,18,40,.9), rgba(13,18,40,.5));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .nav{
      max-width: 1200px; margin: 0 auto; padding: 14px 18px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 12px;
    }
    .brand{
      display: flex; align-items: center; gap: 10px; text-decoration: none;
    }
    .logo{
      width: 40px; height: 40px; border-radius: 10px;
      background: conic-gradient(from 180deg, var(--brand), var(--brand-2), var(--accent), var(--brand));
      box-shadow: 0 8px 18px rgba(124,77,255,.5);
      transform: rotate(8deg);
      flex-shrink: 0;
    }
    .brand h1{
      margin:0; font-size: clamp(1rem, 2vw + 0.5rem, 1.1rem); letter-spacing: .6px;
      background: linear-gradient(90deg, #fff, var(--muted), var(--lime));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      font-weight: 800;
    }
    .menu{ display: flex; gap: 10px; align-items: center; }
    .menu a{
      text-decoration: none; color: var(--text); opacity: .9;
      padding: 10px 14px; border-radius: 12px; transition: .2s ease;
      display: none;
    }
    .menu a:hover{ background: rgba(255,255,255,.06); transform: translateY(-1px); }
    .pill{
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      color: #0b1020; font-weight: 800; border: none;
      padding: 10px 16px; border-radius: 999px; cursor: pointer;
      box-shadow: 0 12px 25px rgba(0,229,255,.25), inset 0 -2px 0 rgba(0,0,0,.2);
      transition: transform .15s ease, filter .3s ease;
      white-space: nowrap;
      font-size: 14px;
    }
    .pill:hover{ transform: translateY(-1px) scale(1.02); filter: brightness(1.1); }
    .hamb{ 
      display:block; 
      background:none; 
      border:none; 
      color:var(--text); 
      font-size: 1.6rem; 
      cursor:pointer;
      padding: 4px;
    }

    .user-info {
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .user-avatar {
      width: 24px;
      height: 24px;
      border-radius: 50%;
      object-fit: cover;
    }

    .mobile{
      display:none; 
      padding: 6px 16px 14px;
      border-top: 1px solid rgba(255,255,255,.06);
      background: rgba(10,14,30,.95);
      backdrop-filter: blur(10px);
    }
    .mobile.show {
      display: block;
    }
    .mobile a{
      display:block; text-decoration:none; color:var(--text);
      padding: 12px 10px; border-radius: 12px; opacity:.9;
    }
    .mobile a:hover{ background: rgba(255,255,255,.06); }

    .hero{
      max-width: 1200px; margin: 42px auto 0; padding: 0 18px 30px;
      display: grid; grid-template-columns: 1fr; gap: 30px; align-items: center;
    }
    .tag{
      display:inline-flex; gap:10px; align-items:center; padding:6px 10px; border-radius: 999px;
      background: rgba(124,77,255,.15); border:1px solid rgba(124,77,255,.35); color:#e6e6ff; font-weight:700; letter-spacing:.3px;
      font-size: clamp(0.75rem, 1.5vw, 0.9rem);
    }
    .spark{ width:8px; height:8px; border-radius:50%; background: var(--accent); box-shadow: 0 0 14px var(--accent); }
    .title{
      font-size: clamp(1.6rem, 5vw, 3.4rem); line-height: 1.15; margin: 14px 0 10px; font-weight: 900;
      background: linear-gradient(90deg, #fff, #c2d0ff, var(--accent), var(--lime));
      -webkit-background-clip:text; background-clip:text; color: transparent;
    }
    .subtitle{ color: #dfe5ff; opacity: .85; font-size: clamp(0.95rem, 2vw, 1.05rem); line-height: 1.7; }
    .cta-row{ display:flex; flex-wrap:wrap; gap:12px; margin-top:18px; }
    .ghost{
      background: transparent; color: var(--text); border:1px solid rgba(255,255,255,.2);
      padding: 10px 16px; border-radius: 14px; font-weight:700; cursor:pointer; transition: .2s ease;
      text-decoration: none; font-size: 14px;
    }
    .ghost:hover{ background: rgba(255,255,255,.06); transform: translateY(-1px); }

    /* ========= SIMPLE HERO MEDIA ========= */
    .neon-hero {
        max-width: 700px;
        width: 100%;
        
        background: linear-gradient(145deg, rgba(0,229,255,0.12), rgba(124,77,255,0.12), rgba(255,179,0,0.12));
        padding: 10px 25px 20px 25px;
        border-radius: 24px;
        border: 1px solid rgba(255,255,255,0.15);
        box-shadow: 
            0 0 50px rgba(0,229,255,0.2),
            inset 0 0 30px rgba(255,255,255,0.03);
        backdrop-filter: blur(30px);
        position: relative;
        overflow: hidden;
    }

    /* Title Section with Badge */
    .neon-title {
        text-align: center;
        font-size: 24px;
        font-weight: 700;
        color: var(--brand-2);
        letter-spacing: 1.2px;
        margin-bottom: 28px;
        text-shadow: 0 0 15px rgba(0,229,255,0.6);
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        flex-wrap: wrap;
    }

    .title-badge {
        display: inline-block;
        background: linear-gradient(135deg, rgba(0,229,255,0.3), rgba(124,77,255,0.3));
        padding: 4px 12px;
        border-radius: 20px;
        font-size: 11px;
        font-weight: 600;
        letter-spacing: 1px;
        text-transform: uppercase;
        border: 1px solid rgba(0,229,255,0.4);
        box-shadow: 0 0 10px rgba(0,229,255,0.3);
    }

    /* GRID */
    .neon-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 24px;
    }

    /* CARDS - Enhanced */
    .neon-card {
        background: linear-gradient(135deg, rgba(255,255,255,0.08), rgba(255,255,255,0.04));
        padding: 18px;
        border-radius: 20px;
        border: 1px solid rgba(0,229,255,0.25);
        box-shadow: 
            0 8px 25px rgba(0,0,0,0.3),
            0 0 20px rgba(0,229,255,0.15);
        backdrop-filter: blur(20px);
        transition: all 0.4s cubic-bezier(0.4, 0, 0.2, 1);
        text-align: center;
        z-index: 2;
        position: relative;
    }

    .neon-card:hover {
        transform: translateY(-8px) scale(1.04);
        border-color: var(--brand-2);
        box-shadow: 
            0 12px 35px rgba(0,0,0,0.4),
            0 0 35px rgba(0,229,255,0.4);
        background: linear-gradient(135deg, rgba(255,255,255,0.12), rgba(255,255,255,0.06));
    }

    /* Card Label/Tag */
    .card-label {
        position: absolute;
        top: 12px;
        right: 12px;
        background: rgba(0,229,255,0.15);
        color: var(--brand-2);
        font-size: 9px;
        font-weight: 600;
        padding: 4px 10px;
        border-radius: 12px;
        border: 1px solid rgba(0,229,255,0.3);
        text-transform: uppercase;
        letter-spacing: 0.5px;
        backdrop-filter: blur(10px);
    }

    /* Headings & Text */
    .neon-card h4 {
        color: var(--brand-2);
        font-size: 16px;
        margin: 18px 0 10px 0;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        font-weight: 700;
        text-shadow: 0 0 8px rgba(0,229,255,0.3);
    }

    .neon-card p {
        font-size: 13px;
        color: var(--muted);
        opacity: 0.95;
        line-height: 1.6;
        margin-bottom: 16px;
    }

    /* Icon Background - Enhanced with Gradient */
    .neon-icon-bg {
        display: flex;
        justify-content: center;
        align-items: center;
        height: 90px;
        padding: 14px;
        background: linear-gradient(135deg, rgba(0,229,255,0.12), rgba(124,77,255,0.08));
        border-radius: 16px;
        border: 1px solid rgba(255,255,255,0.12);
        position: relative;
        overflow: hidden;
    }

    /* Animated background effect */
    .neon-icon-bg::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: radial-gradient(circle, rgba(0,229,255,0.1) 0%, transparent 70%);
        animation: rotate 8s linear infinite;
        opacity: 0;
        transition: opacity 0.4s;
    }

    .neon-card:hover .neon-icon-bg::before {
        opacity: 1;
    }

    @keyframes rotate {
        0% { transform: rotate(0deg); }
        100% { transform: rotate(360deg); }
    }

    /* SVG Icons - Enhanced */
    .neon-icon-bg .infographic-icon {
        width: 55px;
        height: 55px;
        color: var(--brand-2);
        filter: drop-shadow(0 0 10px rgba(0, 229, 255, 0.7));
        transition: all 0.4s ease;
        z-index: 1;
    }
    
    .neon-card:hover .infographic-icon {
        transform: scale(1.15) rotate(5deg);
        filter: drop-shadow(0 0 15px rgba(0, 229, 255, 1));
    }

    /* ======== NEW: DEBIT = CREDIT FORMULA BOX ======== */
    .formula-box {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 12px;
        margin-top: 16px;
        padding: 12px;
        background: rgba(0,0,0,0.3);
        border-radius: 12px;
        border: 1px solid rgba(0,229,255,0.2);
        box-shadow: 
            inset 0 2px 8px rgba(0,0,0,0.3),
            0 0 15px rgba(0,229,255,0.1);
    }

    .formula-item {
        padding: 8px 16px;
        border-radius: 8px;
        font-size: 13px;
        font-weight: 700;
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: all 0.3s ease;
        border: 1px solid;
    }

    .formula-item.debit {
        background: linear-gradient(135deg, rgba(255,77,77,0.2), rgba(255,77,77,0.1));
        color: #ff6b6b;
        border-color: rgba(255,107,107,0.3);
        box-shadow: 0 0 10px rgba(255,107,107,0.2);
    }

    .formula-item.credit {
        background: linear-gradient(135deg, rgba(77,255,136,0.2), rgba(77,255,136,0.1));
        color: #4dff88;
        border-color: rgba(77,255,136,0.3);
        box-shadow: 0 0 10px rgba(77,255,136,0.2);
    }

    .formula-equals {
        font-size: 18px;
        font-weight: 700;
        color: var(--brand-2);
        text-shadow: 0 0 10px rgba(0,229,255,0.5);
    }

    .neon-card:hover .formula-item {
        transform: scale(1.05);
    }

    .neon-card:hover .formula-item.debit {
        box-shadow: 0 0 15px rgba(255,107,107,0.4);
    }

    .neon-card:hover .formula-item.credit {
        box-shadow: 0 0 15px rgba(77,255,136,0.4);
    }

    /* ======== NEW: PROCESS STEPS INDICATOR ======== */
    .process-steps {
        display: flex;
        justify-content: center;
        align-items: center;
        gap: 8px;
        margin-top: 16px;
        padding: 12px;
    }

    .step-dot {
        width: 10px;
        height: 10px;
        border-radius: 50%;
        background: linear-gradient(135deg, var(--brand-2), rgba(124,77,255,0.8));
        box-shadow: 0 0 10px rgba(0,229,255,0.5);
        position: relative;
        animation: pulse 2s ease-in-out infinite;
    }

    .step-dot:nth-child(1) { animation-delay: 0s; }
    .step-dot:nth-child(2) { animation-delay: 0.3s; }
    .step-dot:nth-child(3) { animation-delay: 0.6s; }
    .step-dot:nth-child(4) { animation-delay: 0.9s; }

    .step-dot::after {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 100%;
        height: 100%;
        border-radius: 50%;
        background: inherit;
        filter: blur(3px);
        opacity: 0.6;
    }

    @keyframes pulse {
        0%, 100% { 
            transform: scale(1);
            opacity: 1;
        }
        50% { 
            transform: scale(1.3);
            opacity: 0.7;
        }
    }

    /* ======== FLOATING BACKGROUND ICONS (Now Darker) ======== */
    .floating-icon {
        position: absolute;
        color: var(--brand-2);
        opacity: 0.18; /* INCREASED from 0.08 to make them darker/more visible */
        z-index: 1;
        animation: float 6s ease-in-out infinite;
    }

    .floating-icon svg {
        width: 100%;
        height: 100%;
        filter: drop-shadow(0 0 5px rgba(0,229,255,0.3)); /* Added subtle glow */
    }
    
    /* Positioning */
    .icon-calculator { top: 15%; left: 5%; width: 55px; height: 55px; animation-duration: 7s; }
    .icon-coins { bottom: 10%; left: 20%; width: 65px; height: 65px; animation-delay: -2s; animation-duration: 8s; }
    .icon-chart { top: 20%; right: 8%; width: 60px; height: 60px; animation-delay: -4s; }
    .icon-ledger { bottom: 15%; right: 15%; width: 50px; height: 50px; animation-duration: 9s; animation-delay: -1s; }

    /* Float Animation */
    @keyframes float {
        0% { transform: translateY(0px) rotate(0deg); }
        50% { transform: translateY(-25px) rotate(5deg); }
        100% { transform: translateY(0px) rotate(0deg); }
    }

    /* ======== RESPONSIVE ======== */

    /* Tablets */
    @media (max-width: 768px) {
        .neon-grid {
            grid-template-columns: 1fr;
        }

        .floating-icon {
            display: none;
        }

        .neon-hero {
            padding: 28px;
        }
    }

    /* Small Phones */
    @media (max-width: 480px) {
        .neon-hero {
            padding: 22px;
            border-radius: 20px;
        }
        
        .neon-card {
            padding: 20px;
        }
        
        .neon-title {
            font-size: 20px;
            flex-direction: column;
            gap: 8px;
        }
        
        .neon-icon-bg {
            height: 75px;
        }
        
        .infographic-icon {
            width: 45px;
            height: 45px;
        }

        .formula-item {
            padding: 6px 12px;
            font-size: 11px;
        }

        .formula-box {
            gap: 8px;
            padding: 10px;
        }
    }


    .features{
      max-width: 1200px; margin: 22px auto 0; padding: 0 18px 60px;
      display: grid; grid-template-columns: 1fr; gap: 18px;
    }
    .card{
      position: relative;
      background: linear-gradient(180deg, #0f1330, #0b0f2a);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow: clip;
      transition: transform .18s ease, filter .25s ease;
      padding: 24px 18px;
      cursor: pointer;
      display: flex;
      flex-direction: column;
      min-height: 220px;
    }
    .card:hover{ transform: translateY(-4px) scale(1.01); filter: brightness(1.06); }
    .card .badge{
      position:absolute; right: 12px; top: 12px; font-size: .75rem; letter-spacing:.3px;
      background: linear-gradient(90deg, var(--accent), var(--brand-2)); color:#0b1020; font-weight:900;
      padding: 6px 10px; border-radius: 999px;
    }
    .card h3{ margin: 8px 0 6px; font-size: clamp(1.1rem, 2.5vw, 1.25rem); }
    .card p{ margin: 0 0 auto; color:#d6dcff; opacity:.9; line-height:1.6; font-size: clamp(0.9rem, 2vw, 1rem); flex-grow: 1; }
    .card .go{
      margin-top: 14px; display:inline-flex; align-items:center; gap:10px;
      text-decoration:none; background: rgba(255,255,255,.08); color:var(--text);
      padding: 10px 14px; border-radius: 12px; transition:.18s ease;
      font-size: 14px;
      align-self: flex-start;
    }
    .card .go:hover{ background: rgba(255,255,255,.15); transform: translateX(2px); }

    .section{
      max-width: 1200px; margin: 28px auto 0; padding: 0 18px 70px;
    }
    .section h2{
      font-size: clamp(1.4rem, 3vw, 2.2rem);
      margin: 0 0 12px;
      background: linear-gradient(90deg, #fff, var(--accent), var(--lime));
      -webkit-background-clip:text; background-clip:text; color: transparent;
    }

    .section-subtitle {
      color: var(--muted);
      font-size: clamp(0.95rem, 2vw, 1.1rem);
      margin: 0 0 8px;
      opacity: 0.85;
    }

    /* REDESIGNED TOPICS SECTION - OPTIMIZED FOR PERFORMANCE */
    .topics{
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      gap: 24px;
      margin-top: 24px;
    }

    .topic {
      background: linear-gradient(145deg, #12193d, #0a0f28);
      border: 1px solid rgba(255,255,255,.08);
      border-radius: 24px;
      padding: 24px;
      min-height: 200px;
      cursor: pointer;
      position: relative;
      overflow: hidden;
      /* OPTIMIZED: Only transition transform and border-color for GPU acceleration */
      transition: transform 0.25s ease, border-color 0.25s ease;
      box-shadow: 0 10px 30px rgba(0,0,0,.3);
      will-change: transform;
    }

    /* OPTIMIZED: Simple overlay instead of complex gradient */
    .topic::before {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 24px;
      background: rgba(124,77,255,.08);
      opacity: 0;
      transition: opacity 0.25s ease;
      pointer-events: none;
    }

    .topic:hover::before {
      opacity: 1;
    }

    /* REMOVED: Heavy blur filter and gradient animation - replaced with simple glow */
    .topic::after {
      content: '';
      position: absolute;
      inset: 0;
      border-radius: 24px;
      box-shadow: inset 0 0 0 2px rgba(0,229,255,.3);
      opacity: 0;
      transition: opacity 0.25s ease;
      pointer-events: none;
    }

    .topic:hover::after {
      opacity: 1;
    }

    /* OPTIMIZED: Simple translateY only - no 3D transforms */
    .topic:hover {
      transform: translateY(-8px);
      border-color: rgba(255,255,255,.15);
    }

    /* OPTIMIZED: Simplified 3D layer - static, no animation */
    .topic-3d-layer {
      position: absolute;
      top: -8px;
      right: -8px;
      width: 54px;
      height: 54px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 22px;
      box-shadow: 0 8px 20px rgba(124,77,255,.35);
      transform: rotate(8deg);
      z-index: 10;
    }

    .topic:hover .topic-3d-layer {
      /* Minimal change on hover */
      box-shadow: 0 10px 25px rgba(124,77,255,.45);
    }

    .topic-header {
      display: flex;
      align-items: flex-start;
      gap: 16px;
      margin-bottom: 16px;
    }

    .topic-icon {
      width: 56px;
      height: 56px;
      background: linear-gradient(135deg, rgba(124,77,255,.25), rgba(0,229,255,.25));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      flex-shrink: 0;
      /* OPTIMIZED: Simple transition */
      transition: background 0.2s ease;
      box-shadow: 0 6px 16px rgba(124,77,255,.2);
    }

    .topic:hover .topic-icon {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
    }

    .topic-content {
      flex: 1;
    }

    .topic b {
      font-size: clamp(1rem, 2vw, 1.15rem);
      display: block;
      margin-bottom: 8px;
      color: var(--text);
      /* OPTIMIZED: Simple color transition */
      transition: color 0.2s ease;
      font-weight: 700;
    }

    .topic:hover b {
      color: var(--lime);
      /* REMOVED: text-shadow causes repaints */
    }

    .topic small {
      color: var(--muted);
      opacity: 0.9;
      font-size: clamp(0.85rem, 1.5vw, 0.95rem);
      line-height: 1.6;
      display: block;
      /* REMOVED: opacity transition not needed */
    }

    /* Topic Meta Info */
    .topic-meta {
      display: flex;
      gap: 12px;
      margin-top: 16px;
      flex-wrap: wrap;
    }

    .topic-tag {
      display: inline-flex;
      align-items: center;
      gap: 4px;
      padding: 6px 12px;
      background: rgba(124,77,255,.15);
      border: 1px solid rgba(124,77,255,.25);
      border-radius: 20px;
      font-size: 11px;
      font-weight: 600;
      color: var(--brand-2);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      /* OPTIMIZED: No transition on tags - they don't need animation */
    }

    .topic:hover .topic-tag {
      background: rgba(124,77,255,.25);
      border-color: rgba(124,77,255,.4);
      /* REMOVED: transform animation */
    }

    .topic-tag.difficulty-easy {
      background: rgba(39,225,163,.15);
      border-color: rgba(39,225,163,.25);
      color: var(--ok);
    }

    .topic-tag.difficulty-medium {
      background: rgba(255,209,102,.15);
      border-color: rgba(255,209,102,.25);
      color: var(--warn);
    }

    .topic-tag.difficulty-hard {
      background: rgba(255,71,87,.15);
      border-color: rgba(255,71,87,.25);
      color: var(--error);
    }

    /* Hover Preview Tooltip */
    .topic-preview {
      position: absolute;
      bottom: calc(100% + 15px);
      left: 50%;
      transform: translateX(-50%) translateY(10px);
      width: 280px;
      padding: 18px;
      background: linear-gradient(145deg, #1a2248, #0f1533);
      border: 1px solid rgba(255,255,255,.15);
      border-radius: 16px;
      box-shadow:
        0 20px 50px rgba(0,0,0,.5),
        0 10px 25px rgba(0,229,255,.1);
      opacity: 0;
      visibility: hidden;
      transition: all 0.3s ease;
      z-index: 100;
      pointer-events: none;
    }

    .topic-preview::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 50%;
      transform: translateX(-50%);
      width: 0;
      height: 0;
      border-left: 10px solid transparent;
      border-right: 10px solid transparent;
      border-top: 10px solid #1a2248;
    }

    .topic:hover .topic-preview {
      opacity: 1;
      visibility: visible;
      transform: translateX(-50%) translateY(0);
    }

    .topic-preview h5 {
      margin: 0 0 10px;
      font-size: 14px;
      color: var(--lime);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .topic-preview ul {
      margin: 0;
      padding: 0 0 0 16px;
      font-size: 12px;
      color: var(--muted);
      line-height: 1.8;
    }

    .topic-preview ul li {
      margin-bottom: 4px;
    }

    .topic-preview ul li::marker {
      color: var(--brand-2);
    }

    .topic-progress {
      position: absolute;
      bottom: 0;
      left: 0;
      right: 0;
      height: 4px;
      background: rgba(255,255,255,.05);
      overflow: hidden;
      border-radius: 0 0 24px 24px;
    }

    .topic-progress-fill {
      height: 100%;
      background: linear-gradient(90deg, var(--brand), var(--brand-2), var(--lime));
      width: 0%;
      transition: width 0.5s ease;
    }

    .topic-progress::after {
      content: '';
      position: absolute;
      left: -100%;
      width: 100%;
      height: 100%;
      background: linear-gradient(90deg, transparent, rgba(255,255,255,.3), transparent);
      animation: shimmer 2s ease-in-out infinite;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .topic:hover .topic-progress::after {
      opacity: 1;
    }

    @keyframes shimmer {
      to { left: 100%; }
    }

    /* Topic Description */
    .topic-description {
      margin: 12px 0 16px;
      padding: 0;
    }

    .topic-description p {
      color: var(--muted);
      font-size: 13px;
      line-height: 1.7;
      margin: 0;
      opacity: 0.85;
      display: -webkit-box;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      overflow: hidden;
      transition: all 0.3s ease;
    }

    .topic:hover .topic-description p {
      opacity: 1;
      color: var(--text);
    }

    /* Topic Stats */
    .topic-stats {
      display: flex;
      gap: 24px;
      margin-top: 16px;
      padding-top: 16px;
      border-top: 1px solid rgba(255,255,255,.06);
    }

    .topic-stat {
      display: flex;
      flex-direction: column;
      gap: 2px;
    }

    .topic-stat .stat-value {
      font-size: 18px;
      font-weight: 800;
      color: var(--brand-2);
      transition: all 0.3s ease;
    }

    .topic:hover .topic-stat .stat-value {
      color: var(--lime);
      text-shadow: 0 0 15px rgba(183,255,74,.4);
    }

    .topic-stat .stat-label {
      font-size: 11px;
      color: var(--muted);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      opacity: 0.7;
    }

    /* Topic CTA Button */
    .topic-cta {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      margin-top: 16px;
      padding: 12px 20px;
      background: linear-gradient(135deg, rgba(124,77,255,.2), rgba(0,229,255,.2));
      border: 1px solid rgba(124,77,255,.3);
      border-radius: 12px;
      color: var(--brand-2);
      font-size: 13px;
      font-weight: 700;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      /* OPTIMIZED: Simple transition */
      transition: background 0.2s ease, color 0.2s ease;
    }

    /* REMOVED: Shine sweep effect - was causing layout recalculations */

    .topic:hover .topic-cta {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      color: var(--bg);
      border-color: transparent;
    }

    /* REMOVED: topic-glow and topic-shine effects - too heavy for smooth performance */

    /* Topic 3D Badge */
    .topic-3d-badge {
      position: absolute;
      top: -10px;
      right: -10px;
      width: 54px;
      height: 54px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border-radius: 14px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      box-shadow:
        0 8px 20px rgba(124,77,255,.4),
        0 4px 8px rgba(0,0,0,.2),
        inset 0 1px 0 rgba(255,255,255,.2);
      transform: translateZ(25px) rotate(8deg);
      transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      z-index: 10;
      border: 2px solid rgba(255,255,255,.15);
    }

    .topic:hover .topic-3d-badge {
      transform: translateZ(45px) rotate(-8deg) scale(1.15);
      box-shadow:
        0 15px 35px rgba(124,77,255,.5),
        0 8px 15px rgba(0,0,0,.3),
        inset 0 1px 0 rgba(255,255,255,.3);
      border-color: rgba(255,255,255,.3);
    }

    /* Responsive adjustments for new elements */
    @media (max-width: 768px) {
      .topic-description p {
        -webkit-line-clamp: 2;
      }

      .topic-stats {
        gap: 16px;
      }

      .topic-stat .stat-value {
        font-size: 16px;
      }

      .topic-3d-badge {
        width: 46px;
        height: 46px;
        font-size: 20px;
        top: -8px;
        right: -8px;
      }
    }

    /* REMOVED: Constant 3D floating animation was causing major lag
       Each of the 12 topic cards had a separate animation running,
       causing continuous GPU/CPU work and repaints */

    .cta-band{
      margin-top: 40px;
      border-radius: var(--radius-lg);
      background: linear-gradient(135deg, rgba(124,77,255,.25), rgba(0,229,255,.2), rgba(183,255,74,.1));
      padding: 32px 28px;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      gap: 24px;
      border: 1px solid rgba(255,255,255,.12);
      box-shadow:
        0 25px 50px rgba(0,229,255,.15),
        0 10px 25px rgba(124,77,255,.1),
        inset 0 1px 0 rgba(255,255,255,.08);
      text-align: center;
      position: relative;
      overflow: hidden;
    }

    /* Animated background glow */
    .cta-band::before {
      content: '';
      position: absolute;
      top: -50%;
      left: -50%;
      width: 200%;
      height: 200%;
      background: radial-gradient(circle, rgba(0,229,255,.1) 0%, transparent 50%);
      animation: cta-glow 8s ease-in-out infinite;
    }

    @keyframes cta-glow {
      0%, 100% { transform: translate(0, 0); }
      50% { transform: translate(30%, 30%); }
    }

    .cta-band-content {
      display: flex;
      flex-direction: column;
      align-items: center;
      gap: 24px;
      position: relative;
      z-index: 2;
      width: 100%;
    }

    .cta-illustration {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 16px;
      margin-bottom: 8px;
    }

    .cta-wizard {
      width: 80px;
      height: 80px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border-radius: 24px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 40px;
      box-shadow:
        0 15px 35px rgba(124,77,255,.4),
        0 5px 15px rgba(0,0,0,.3);
      animation: wizard-float 3s ease-in-out infinite;
      position: relative;
    }

    @keyframes wizard-float {
      0%, 100% { transform: translateY(0) rotate(-5deg); }
      50% { transform: translateY(-10px) rotate(5deg); }
    }

    .cta-wizard::after {
      content: '';
      position: absolute;
      inset: -4px;
      border-radius: 28px;
      background: linear-gradient(45deg, var(--brand), var(--brand-2), var(--lime));
      z-index: -1;
      opacity: 0.5;
      filter: blur(10px);
      animation: wizard-glow 2s ease-in-out infinite alternate;
    }

    @keyframes wizard-glow {
      0% { opacity: 0.3; }
      100% { opacity: 0.6; }
    }

    .cta-sparkles {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .cta-sparkle {
      width: 12px;
      height: 12px;
      background: var(--lime);
      border-radius: 50%;
      box-shadow: 0 0 15px var(--lime);
      animation: sparkle 1.5s ease-in-out infinite;
    }

    .cta-sparkle:nth-child(1) { animation-delay: 0s; }
    .cta-sparkle:nth-child(2) { animation-delay: 0.3s; width: 8px; height: 8px; background: var(--brand-2); box-shadow: 0 0 15px var(--brand-2); }
    .cta-sparkle:nth-child(3) { animation-delay: 0.6s; width: 10px; height: 10px; background: var(--accent); box-shadow: 0 0 15px var(--accent); }

    @keyframes sparkle {
      0%, 100% { transform: scale(1); opacity: 1; }
      50% { transform: scale(1.3); opacity: 0.6; }
    }

    .cta-band .left{
      max-width: 760px;
      position: relative;
      z-index: 2;
    }

    .cta-band h3 {
      font-size: clamp(1.2rem, 3vw, 1.6rem);
      margin: 0 0 8px;
      background: linear-gradient(90deg, #fff, var(--lime));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .cta-band p{
      margin: 0;
      color: #e9edff;
      opacity: .95;
      font-size: clamp(0.95rem, 2vw, 1.05rem);
      line-height: 1.6;
    }

    .cta-band .actions{
      display: flex;
      gap: 12px;
      flex-wrap: wrap;
      justify-content: center;
      position: relative;
      z-index: 2;
    }

    .cta-band .pill {
      padding: 12px 24px;
      font-size: 15px;
    }

    .cta-band .ghost {
      padding: 12px 24px;
      font-size: 15px;
    }

    /* Topic Modal */
    .modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 100;
      background: rgba(5,8,20,.9);
      backdrop-filter: blur(12px);
      animation: fadeIn .3s ease;
      padding: 20px;
      overflow-y: auto;
    }

    .modal-overlay.show {
      display: grid;
      place-items: center;
    }

    .modal {
      background: linear-gradient(180deg, #0f1733, #0b1020);
      border: 1px solid rgba(255,255,255,.15);
      border-radius: 24px;
      box-shadow: 0 30px 70px rgba(0,0,0,.7);
      max-width: 600px;
      width: 100%;
      max-height: 80vh;
      overflow-y: auto;
      animation: slideUp .4s ease;
    }

    .modal-header {
      padding: 24px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .modal-header h3 {
      margin: 0;
      font-size: clamp(1.2rem, 3vw, 1.5rem);
      background: linear-gradient(90deg, var(--text), var(--brand-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .modal-close {
      background: rgba(255,255,255,.06);
      border: none;
      color: var(--text);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 24px;
      cursor: pointer;
      transition: .2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .modal-close:hover {
      background: rgba(255,255,255,.12);
      transform: rotate(90deg);
    }

    .modal-content {
      padding: 24px;
      color: var(--text);
    }

    .modal-content h4 {
      color: var(--lime);
      margin: 20px 0 10px;
      font-size: 1.1rem;
    }

    .modal-content ul {
      line-height: 1.8;
      color: var(--muted);
    }

    .modal-content ul strong {
      color: var(--text);
    }

    /* Account Modal */
    .account-modal {
      text-align: center;
    }

    .account-avatar {
      width: 80px;
      height: 80px;
      border-radius: 50%;
      margin: 0 auto 16px;
      border: 3px solid var(--brand-2);
      box-shadow: 0 10px 30px rgba(0,229,255,.3);
    }

    .account-name {
      font-size: 1.4rem;
      font-weight: 800;
      margin: 0 0 4px;
    }

    .account-email {
      color: var(--muted);
      font-size: 0.95rem;
      margin: 0 0 24px;
    }

    .account-actions {
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .account-btn {
      padding: 12px 20px;
      border-radius: 12px;
      border: none;
      font-weight: 700;
      cursor: pointer;
      transition: .2s ease;
      text-decoration: none;
      text-align: center;
    }

    .account-btn-primary {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      color: var(--bg);
    }

    .account-btn-secondary {
      background: rgba(255,255,255,.06);
      color: var(--text);
      border: 1px solid rgba(255,255,255,.1);
    }

    .account-btn:hover {
      transform: translateY(-2px);
      filter: brightness(1.1);
    }

    /* Footer */
    footer {
      text-align: center;
      padding: 30px 20px;
      background: rgba(5,8,20,.5);
      border-top: 1px solid rgba(255,255,255,.06);
      font-size: 14px;
      color: var(--muted);
    }

    footer a {
      color: var(--brand-2);
      text-decoration: none;
    }

    /* Professional Auth Modal Styles */
    .auth-modal-overlay {
      display: none;
      position: fixed;
      inset: 0;
      z-index: 150;
      background: rgba(5,8,20,.9);
      backdrop-filter: blur(12px);
      animation: fadeIn .3s ease;
      padding: 20px;
      overflow-y: auto;
    }

    .auth-modal-overlay.show {
      display: grid;
      place-items: center;
    }

    .auth-modal {
      background: linear-gradient(180deg, #0f1733, #0b1020);
      border: 1px solid rgba(255,255,255,.15);
      border-radius: 24px;
      box-shadow: 0 30px 70px rgba(0,0,0,.7);
      max-width: 460px;
      width: 100%;
      max-height: 90vh;
      overflow-y: auto;
      animation: slideUp .4s ease;
    }

    .auth-modal-header {
      text-align: center;
      padding: 32px 32px 24px;
      border-bottom: 1px solid rgba(255,255,255,.08);
      position: relative;
    }

    .auth-close-btn {
      position: absolute;
      right: 20px;
      top: 20px;
      background: rgba(255,255,255,.06);
      border: none;
      color: var(--text);
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 20px;
      cursor: pointer;
      transition: .2s ease;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .auth-close-btn:hover {
      background: rgba(255,255,255,.12);
      transform: rotate(90deg);
    }

    .auth-logo {
      width: 64px;
      height: 64px;
      margin: 0 auto 16px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 32px;
      box-shadow: 0 10px 30px rgba(124,77,255,.4);
      animation: pulse-icon 3s ease-in-out infinite;
    }

    .auth-modal-title {
      font-size: clamp(1.4rem, 4vw, 1.8rem);
      font-weight: 800;
      margin: 0 0 8px;
      background: linear-gradient(90deg, var(--text), var(--brand-2));
      -webkit-background-clip: text;
      background-clip: text;
      color: transparent;
    }

    .auth-modal-subtitle {
      color: var(--muted);
      font-size: clamp(0.85rem, 2vw, 0.95rem);
      margin: 0;
    }

    .auth-form {
      padding: 28px 32px;
    }

    .auth-form-group {
      margin-bottom: 20px;
    }

    .auth-form-label {
      display: block;
      font-size: 14px;
      font-weight: 600;
      color: var(--lime);
      margin-bottom: 8px;
      letter-spacing: .3px;
    }

    .auth-input-wrapper {
      position: relative;
    }

    .auth-input-icon {
      position: absolute;
      left: 14px;
      top: 50%;
      transform: translateY(-50%);
      font-size: 18px;
      opacity: .6;
    }

    .auth-input {
      width: 100%;
      padding: 13px 44px;
      background: rgba(255,255,255,.04);
      border: 1.5px solid rgba(255,255,255,.12);
      border-radius: 12px;
      color: var(--text);
      font-size: 15px;
      font-family: inherit;
      transition: .2s ease;
    }

    .auth-input:focus {
      outline: none;
      border-color: var(--brand-2);
      background: rgba(255,255,255,.06);
      box-shadow: 0 0 0 3px rgba(6,182,212,.15);
    }

    .auth-input.error {
      border-color: var(--error);
    }

    .auth-input::placeholder {
      color: rgba(255,255,255,.3);
    }

    .auth-error {
      color: var(--error);
      font-size: 13px;
      margin-top: 6px;
      display: none;
    }

    .auth-error.show {
      display: block;
    }

    .auth-password-toggle {
      position: absolute;
      right: 14px;
      top: 50%;
      transform: translateY(-50%);
      background: none;
      border: none;
      color: var(--muted);
      cursor: pointer;
      font-size: 18px;
      padding: 4px;
      transition: .2s ease;
    }

    .auth-password-toggle:hover {
      color: var(--text);
    }

    .auth-forgot {
      text-align: right;
      margin-top: 8px;
    }

    .auth-forgot a {
      color: var(--brand-2);
      font-size: 13px;
      text-decoration: none;
      transition: .2s ease;
    }

    .auth-forgot a:hover {
      color: var(--lime);
    }

    .auth-btn {
      width: 100%;
      padding: 14px 20px;
      border-radius: 12px;
      font-size: 15px;
      font-weight: 700;
      cursor: pointer;
      transition: .2s ease;
      border: none;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 10px;
      letter-spacing: .3px;
    }

    .auth-btn-primary {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      color: var(--bg);
      box-shadow: 0 8px 20px rgba(6,182,212,.3);
    }

    .auth-btn-primary:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(6,182,212,.4);
      filter: brightness(1.1);
    }

    .auth-btn-primary:disabled {
      opacity: .6;
      cursor: not-allowed;
    }

    .auth-btn-google {
      background: #fff;
      color: #1f2937;
      margin-top: 14px;
      box-shadow: 0 4px 12px rgba(0,0,0,.15);
    }

    .auth-btn-google:hover:not(:disabled) {
      background: #f3f4f6;
      transform: translateY(-2px);
      box-shadow: 0 6px 18px rgba(0,0,0,.2);
    }

    .auth-spinner {
      width: 18px;
      height: 18px;
      border: 2px solid rgba(255,255,255,.3);
      border-top-color: #fff;
      border-radius: 50%;
      animation: spin .7s linear infinite;
    }

    .auth-divider {
      position: relative;
      text-align: center;
      margin: 24px 0;
    }

    .auth-divider::before {
      content: '';
      position: absolute;
      left: 0;
      top: 50%;
      width: 100%;
      height: 1px;
      background: rgba(255,255,255,.1);
    }

    .auth-divider span {
      position: relative;
      background: linear-gradient(90deg, transparent, #0f1733 20%, #0f1733 80%, transparent);
      padding: 0 16px;
      color: var(--muted);
      font-size: 13px;
    }

    .auth-modal-footer {
      padding: 20px 32px 28px;
      background: rgba(30,41,59,.3);
      text-align: center;
      border-top: 1px solid rgba(255,255,255,.08);
    }

    .auth-modal-footer p {
      color: var(--muted);
      font-size: 14px;
      margin: 0;
    }

    .auth-modal-footer a {
      color: var(--brand-2);
      text-decoration: none;
      font-weight: 700;
      transition: .2s ease;
    }

    .auth-modal-footer a:hover {
      color: var(--lime);
    }

    /* Commerce Day Special Button */
    .commerce-day-btn {
        position: relative;
        display: inline-flex;
        align-items: center;
        gap: 12px;
        padding: 14px 32px;
        background: linear-gradient(135deg, #ff0080, #ff8c00, #00ff88);
        background-size: 200% 200%;
        color: #0a0a0a;
        font-weight: 700;
        font-size: 16px;
        text-decoration: none;
        border-radius: 100px;
        border: none;
        cursor: pointer;
        overflow: hidden;
        transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
        box-shadow: 
            0 0 30px rgba(255, 0, 128, 0.5),
            0 10px 30px rgba(0, 0, 0, 0.3);
        animation: gradient-shift 3s ease infinite, pulse-glow 2s ease-in-out infinite;
        margin-top: 20px;
    }

    @keyframes gradient-shift {
        0%, 100% { background-position: 0% 50%; }
        50% { background-position: 100% 50%; }
    }

    @keyframes pulse-glow {
        0%, 100% { 
            box-shadow: 
                0 0 30px rgba(255, 0, 128, 0.5),
                0 10px 30px rgba(0, 0, 0, 0.3);
        }
        50% { 
            box-shadow: 
                0 0 50px rgba(255, 0, 128, 0.8),
                0 0 80px rgba(0, 255, 136, 0.5),
                0 10px 40px rgba(0, 0, 0, 0.4);
        }
    }

    .commerce-day-btn::before {
        content: '';
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
            45deg,
            transparent 30%,
            rgba(255, 255, 255, 0.4) 50%,
            transparent 70%
        );
        transform: rotate(45deg);
        animation: shine 3s linear infinite;
    }

    @keyframes shine {
        0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
        100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
    }

    .commerce-day-btn:hover {
        transform: translateY(-5px) scale(1.05);
        box-shadow: 
            0 0 60px rgba(255, 0, 128, 0.8),
            0 0 100px rgba(0, 255, 136, 0.6),
            0 20px 50px rgba(0, 0, 0, 0.5);
    }

    .commerce-day-btn:active {
        transform: translateY(-2px) scale(1.02);
    }

    .commerce-day-btn::after {
        content: '✨';
        font-size: 18px;
        animation: sparkle-rotate 2s linear infinite;
    }

    @keyframes sparkle-rotate {
        0%, 100% { transform: rotate(0deg) scale(1); }
        50% { transform: rotate(180deg) scale(1.2); }
    }

    /* Reveal animation */
    .reveal {
      opacity: 0;
      transform: translateY(20px);
      transition: opacity 0.6s ease, transform 0.6s ease;
    }

    .reveal.on {
      opacity: 1;
      transform: translateY(0);
    }

    .pop {
      animation: slideUp 0.6s ease;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Media Queries */
    @media (min-width: 768px) {
      .menu a {
        display: block;
      }
      .hamb {
        display: none;
      }
      .hero {
        grid-template-columns: 1.1fr 1fr;
      }
      .features {
        grid-template-columns: repeat(3, 1fr);
      }
      .stat-container {
        grid-template-columns: repeat(2, 1fr);
      }
      .hero-media {
        min-height: 360px;
        padding: 32px;
      }
      .cta-band {
        flex-direction: row;
        justify-content: space-between;
        text-align: left;
      }
    }

    @media (max-width: 500px) {
      .auth-modal {
        border-radius: 18px;
      }
      
      .auth-form,
      .auth-modal-header,
      .auth-modal-footer {
        padding-left: 24px;
        padding-right: 24px;
      }

      .brand h1 span {
        display: none;
      }

      .pill {
        padding: 8px 12px;
      }
    }

    @media (min-width: 1024px) {
      .topics {
        grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
      }
    }
  </style>
</head>
<body>
  <div class="floaters" id="floaters" aria-hidden="true"></div>

  <header>
    <nav class="nav">
      <a class="brand" href="#">
        <span class="logo" aria-hidden="true"></span>
        <h1>Accounts<span>Wizard</span> ✨</h1>
      </a>
      <div class="menu" id="menu">
        <a href="#learn">Learn</a>
        <a href="quiz.html">Quiz</a>
        <a href="about.html">About</a>
        <button class="pill" id="authBtn">Sign In</button>
      </div>
      <button class="hamb" id="hamb" aria-label="Open menu">☰</button>
    </nav>
    <div class="mobile" id="mobile">
      <a href="#learn">Learn</a>
      <a href="quiz.html">Quiz</a>
      <a href="about.html">About</a>
    </div>
  </header>

  <section class="hero">
    <div>
      <span class="tag reveal"><span class="spark"></span> Grade 11 • CBSE Aligned Accountancy</span>
      <h2 class="title reveal" style="transition-delay:.06s">Learn Accounting the Fun Way with AccountsWizard!</h2>
      <p class="subtitle reveal" style="transition-delay:.12s">
        No boring walls of text. Colorful explanations, interactive examples, quick quizzes, and a friendly wizard vibe.
        Master <b>Journal → Ledger → Trial Balance → Financial Statements</b> step by step.
      </p>
      <div class="cta-row reveal" style="transition-delay:.18s">
        <a class="pill" href="lessons.html">Start Learning</a>
        <a class="ghost" href="quiz.html">Take a Quick Quiz</a>
        <a class="ghost" href="#topics">Explore Topics</a>
      </div>
    </div>
    
    <!-- SIMPLE HERO MEDIA -->
    <div class="neon-hero">
  
        <!-- Floating Background Icons (Now Darker) -->
        <span class="floating-icon icon-calculator">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="16" height="20" rx="2" ry="2"></rect><line x1="8" y1="6" x2="16" y2="6"></line><line x1="16" y1="14" x2="16" y2="18"></line><line x1="12" y1="14" x2="12" y2="18"></line><line x1="8" y1="14" x2="8" y2="18"></line><line x1="12" y1="10" x2="16" y2="10"></line></svg>
        </span>
        <span class="floating-icon icon-coins">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><circle cx="8" cy="8" r="6"></circle><path d="M18.09 10.37A6 6 0 1 1 10.34 18"></path><path d="M7 6h1v4"></path><path d="M15 12h1v4"></path></svg>
        </span>
        <span class="floating-icon icon-chart">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="20" x2="12" y2="10"></line><line x1="18" y1="20" x2="18" y2="4"></line><line x1="6" y1="20" x2="6" y2="16"></line></svg>
        </span>
        <span class="floating-icon icon-ledger">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M4 19.5A2.5 2.5 0 0 1 6.5 17H20"></path><path d="M6.5 2H20v20H6.5A2.5 2.5 0 0 1 4 19.5v-15A2.5 2.5 0 0 1 6.5 2z"></path></svg>
        </span>

        <h3 class="neon-title">
            <span class="title-badge">Essential</span>
            Core Accounting Concepts
        </h3>

        <div class="neon-grid">

            <!-- Card 1 - Double Entry Rule -->
            <div class="neon-card">
                <div class="card-label">Fundamental Principle</div>
                <div class="neon-icon-bg">
                    <svg class="infographic-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="5" x2="12" y2="19"></line><line x1="5" y1="12" x2="19" y2="12"></line><path d="M3 12a9 9 0 0 1 9-9m9 9a9 9 0 0 1-9 9"></path><path d="M3 12a9 9 0 0 0 9 9m9-9a9 9 0 0 0-9-9"></path></svg>
                </div>
                <h4>Double Entry Rule</h4>
                <p>Every transaction affects two accounts equally, maintaining the balance of the accounting equation.</p>
                
                <!-- NEW: Debit = Credit Formula -->
                <div class="formula-box">
                    <span class="formula-item debit">Debit</span>
                    <span class="formula-equals">=</span>
                    <span class="formula-item credit">Credit</span>
                </div>
            </div>

            <!-- Card 2 - Accounting Cycle -->
            <div class="neon-card">
                <div class="card-label">Core Process</div>
                <div class="neon-icon-bg">
                    <svg class="infographic-icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"><path d="M20 11A8.1 8.1 0 0 0 4.5 9M4 5v4h4"/><path d="M4 13a8.1 8.1 0 0 0 15.5 2m.5 4v-4h-4"/></svg>
                </div>
                <h4>Accounting Cycle</h4>
                <p>The systematic process of recording, classifying, posting, and summarizing financial transactions.</p>
                
                <!-- NEW: Process Steps -->
                <div class="process-steps">
                    <span class="step-dot"></span>
                    <span class="step-dot"></span>
                    <span class="step-dot"></span>
                    <span class="step-dot"></span>
                </div>
            </div>

        </div>

    </div>
  </section>

  <section class="features" id="learn">
    <article class="card reveal" style="border-left:4px solid var(--brand)" onclick="window.location.href='lessons.html'">
      <span class="badge">Step 1</span>
      <h3>Learn with Mini-Lessons</h3>
      <p>Short, colorful explanations with diagrams and quick checks so you never get lost.</p>
      <a class="go" href="lessons.html" onclick="event.stopPropagation()">Open Lessons →</a>
    </article>

    <article class="card reveal" style="border-left:4px solid var(--accent)" onclick="window.location.href='practice.html'">
      <span class="badge">Step 2</span>
      <h3>Practice Journal Entries</h3>
      <p>Interactive prompts: pick accounts, choose debit/credit, and see instant feedback.</p>
      <a class="go" href="practice.html" onclick="event.stopPropagation()">Try Journal Practice →</a>
    </article>

    <article class="card reveal" style="border-left:4px solid var(--lime)" onclick="window.location.href='quiz.html'">
      <span class="badge">Step 3</span>
      <h3>Test Yourself</h3>
      <p>MCQs aligned to Grade 11 syllabus. Track your progress and improve your scores.</p>
      <a class="go" href="quiz.html" onclick="event.stopPropagation()">Go to Quiz →</a>
    </article>
  </section>

  <!-- REDESIGNED TOPICS SECTION -->
  <section class="section" id="topics">
    <h2 class="reveal">Popular Topics</h2>
    <p class="section-subtitle reveal">Master the fundamentals of accounting with our comprehensive topic guides</p>
    <div class="topics">

      <!-- Basic Concepts -->
      <div class="topic reveal" data-topic="basic-concepts">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📚</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="book-open"></i></div>
          <div class="topic-content">
            <b>Basic Concepts</b>
            <small>Entity, Money Measurement, Going Concern, Dual Aspect.</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Foundation of accounting principles including Business Entity, Money Measurement, Going Concern, Accounting Period, Cost Concept, and Dual Aspect concepts.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-easy"><i data-lucide="zap" style="width:12px;height:12px"></i> Beginner</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 15 min</span>
          <span class="topic-tag"><i data-lucide="file-text" style="width:12px;height:12px"></i> 6 Concepts</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.2K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.8</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Accounting Equation -->
      <div class="topic reveal" data-topic="accounting-equation">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">⚖️</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="scale"></i></div>
          <div class="topic-content">
            <b>Accounting Equation</b>
            <small>Assets = Capital + Liabilities</small>
          </div>
        </div>
        <div class="topic-description">
          <p>The fundamental equation that forms the backbone of double-entry bookkeeping. Learn how every transaction maintains balance between assets, liabilities, and capital.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-easy"><i data-lucide="zap" style="width:12px;height:12px"></i> Beginner</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 20 min</span>
          <span class="topic-tag"><i data-lucide="calculator" style="width:12px;height:12px"></i> Practice</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">2.1K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.9</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Source Documents -->
      <div class="topic reveal" data-topic="source-documents">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📄</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="file-text"></i></div>
          <div class="topic-content">
            <b>Source Documents</b>
            <small>Invoice, Cash Memo, Debit/Credit Note, Voucher</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Learn about original documents that serve as evidence for business transactions including invoices, cash memos, receipts, debit notes, credit notes, and vouchers.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-easy"><i data-lucide="zap" style="width:12px;height:12px"></i> Beginner</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 25 min</span>
          <span class="topic-tag"><i data-lucide="image" style="width:12px;height:12px"></i> Examples</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">980</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.7</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Journal -->
      <div class="topic reveal" data-topic="journal">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📓</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="notebook"></i></div>
          <div class="topic-content">
            <b>Journal</b>
            <small>General journal entries &amp; narration</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Master the art of recording transactions chronologically. Learn journal entry formats, narration writing, compound entries, and the rules of debit and credit.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-medium"><i data-lucide="flame" style="width:12px;height:12px"></i> Intermediate</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 35 min</span>
          <span class="topic-tag"><i data-lucide="pen-tool" style="width:12px;height:12px"></i> Practical</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.8K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.8</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Ledger -->
      <div class="topic reveal" data-topic="ledger">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📒</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="book-copy"></i></div>
          <div class="topic-content">
            <b>Ledger</b>
            <small>Posting from journal, balancing accounts</small>
          </div>
        </div>
        <div class="topic-description">
          <p>The principal book of accounts where all transactions are classified account-wise. Learn posting techniques, T-accounts, and how to balance ledger accounts correctly.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-medium"><i data-lucide="flame" style="width:12px;height:12px"></i> Intermediate</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 40 min</span>
          <span class="topic-tag"><i data-lucide="layers" style="width:12px;height:12px"></i> T-Format</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.5K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.6</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Cash Book -->
      <div class="topic reveal" data-topic="cash-book">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">💰</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="wallet"></i></div>
          <div class="topic-content">
            <b>Cash Book</b>
            <small>Single, double, triple column cash book</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Special journal for recording all cash and bank transactions. Master single-column, double-column (cash + bank), and triple-column (cash + bank + discount) formats.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-medium"><i data-lucide="flame" style="width:12px;height:12px"></i> Intermediate</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 45 min</span>
          <span class="topic-tag"><i data-lucide="columns" style="width:12px;height:12px"></i> 3 Types</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.3K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.7</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Trial Balance -->
      <div class="topic reveal" data-topic="trial-balance">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📋</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="clipboard-list"></i></div>
          <div class="topic-content">
            <b>Trial Balance</b>
            <small>Methods of preparation, error types</small>
          </div>
        </div>
        <div class="topic-description">
          <p>A statement to check arithmetic accuracy of ledger accounts. Learn balance method, total method, types of errors revealed and not revealed by trial balance.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-medium"><i data-lucide="flame" style="width:12px;height:12px"></i> Intermediate</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 30 min</span>
          <span class="topic-tag"><i data-lucide="check-circle" style="width:12px;height:12px"></i> Verification</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.1K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.5</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Depreciation -->
      <div class="topic reveal" data-topic="depreciation">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📉</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="trending-down"></i></div>
          <div class="topic-content">
            <b>Depreciation</b>
            <small>Straight-line, WDV, disposal of asset</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Systematic allocation of the cost of fixed assets. Learn Straight Line Method (SLM), Written Down Value (WDV), asset disposal, and depreciation accounting entries.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-hard"><i data-lucide="target" style="width:12px;height:12px"></i> Advanced</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 50 min</span>
          <span class="topic-tag"><i data-lucide="calculator" style="width:12px;height:12px"></i> Formulas</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">890</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.6</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Bank Reconciliation -->
      <div class="topic reveal" data-topic="bank-reconciliation">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">🏦</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="landmark"></i></div>
          <div class="topic-content">
            <b>Bank Reconciliation</b>
            <small>Causes of difference &amp; BRS statement</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Reconcile differences between cash book and bank statement. Learn causes of disagreement, cheques in transit, direct debits/credits, and BRS preparation methods.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-hard"><i data-lucide="target" style="width:12px;height:12px"></i> Advanced</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 55 min</span>
          <span class="topic-tag"><i data-lucide="git-compare" style="width:12px;height:12px"></i> Matching</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">760</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.5</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Rectification -->
      <div class="topic reveal" data-topic="rectification">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">🔧</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="wrench"></i></div>
          <div class="topic-content">
            <b>Rectification of Errors</b>
            <small>Before/after trial balance correction</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Learn to identify and correct accounting errors. Understand one-sided, two-sided errors, suspense accounts, and rectification entries before and after closing.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-hard"><i data-lucide="target" style="width:12px;height:12px"></i> Advanced</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 45 min</span>
          <span class="topic-tag"><i data-lucide="alert-triangle" style="width:12px;height:12px"></i> Error Types</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">650</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.4</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- GST -->
      <div class="topic reveal" data-topic="gst">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">🧾</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="receipt"></i></div>
          <div class="topic-content">
            <b>Accounting for GST</b>
            <small>CGST, SGST, IGST accounting</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Goods and Services Tax accounting in India. Learn Input Tax Credit, Output Tax, CGST, SGST, IGST, inter-state vs intra-state transactions, and GST journal entries.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-medium"><i data-lucide="flame" style="width:12px;height:12px"></i> Intermediate</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 40 min</span>
          <span class="topic-tag"><i data-lucide="badge-indian-rupee" style="width:12px;height:12px"></i> Tax</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.4K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.7</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>

      <!-- Final Accounts -->
      <div class="topic reveal" data-topic="final-accounts">
        <div class="topic-glow"></div>
        <div class="topic-shine"></div>
        <div class="topic-3d-badge">📊</div>
        <div class="topic-header">
          <div class="topic-icon"><i data-lucide="bar-chart"></i></div>
          <div class="topic-content">
            <b>Final Accounts (Intro)</b>
            <small>Trading, P&amp;L, Balance Sheet</small>
          </div>
        </div>
        <div class="topic-description">
          <p>Prepare financial statements from trial balance. Learn Trading Account (Gross Profit), Profit &amp; Loss Account (Net Profit), and Balance Sheet preparation with adjustments.</p>
        </div>
        <div class="topic-meta">
          <span class="topic-tag difficulty-hard"><i data-lucide="target" style="width:12px;height:12px"></i> Advanced</span>
          <span class="topic-tag"><i data-lucide="clock" style="width:12px;height:12px"></i> 60 min</span>
          <span class="topic-tag"><i data-lucide="file-spreadsheet" style="width:12px;height:12px"></i> Statements</span>
        </div>
        <div class="topic-stats">
          <div class="topic-stat">
            <span class="stat-value">1.9K</span>
            <span class="stat-label">Learners</span>
          </div>
          <div class="topic-stat">
            <span class="stat-value">4.8</span>
            <span class="stat-label">Rating</span>
          </div>
        </div>
        <div class="topic-cta">
          <span>Start Learning</span>
          <i data-lucide="arrow-right" style="width:16px;height:16px"></i>
        </div>
        <div class="topic-progress"></div>
      </div>
    </div>

    <div class="cta-band reveal">
      <div class="cta-band-content">
        <div class="cta-illustration">
          <div class="cta-sparkles">
            <span class="cta-sparkle"></span>
            <span class="cta-sparkle"></span>
            <span class="cta-sparkle"></span>
          </div>
          <div class="cta-wizard">🧙</div>
          <div class="cta-sparkles">
            <span class="cta-sparkle"></span>
            <span class="cta-sparkle"></span>
            <span class="cta-sparkle"></span>
          </div>
        </div>
        <div class="left">
          <h3>Ready to become an Accounting Wizard?</h3>
          <p>Jump into lessons or try a quick quiz. Your progress will be saved to your account.</p>
        </div>
        <div class="actions">
          <a class="pill" href="lessons.html">Start Lessons</a>
          <a class="ghost" href="quiz.html">Quick Quiz</a>
        </div>
      </div>
    </div>

    <!-- Commerce Day Button -->
    <a href="commerce.html" class="commerce-day-btn">
        🔥 Commerce Day Portal
    </a>
  </section>

  <!-- Topic Modal -->
  <div class="modal-overlay" id="topicModal">
    <div class="modal">
      <div class="modal-header">
        <h3 id="modalTitle">Topic Title</h3>
        <button class="modal-close" id="modalClose">×</button>
      </div>
      <div class="modal-content" id="modalContent">
        <!-- Dynamic content will be inserted here -->
      </div>
    </div>
  </div>

  <!-- Account Modal -->
  <div class="modal-overlay" id="accountModal">
    <div class="modal account-modal">
      <div class="modal-header">
        <h3>My Account</h3>
        <button class="modal-close" id="accountModalClose">×</button>
      </div>
      <div class="modal-content">
        <img id="accountAvatar" src="" alt="User Avatar" class="account-avatar">
        <h2 id="accountName" class="account-name">User Name</h2>
        <p id="accountEmail" class="account-email">user@example.com</p>
        <div class="account-actions">
          <a href="profile.html" class="account-btn account-btn-primary">View Profile</a>
          <a href="progress.html" class="account-btn account-btn-secondary">My Progress</a>
          <button class="account-btn account-btn-secondary" id="resendVerifyBtn" style="display:none;" onclick="resendVerification()">📧 Resend Verification Email</button>
          <button class="account-btn account-btn-secondary" onclick="signOutUser()">Sign Out</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Auth Modal -->
  <div class="auth-modal-overlay" id="authModalOverlay">
    <div class="auth-modal">
      <div class="auth-modal-header">
        <button class="auth-close-btn" id="authModalClose">×</button>
        <div class="auth-logo">🧙</div>
        <h3 class="auth-modal-title" id="authModalTitle">Welcome Back</h3>
        <p class="auth-modal-subtitle" id="authModalSubtitle">Sign in to continue your learning journey</p>
      </div>

      <div class="auth-form">
        <div class="auth-form-group" id="nameGroup" style="display: none;">
          <label class="auth-form-label">Full Name</label>
          <div class="auth-input-wrapper">
            <span class="auth-input-icon">👤</span>
            <input type="text" class="auth-input" id="authName" placeholder="John Doe" autocomplete="name">
          </div>
          <p class="auth-error" id="nameError">Please enter your full name</p>
        </div>

        <div class="auth-form-group">
          <label class="auth-form-label">Email Address</label>
          <div class="auth-input-wrapper">
            <span class="auth-input-icon">✉️</span>
            <input type="email" class="auth-input" id="authEmail" placeholder="you@example.com" autocomplete="email">
          </div>
          <p class="auth-error" id="emailError">Please enter a valid email</p>
        </div>

        <div class="auth-form-group">
          <label class="auth-form-label">Password</label>
          <div class="auth-input-wrapper">
            <span class="auth-input-icon">🔒</span>
            <input type="password" class="auth-input" id="authPassword" placeholder="••••••••" autocomplete="current-password">
            <button type="button" class="auth-password-toggle" onclick="toggleAuthPassword('authPassword', 'authPasswordIcon')">
              <span id="authPasswordIcon">👁️</span>
            </button>
          </div>
          <p class="auth-error" id="passwordError">Password must be at least 6 characters</p>
        </div>

        <div class="auth-form-group" id="confirmPasswordGroup" style="display: none;">
          <label class="auth-form-label">Confirm Password</label>
          <div class="auth-input-wrapper">
            <span class="auth-input-icon">🔒</span>
            <input type="password" class="auth-input" id="authConfirmPassword" placeholder="••••••••" autocomplete="new-password">
            <button type="button" class="auth-password-toggle" onclick="toggleAuthPassword('authConfirmPassword', 'authConfirmPasswordIcon')">
              <span id="authConfirmPasswordIcon">👁️</span>
            </button>
          </div>
          <p class="auth-error" id="confirmPasswordError">Passwords do not match</p>
        </div>

        <div class="auth-forgot" id="forgotPasswordLink">
          <a href="#" onclick="handleForgotPassword(); return false;">Forgot password?</a>
        </div>

        <div style="margin-top: 24px;">
          <button class="auth-btn auth-btn-primary" id="authSubmitBtn" onclick="handleAuthSubmit()">
            <span id="authBtnText">Sign In</span>
          </button>
        </div>

        <div class="auth-divider">
          <span>Or continue with</span>
        </div>

        <button class="auth-btn auth-btn-google" onclick="handleGoogleAuth()">
          <svg width="20" height="20" viewBox="0 0 24 24">
            <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
            <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
            <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
            <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
          </svg>
          Continue with Google
        </button>
      </div>

      <div class="auth-modal-footer">
        <p id="authFooterText">
          Don't have an account? 
          <a href="#" onclick="toggleAuthMode(); return false;" id="authToggleLink">Sign Up</a>
        </p>
      </div>
    </div>
  </div>

  <footer>
    © <span id="year"></span> AccountsWizard • Made for Grade 11 learners • Trinno Asphalt • <a href="about.html">About</a>
  </footer>

  <!-- Inline SVG Icons - No external CDN needed, instant loading -->
  <script>
    // Define only the icons we need - much faster than loading entire Lucide library
    const lucideIcons = {
      'book-open': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>',
      'scale': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z"/><path d="M7 21h10"/><path d="M12 3v18"/><path d="M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2"/></svg>',
      'file-text': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/><polyline points="14 2 14 8 20 8"/><line x1="16" y1="13" x2="8" y2="13"/><line x1="16" y1="17" x2="8" y2="17"/><line x1="10" y1="9" x2="8" y2="9"/></svg>',
      'notebook': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 6h4"/><path d="M2 10h4"/><path d="M2 14h4"/><path d="M2 18h4"/><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="12" y1="6" x2="16" y2="6"/><line x1="12" y1="10" x2="16" y2="10"/><line x1="12" y1="14" x2="16" y2="14"/><line x1="12" y1="18" x2="16" y2="18"/></svg>',
      'book-copy': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M2 19V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v14"/><path d="M6 17H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v2"/><rect x="10" y="7" width="12" height="14" rx="2"/></svg>',
      'wallet': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12V7H5a2 2 0 0 1 0-4h14v4"/><path d="M3 5v14a2 2 0 0 0 2 2h16v-5"/><path d="M18 12a2 2 0 0 0 0 4h4v-4Z"/></svg>',
      'clipboard-list': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="8" y="2" width="8" height="4" rx="1" ry="1"/><path d="M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2"/><path d="M12 11h4"/><path d="M12 16h4"/><path d="M8 11h.01"/><path d="M8 16h.01"/></svg>',
      'trending-down': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polyline points="22 17 13.5 8.5 8.5 13.5 2 7"/><polyline points="16 17 22 17 22 11"/></svg>',
      'landmark': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="3" y1="22" x2="21" y2="22"/><line x1="6" y1="18" x2="6" y2="11"/><line x1="10" y1="18" x2="10" y2="11"/><line x1="14" y1="18" x2="14" y2="11"/><line x1="18" y1="18" x2="18" y2="11"/><polygon points="12 2 20 7 4 7"/></svg>',
      'wrench': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.7 6.3a1 1 0 0 0 0 1.4l1.6 1.6a1 1 0 0 0 1.4 0l3.77-3.77a6 6 0 0 1-7.94 7.94l-6.91 6.91a2.12 2.12 0 0 1-3-3l6.91-6.91a6 6 0 0 1 7.94-7.94l-3.76 3.76z"/></svg>',
      'receipt': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z"/><path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"/><path d="M12 17.5v-11"/></svg>',
      'bar-chart': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="12" y1="20" x2="12" y2="10"/><line x1="18" y1="20" x2="18" y2="4"/><line x1="6" y1="20" x2="6" y2="16"/></svg>',
      'zap': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/></svg>',
      'clock': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><polyline points="12 6 12 12 16 14"/></svg>',
      'calculator': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="4" y="2" width="16" height="20" rx="2"/><line x1="8" y1="6" x2="16" y2="6"/><line x1="16" y1="14" x2="16" y2="18"/><line x1="8" y1="10" x2="8" y2="10.01"/><line x1="12" y1="10" x2="12" y2="10.01"/><line x1="16" y1="10" x2="16" y2="10.01"/><line x1="8" y1="14" x2="8" y2="14.01"/><line x1="12" y1="14" x2="12" y2="14.01"/><line x1="8" y1="18" x2="8" y2="18.01"/><line x1="12" y1="18" x2="12" y2="18.01"/></svg>',
      'image': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg>',
      'flame': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z"/></svg>',
      'pen-tool': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m12 19 7-7 3 3-7 7-3-3z"/><path d="m18 13-1.5-7.5L2 2l3.5 14.5L13 18l5-5z"/><path d="m2 2 7.586 7.586"/><circle cx="11" cy="11" r="2"/></svg>',
      'layers': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="12 2 2 7 12 12 22 7 12 2"/><polyline points="2 17 12 22 22 17"/><polyline points="2 12 12 17 22 12"/></svg>',
      'columns': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="3" y="3" width="18" height="18" rx="2" ry="2"/><line x1="12" y1="3" x2="12" y2="21"/></svg>',
      'check-circle': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>',
      'target': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="10"/><circle cx="12" cy="12" r="6"/><circle cx="12" cy="12" r="2"/></svg>',
      'git-compare': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="18" cy="18" r="3"/><circle cx="6" cy="6" r="3"/><path d="M13 6h3a2 2 0 0 1 2 2v7"/><path d="M11 18H8a2 2 0 0 1-2-2V9"/></svg>',
      'alert-triangle': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z"/><line x1="12" y1="9" x2="12" y2="13"/><line x1="12" y1="17" x2="12.01" y2="17"/></svg>',
      'badge-indian-rupee': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z"/><path d="M8 8h8"/><path d="M8 12h8"/><path d="m13 17-5-5"/></svg>',
      'file-spreadsheet': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z"/><polyline points="14 2 14 8 20 8"/><path d="M8 13h2"/><path d="M8 17h2"/><path d="M14 13h2"/><path d="M14 17h2"/></svg>',
      'arrow-right': '<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>'
    };

    // Replace all data-lucide elements with inline SVGs
    document.addEventListener('DOMContentLoaded', function() {
      document.querySelectorAll('[data-lucide]').forEach(el => {
        const iconName = el.getAttribute('data-lucide');
        if (lucideIcons[iconName]) {
          el.innerHTML = lucideIcons[iconName];
          // Copy width/height styles to the SVG
          const svg = el.querySelector('svg');
          if (svg && el.style.width) svg.style.width = el.style.width;
          if (svg && el.style.height) svg.style.height = el.style.height;
        }
      });
    });
  </script>


  <!-- Firebase SDK -->
  <script type="module">
    import { initializeApp } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-app.js';
    import { 
      getAuth, 
      signInWithPopup, 
      GoogleAuthProvider, 
      onAuthStateChanged, 
      signOut,
      createUserWithEmailAndPassword,
      signInWithEmailAndPassword,
      sendPasswordResetEmail,
      sendEmailVerification, 
      updateProfile
    } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-auth.js';
    import { 
      getFirestore, 
      doc, 
      setDoc, 
      getDoc,
      serverTimestamp 
    } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-firestore.js';
    import { getAnalytics } from 'https://www.gstatic.com/firebasejs/10.8.0/firebase-analytics.js';

    // Firebase config
    const firebaseConfig = {
      apiKey: "AIzaSyAsVXny76jcd7XeAkErqdBW7l89B5T5nws",
      authDomain: "accountswizard-2025.firebaseapp.com",
      projectId: "accountswizard-2025",
      storageBucket: "accountswizard-2025.firebasestorage.app",
      messagingSenderId: "678121384731",
      appId: "1:678121384731:web:6c1cea60976976966f81be",
      measurementId: "G-YLYVNGL5T7"
    };

    // Initialize Firebase
    const app = initializeApp(firebaseConfig);
    const analytics = getAnalytics(app);
    const auth = getAuth(app);
    const db = getFirestore(app);
    const provider = new GoogleAuthProvider();

    // Export for global access
    window.firebaseAuth = auth;
    window.firebaseDb = db;

    // Helpers
    const query = (sel, root = document) => root.querySelector(sel);
    const queryAll = (sel, root = document) => [...root.querySelectorAll(sel)];

    // DOM elements
    const authBtn = query('#authBtn');
    const mobileAuthBtn = query('#mobileAuthBtn');
    const hamb = query('#hamb');
    const mobile = query('#mobile');
    const yearEl = query('#year');
    const topicModal = query('#topicModal');
    const modalTitle = query('#modalTitle');
    const modalContent = query('#modalContent');
    const modalClose = query('#modalClose');
    const floaterHost = query('#floaters');

    // Auth Modal Elements
    const authModalOverlay = query('#authModalOverlay');
    const authModalClose = query('#authModalClose');
    const nameGroup = query('#nameGroup');
    const confirmPasswordGroup = query('#confirmPasswordGroup');
    const forgotPasswordLink = query('#forgotPasswordLink');
    const authModalTitle = query('#authModalTitle');
    const authModalSubtitle = query('#authModalSubtitle');
    const authBtnText = query('#authBtnText');
    const authFooterText = query('#authFooterText');
    const authSubmitBtn = query('#authSubmitBtn');

    // Account Modal Elements
    const accountModal = query('#accountModal');
    const accountModalClose = query('#accountModalClose');
    const accountAvatar = query('#accountAvatar');
    const accountName = query('#accountName');
    const accountEmail = query('#accountEmail');

    // Auth state
    let authMode = 'signin';
    let currentUser = null;

    // Topic data - NCERT Aligned for Grade 11 Accountancy
    const topicData = {
      'basic-concepts': {
        title: 'Basic Accounting Concepts (NCERT Chapter 2)',
        content: `
          <p>Accounting concepts are the fundamental assumptions and rules that form the foundation of accounting. As per NCERT, these concepts ensure uniformity and consistency in recording financial transactions.</p>

          <h4>Fundamental Accounting Concepts:</h4>
          <ul>
            <li><strong>Business Entity Concept:</strong> The business is treated as a separate entity from its owner. Personal transactions of the owner are NOT recorded in business books. Example: If owner pays ₹5,000 from personal savings for shop rent, it's recorded as Capital introduced, not as owner's expense.</li>
            <li><strong>Money Measurement Concept:</strong> Only transactions that can be expressed in monetary terms are recorded. Events like employee loyalty, brand reputation, or manager's skills cannot be recorded as they can't be measured in money.</li>
            <li><strong>Going Concern Concept:</strong> It is assumed that the business will continue operations indefinitely. This is why we record assets at cost price (not selling price) and charge depreciation over useful life.</li>
            <li><strong>Accounting Period Concept:</strong> The indefinite life of business is divided into shorter periods (usually 1 year: April 1 to March 31 in India) for measuring profit/loss and financial position.</li>
            <li><strong>Cost Concept:</strong> Assets are recorded at their original purchase price (historical cost). Example: Land bought for ₹10 lakhs 10 years ago is still shown at ₹10 lakhs, even if current market value is ₹50 lakhs.</li>
            <li><strong>Dual Aspect Concept:</strong> Every transaction has two aspects - debit and credit of equal amount. This forms the basis of Double Entry System. Assets = Liabilities + Capital</li>
            <li><strong>Revenue Recognition (Realisation) Concept:</strong> Revenue is recognized only when it is earned (goods delivered/services rendered), not when cash is received. Example: Goods sold on credit - revenue recorded on sale date, not payment date.</li>
            <li><strong>Matching Concept:</strong> Expenses incurred to earn revenue should be matched with that revenue in the same accounting period. Example: If goods worth ₹1,00,000 are sold in March, the cost of those goods (say ₹70,000) must be recorded in March, not when purchased.</li>
            <li><strong>Full Disclosure Concept:</strong> All material information must be disclosed in financial statements. Nothing significant should be hidden from users of accounts.</li>
            <li><strong>Consistency Concept:</strong> Same accounting methods should be followed year after year. If depreciation is charged by SLM method, it should continue in future years.</li>
            <li><strong>Conservatism (Prudence) Concept:</strong> Anticipate no profits, but provide for all possible losses. Example: Stock is valued at Cost or Market Price, whichever is LOWER.</li>
            <li><strong>Materiality Concept:</strong> Only significant items need detailed treatment. Small items like a ₹50 duster can be expensed immediately rather than depreciated over years.</li>
          </ul>

          <h4>Accounting Standards (Important for Exams):</h4>
          <p>Accounting Standards are written policy documents issued by expert accounting bodies (ICAI in India) covering aspects of recognition, measurement, presentation, and disclosure of accounting transactions.</p>

          <h4>Key Terms to Remember:</h4>
          <ul>
            <li><strong>GAAP:</strong> Generally Accepted Accounting Principles</li>
            <li><strong>ICAI:</strong> Institute of Chartered Accountants of India</li>
            <li><strong>IFRS:</strong> International Financial Reporting Standards</li>
          </ul>

          <h4>Common Exam Questions:</h4>
          <ul>
            <li>Why is machinery not recorded at market value? (Cost Concept)</li>
            <li>Why do we create provision for doubtful debts? (Conservatism)</li>
            <li>Why can't we record brand value? (Money Measurement)</li>
          </ul>
        `
      },
      'accounting-equation': {
        title: 'Accounting Equation (NCERT Chapter 3)',
        content: `
          <p>The Accounting Equation shows the relationship between Assets, Liabilities, and Capital. It is the foundation of the Double Entry System and forms the basis of the Balance Sheet.</p>

          <h4>The Fundamental Equation:</h4>
          <p style="text-align:center; font-size:1.4rem; color:var(--ok); font-weight:900; margin:16px 0; padding:16px; background:rgba(39,225,163,.1); border-radius:12px;">
            Assets = Liabilities + Capital
          </p>

          <h4>Alternative Forms:</h4>
          <ul>
            <li><strong>Capital = Assets - Liabilities</strong> (Owner's claim on assets)</li>
            <li><strong>Liabilities = Assets - Capital</strong> (Outsiders' claim on assets)</li>
          </ul>

          <h4>Understanding Components:</h4>
          <ul>
            <li><strong>Assets:</strong> Economic resources owned by the business
              <ul>
                <li>Current Assets: Cash, Bank, Debtors, Stock, Prepaid expenses</li>
                <li>Fixed Assets: Land, Building, Machinery, Furniture, Vehicles</li>
                <li>Intangible Assets: Goodwill, Patents, Trademarks</li>
              </ul>
            </li>
            <li><strong>Liabilities:</strong> Obligations to pay to outsiders
              <ul>
                <li>Current Liabilities: Creditors, Bills Payable, Outstanding expenses, Bank Overdraft</li>
                <li>Long-term Liabilities: Loans, Debentures, Mortgage</li>
              </ul>
            </li>
            <li><strong>Capital:</strong> Owner's investment = Opening Capital + Additional Capital + Profit - Drawings - Losses</li>
          </ul>

          <h4>Effect of Transactions on Accounting Equation:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.9rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Transaction</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Assets</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Liabilities</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Capital</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Started business with ₹1,00,000</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">+1,00,000 (Cash)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">+1,00,000</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Bought furniture ₹20,000 cash</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">+20,000 (Furn) -20,000 (Cash)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Bought goods on credit ₹30,000</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">+30,000 (Stock)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">+30,000 (Creditors)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Paid rent ₹5,000</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">-5,000 (Cash)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">-5,000 (Expense)</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Received commission ₹2,000</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">+2,000 (Cash)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">+2,000 (Income)</td>
            </tr>
          </table>

          <h4>Important Rules:</h4>
          <ul>
            <li>The equation ALWAYS balances after every transaction</li>
            <li>Revenue/Income increases Capital</li>
            <li>Expenses/Losses decrease Capital</li>
            <li>Drawings (owner's withdrawal) decrease Capital</li>
          </ul>

          <h4>Practice Problem:</h4>
          <p>Mohan started business with ₹50,000 cash. He bought goods for ₹30,000 cash and ₹20,000 on credit. He sold goods costing ₹25,000 for ₹35,000 cash. Show the Accounting Equation after each transaction.</p>
        `
      },
      'source-documents': {
        title: 'Source Documents & Vouchers (NCERT Chapter 4)',
        content: `
          <p>Source documents are the original written evidence of business transactions. They form the basis for recording entries in the books of accounts and are legally important for audit and verification.</p>

          <h4>Types of Source Documents:</h4>

          <h5 style="color:var(--brand-2); margin-top:16px;">1. Cash Memo</h5>
          <ul>
            <li>Issued for CASH sales</li>
            <li>Given to customer at the time of sale</li>
            <li>Contains: Date, description of goods, quantity, rate, amount, signature</li>
            <li>Original to buyer, duplicate retained by seller</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">2. Invoice / Bill</h5>
          <ul>
            <li>Issued for CREDIT sales</li>
            <li>Sent by seller to buyer</li>
            <li>Contains: Invoice number, date, names of buyer & seller, description of goods, terms of payment, GST details</li>
            <li>Minimum 2 copies: Original (buyer), Duplicate (seller)</li>
            <li>For the SELLER: Invoice is evidence of sale (Sales Book)</li>
            <li>For the BUYER: Invoice is evidence of purchase (Purchases Book)</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">3. Receipt</h5>
          <ul>
            <li>Acknowledgment of money received</li>
            <li>Issued by the receiver of money to the payer</li>
            <li>Contains: Date, amount (in words & figures), purpose, signature</li>
            <li>Receipt numbers should be serial</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">4. Debit Note</h5>
          <ul>
            <li>Prepared by the BUYER</li>
            <li>Sent to seller when:</li>
            <ul>
              <li>Goods are returned to seller (Purchase Return)</li>
              <li>Overcharge in invoice detected</li>
              <li>Inferior quality goods received</li>
            </ul>
            <li>Indicates: Seller's account is DEBITED (reduced) in buyer's books</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">5. Credit Note</h5>
          <ul>
            <li>Prepared by the SELLER</li>
            <li>Sent to buyer when:</li>
            <ul>
              <li>Goods are returned by buyer (Sales Return)</li>
              <li>Overcharge admitted by seller</li>
              <li>Allowance given for damaged goods</li>
            </ul>
            <li>Indicates: Buyer's account is CREDITED (reduced) in seller's books</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">6. Pay-in-Slip</h5>
          <ul>
            <li>Used to deposit cash/cheques into bank</li>
            <li>Counterfoil retained by depositor as proof</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">7. Cheque</h5>
          <ul>
            <li>Written order to bank to pay specified amount</li>
            <li>Types: Bearer, Order, Crossed</li>
            <li>Parties: Drawer (who writes), Drawee (bank), Payee (who receives)</li>
          </ul>

          <h4>Accounting Vouchers:</h4>
          <p>Vouchers are internal documents prepared by the accountant based on source documents. Types:</p>
          <ul>
            <li><strong>Cash Voucher:</strong> For cash transactions (Receipt/Payment)</li>
            <li><strong>Non-Cash/Transfer Voucher:</strong> For non-cash transactions (credit purchases, depreciation)</li>
            <li><strong>Supporting Voucher:</strong> Original bills attached to main voucher</li>
          </ul>

          <h4>Importance of Source Documents:</h4>
          <ul>
            <li>Legal evidence of transactions</li>
            <li>Basis for recording in books</li>
            <li>Required for audit verification</li>
            <li>Helps in GST input tax credit claims</li>
            <li>Settlement of disputes</li>
          </ul>

          <h4>Remember for Exams:</h4>
          <p style="background:rgba(255,209,102,.1); padding:12px; border-radius:8px; border-left:4px solid var(--warn);">
            Debit Note → Sent by BUYER → Purchase Return<br>
            Credit Note → Sent by SELLER → Sales Return
          </p>
        `
      },
      'journal': {
        title: 'Journal Entries (NCERT Chapter 3 & 4)',
        content: `
          <p>The Journal is the book of original/prime/first entry where transactions are recorded in chronological order (date-wise) before being posted to the ledger. It's also called the "Day Book".</p>

          <h4>Format of Journal:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.85rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1); width:15%;">Date</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1); width:40%;">Particulars</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1); width:10%;">L.F.</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1); width:17%;">Debit (₹)</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1); width:18%;">Credit (₹)</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">2024<br>April 1</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cash A/c &nbsp;&nbsp;&nbsp;&nbsp;...Dr.<br>&nbsp;&nbsp;&nbsp;&nbsp;To Capital A/c<br><em>(Started business with cash)</em></td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">1<br>5</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">1,00,000</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"><br>1,00,000</td>
            </tr>
          </table>

          <h4>Rules of Debit and Credit (Golden Rules):</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Type of Account</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Debit</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Credit</th>
            </tr>
            <tr>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);"><strong>Personal A/c</strong><br>(Debtors, Creditors, Capital)</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--error);">The Receiver</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">The Giver</td>
            </tr>
            <tr>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);"><strong>Real A/c</strong><br>(Cash, Stock, Assets)</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--error);">What Comes In</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">What Goes Out</td>
            </tr>
            <tr>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);"><strong>Nominal A/c</strong><br>(Expenses, Incomes)</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--error);">Expenses & Losses</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">Incomes & Gains</td>
            </tr>
          </table>

          <h4>Modern Approach (Classification):</h4>
          <ul>
            <li><strong>Assets:</strong> Increase → Debit, Decrease → Credit</li>
            <li><strong>Liabilities:</strong> Increase → Credit, Decrease → Debit</li>
            <li><strong>Capital:</strong> Increase → Credit, Decrease → Debit</li>
            <li><strong>Revenue/Income:</strong> Credit</li>
            <li><strong>Expenses:</strong> Debit</li>
          </ul>

          <h4>Important Journal Entries (Learn These!):</h4>

          <p><strong>1. Starting Business:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Cash/Bank A/c        ...Dr.    [Amount]
    To Capital A/c                    [Amount]</pre>

          <p><strong>2. Purchase of Goods:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Purchases A/c        ...Dr.    [Amount]
    To Cash/Creditor A/c              [Amount]</pre>

          <p><strong>3. Sale of Goods:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Cash/Debtor A/c      ...Dr.    [Amount]
    To Sales A/c                      [Amount]</pre>

          <p><strong>4. Purchase Return:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Creditor A/c         ...Dr.    [Amount]
    To Purchase Return A/c            [Amount]</pre>

          <p><strong>5. Sales Return:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Sales Return A/c     ...Dr.    [Amount]
    To Debtor A/c                     [Amount]</pre>

          <p><strong>6. Payment of Expenses:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Rent/Salary/Wages A/c ...Dr.   [Amount]
    To Cash/Bank A/c                  [Amount]</pre>

          <p><strong>7. Receiving Income:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Cash/Bank A/c        ...Dr.    [Amount]
    To Commission/Interest A/c        [Amount]</pre>

          <p><strong>8. Drawings by Owner:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Drawings A/c         ...Dr.    [Amount]
    To Cash/Stock A/c                 [Amount]</pre>

          <p><strong>9. Depreciation:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Depreciation A/c     ...Dr.    [Amount]
    To Asset A/c                      [Amount]</pre>

          <h4>Compound Entry:</h4>
          <p>When a transaction affects more than two accounts:</p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Furniture A/c        ...Dr.    50,000
Cash A/c             ...Dr.    10,000
    To Ram's Capital A/c              60,000
(Ram started business with furniture ₹50,000 and cash ₹10,000)</pre>

          <h4>Opening Entry:</h4>
          <p>First entry of new year bringing forward old balances:</p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">All Asset A/cs       ...Dr.    [Amounts]
    To All Liability A/cs             [Amounts]
    To Capital A/c                    [Balancing figure]</pre>
        `
      },
      'ledger': {
        title: 'Ledger Posting (NCERT Chapter 4)',
        content: `
          <p>The Ledger is the principal book of accounts where all transactions from the journal are posted (transferred) to respective accounts. It is also called the "Book of Final Entry" or "Book of Secondary Entry".</p>

          <h4>Format of Ledger Account (T-Format):</h4>
          <div style="background:rgba(0,0,0,.3); padding:16px; border-radius:8px; margin:16px 0;">
            <p style="text-align:center; font-weight:700; margin-bottom:12px;">_________________ Account</p>
            <table style="width:100%; border-collapse:collapse;">
              <tr>
                <th colspan="4" style="border:1px solid rgba(255,255,255,.2); padding:8px; text-align:center;">Dr.</th>
                <th colspan="4" style="border:1px solid rgba(255,255,255,.2); padding:8px; text-align:center;">Cr.</th>
              </tr>
              <tr style="font-size:0.85rem;">
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">Date</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">Particulars</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">J.F.</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">Amt (₹)</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">Date</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">Particulars</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">J.F.</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px;">Amt (₹)</td>
              </tr>
            </table>
          </div>

          <h4>Rules for Posting:</h4>
          <ul>
            <li>Account DEBITED in Journal → Posted on DEBIT (Left) side of that account</li>
            <li>Account CREDITED in Journal → Posted on CREDIT (Right) side of that account</li>
            <li>In Particulars column, write the NAME of the OTHER account (not the same account)</li>
            <li>Use "To" for credit side entries and "By" for debit side entries</li>
          </ul>

          <h4>Example:</h4>
          <p>Journal Entry: Cash A/c Dr. 50,000 | To Sales A/c 50,000</p>
          <p>Posting in Cash Account:</p>
          <div style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; margin:8px 0;">
            <p style="text-align:center; font-weight:600;">Cash Account</p>
            <table style="width:100%; border-collapse:collapse; font-size:0.85rem;">
              <tr>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px; width:50%;">To Sales A/c &nbsp;&nbsp;&nbsp;&nbsp; 50,000</td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px; width:50%;"></td>
              </tr>
            </table>
          </div>

          <p>Posting in Sales Account:</p>
          <div style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; margin:8px 0;">
            <p style="text-align:center; font-weight:600;">Sales Account</p>
            <table style="width:100%; border-collapse:collapse; font-size:0.85rem;">
              <tr>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px; width:50%;"></td>
                <td style="border:1px solid rgba(255,255,255,.2); padding:6px; width:50%;">By Cash A/c &nbsp;&nbsp;&nbsp;&nbsp; 50,000</td>
              </tr>
            </table>
          </div>

          <h4>Balancing of Accounts:</h4>
          <ol>
            <li>Add both sides of the account</li>
            <li>Find the difference between two sides</li>
            <li>If Debit side > Credit side → Credit balance (write "By Balance c/d" on credit side)</li>
            <li>If Credit side > Debit side → Debit balance (write "To Balance c/d" on debit side)</li>
            <li>Write total on both sides (equal amounts)</li>
            <li>Bring down balance to next period as "To/By Balance b/d"</li>
          </ol>

          <h4>Types of Balances:</h4>
          <ul>
            <li><strong>Debit Balance:</strong> Assets, Expenses, Losses, Drawings, Debtors</li>
            <li><strong>Credit Balance:</strong> Liabilities, Capital, Income, Gains, Creditors</li>
          </ul>

          <h4>Difference: Journal vs Ledger</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.85rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Basis</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Journal</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Ledger</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Order</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Chronological (Date-wise)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Analytical (Account-wise)</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Entry</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Book of original entry</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Book of final entry</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Narration</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Required</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Not required</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Balancing</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Not done</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Done periodically</td>
            </tr>
          </table>

          <h4>Subdivision of Ledger:</h4>
          <ul>
            <li><strong>Debtors/Sales Ledger:</strong> Individual accounts of all debtors</li>
            <li><strong>Creditors/Purchase Ledger:</strong> Individual accounts of all creditors</li>
            <li><strong>General Ledger:</strong> All other accounts (assets, expenses, income)</li>
          </ul>
        `
      },
      'cash-book': {
        title: 'Cash Book (NCERT Chapter 5)',
        content: `
          <p>Cash Book is a special journal that records ALL cash and bank transactions. It serves as both Journal (book of original entry) and Ledger (no need for separate cash/bank account in ledger). It is also called a Subsidiary Book.</p>

          <h4>Types of Cash Book:</h4>

          <h5 style="color:var(--brand-2); margin-top:16px;">1. Simple/Single Column Cash Book</h5>
          <ul>
            <li>Only ONE amount column on each side</li>
            <li>Records only CASH transactions</li>
            <li>Debit side: All cash receipts</li>
            <li>Credit side: All cash payments</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">2. Double Column Cash Book (Cash & Bank)</h5>
          <ul>
            <li>TWO amount columns on each side (Cash + Bank)</li>
            <li>Records both cash AND bank transactions</li>
            <li>Most commonly used in practice</li>
          </ul>

          <h5 style="color:var(--brand-2); margin-top:16px;">3. Triple Column Cash Book (Cash, Bank & Discount)</h5>
          <ul>
            <li>THREE amount columns on each side</li>
            <li>Cash column, Bank column, Discount column</li>
            <li>Discount Allowed (Dr. side) - given to debtors</li>
            <li>Discount Received (Cr. side) - received from creditors</li>
          </ul>

          <h4>Format of Triple Column Cash Book:</h4>
          <div style="overflow-x:auto;">
            <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.75rem; min-width:600px;">
              <tr style="background:rgba(124,77,255,.2);">
                <th colspan="5" style="padding:8px; border:1px solid rgba(255,255,255,.1);">DEBIT (Receipts)</th>
                <th colspan="5" style="padding:8px; border:1px solid rgba(255,255,255,.1);">CREDIT (Payments)</th>
              </tr>
              <tr>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Date</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Particulars</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Disc.</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Cash</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Bank</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Date</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Particulars</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Disc.</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Cash</td>
                <td style="padding:6px; border:1px solid rgba(255,255,255,.1);">Bank</td>
              </tr>
            </table>
          </div>

          <h4>Contra Entry (Very Important!):</h4>
          <p style="background:rgba(0,229,255,.1); padding:12px; border-radius:8px; border-left:4px solid var(--brand-2);">
            A Contra Entry is when cash is deposited into bank OR cash is withdrawn from bank. It appears on BOTH sides of the cash book.
          </p>
          <ul>
            <li><strong>Cash deposited into bank:</strong> Bank (Dr.) | Cash (Cr.) - marked with "C" in L.F.</li>
            <li><strong>Cash withdrawn from bank:</strong> Cash (Dr.) | Bank (Cr.) - marked with "C" in L.F.</li>
            <li>"C" in L.F. column indicates Contra Entry (no posting to ledger needed)</li>
          </ul>

          <h4>Bank Overdraft:</h4>
          <ul>
            <li>When Bank column shows CREDIT balance (more payments than deposits)</li>
            <li>Shown on DEBIT side as "By Balance b/d" (to make it balance)</li>
            <li>It's a LIABILITY for the business</li>
          </ul>

          <h4>Petty Cash Book:</h4>
          <ul>
            <li>For recording small/petty expenses (postage, tea, stationery)</li>
            <li>Maintained by Petty Cashier</li>
            <li><strong>Imprest System:</strong> Fixed amount given to petty cashier, reimbursed when spent</li>
            <li>Example: ₹5,000 given on 1st. Spent ₹4,200. On 1st of next month, ₹4,200 reimbursed to make it ₹5,000 again.</li>
          </ul>

          <h4>Important Points:</h4>
          <ul>
            <li>Cash Book always shows DEBIT balance (you can't pay more cash than you have)</li>
            <li>Bank column can show Credit balance (overdraft)</li>
            <li>Discount columns are NOT balanced - totals transferred to P&L A/c</li>
            <li>Opening balance: Cash/Bank → Debit side, Overdraft → Credit side</li>
          </ul>

          <h4>Common Transactions:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.85rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Transaction</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Debit Side</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Credit Side</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cash Sales</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cash column</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cheque received from debtor</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Bank column</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Paid rent by cheque</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Bank column</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Paid to creditor, received discount</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">-</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cash + Disc. columns</td>
            </tr>
          </table>
        `
      },
      'trial-balance': {
        title: 'Trial Balance (NCERT Chapter 6)',
        content: `
          <p>A Trial Balance is a statement showing the debit and credit balances of ALL ledger accounts on a particular date. It is prepared to check the arithmetical accuracy of the books of accounts.</p>

          <h4>Purpose of Trial Balance:</h4>
          <ul>
            <li>To check arithmetical accuracy (Total Debits = Total Credits)</li>
            <li>To provide summary of all ledger balances</li>
            <li>To help in preparing Final Accounts</li>
            <li>To detect errors in recording/posting</li>
          </ul>

          <h4>Format of Trial Balance:</h4>
          <div style="background:rgba(0,0,0,.3); padding:16px; border-radius:8px; margin:16px 0;">
            <p style="text-align:center; font-weight:700;">Trial Balance of M/s XYZ as on 31st March, 2024</p>
            <table style="width:100%; border-collapse:collapse; margin-top:12px;">
              <tr style="background:rgba(124,77,255,.2);">
                <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Particulars</th>
                <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">L.F.</th>
                <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Debit (₹)</th>
                <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Credit (₹)</th>
              </tr>
            </table>
          </div>

          <h4>Items on DEBIT Side:</h4>
          <ul>
            <li>All Assets (Cash, Bank, Debtors, Stock, Furniture, Machinery, Building, Land)</li>
            <li>All Expenses (Rent, Salary, Wages, Carriage, Advertising, Insurance)</li>
            <li>All Losses (Bad Debts, Loss by Fire)</li>
            <li>Drawings</li>
            <li>Purchases, Purchase Returns (shown separately)</li>
            <li>Opening Stock</li>
          </ul>

          <h4>Items on CREDIT Side:</h4>
          <ul>
            <li>All Liabilities (Creditors, Loans, Bank Overdraft, Bills Payable)</li>
            <li>Capital</li>
            <li>All Incomes (Commission Received, Interest Received, Rent Received)</li>
            <li>All Gains (Profit on Sale of Asset)</li>
            <li>Sales, Sales Returns (shown separately)</li>
            <li>Provisions (for Depreciation, Bad Debts)</li>
          </ul>

          <h4>Errors NOT Disclosed by Trial Balance:</h4>
          <p style="background:rgba(255,71,87,.1); padding:12px; border-radius:8px; border-left:4px solid var(--error);">
            Even if Trial Balance tallies, these errors may exist:
          </p>
          <ol>
            <li><strong>Error of Omission:</strong> Transaction completely omitted (not recorded at all)</li>
            <li><strong>Error of Commission:</strong> Wrong amount in both accounts (₹560 written as ₹650)</li>
            <li><strong>Error of Principle:</strong> Wrong classification (Asset treated as Expense - Machinery debited to Repairs)</li>
            <li><strong>Compensating Errors:</strong> Two errors cancel each other out</li>
            <li><strong>Error of Original Entry:</strong> Wrong amount from source document</li>
            <li><strong>Error of Complete Reversal:</strong> Debit & Credit reversed (both sides equal but wrong)</li>
          </ol>

          <h4>Errors Disclosed by Trial Balance:</h4>
          <ul>
            <li>Posting only one aspect of a transaction</li>
            <li>Posting to wrong side of an account</li>
            <li>Wrong totaling/balancing of an account</li>
            <li>Wrong amount posted (in one account only)</li>
            <li>Omitting to post an account</li>
          </ul>

          <h4>Suspense Account:</h4>
          <ul>
            <li>When Trial Balance doesn't tally, difference is put in Suspense A/c</li>
            <li>It's a TEMPORARY account</li>
            <li>If Debit > Credit → Suspense A/c (Cr.)</li>
            <li>If Credit > Debit → Suspense A/c (Dr.)</li>
            <li>As errors are found and corrected, Suspense A/c gets eliminated</li>
          </ul>

          <h4>Methods of Preparing Trial Balance:</h4>
          <ol>
            <li><strong>Balance Method:</strong> Only closing balances are shown (most common)</li>
            <li><strong>Total Method:</strong> Total of debit and credit sides of each account</li>
            <li><strong>Balance cum Total Method:</strong> Both totals and balances shown</li>
          </ol>

          <h4>Important Points for Exams:</h4>
          <ul>
            <li>Trial Balance is NOT an account - it's a STATEMENT</li>
            <li>It can be prepared at any time, not just year-end</li>
            <li>Tallying of Trial Balance is necessary but not sufficient proof of accuracy</li>
            <li>Closing Stock is NOT shown in Trial Balance (it's calculated at year-end)</li>
          </ul>
        `
      },
      'depreciation': {
        title: 'Depreciation (NCERT Chapter 7)',
        content: `
          <p>Depreciation is the systematic allocation of the depreciable amount (cost - residual value) of an asset over its useful life. It represents the decrease in value of fixed assets due to use, wear and tear, passage of time, or obsolescence.</p>

          <h4>Causes of Depreciation:</h4>
          <ul>
            <li><strong>Wear and Tear:</strong> Physical deterioration from use</li>
            <li><strong>Efflux of Time:</strong> Passage of time (even if not used)</li>
            <li><strong>Obsolescence:</strong> New technology makes asset outdated</li>
            <li><strong>Accidents:</strong> Damage from accidents</li>
            <li><strong>Depletion:</strong> Extraction of natural resources (mines, oil wells)</li>
          </ul>

          <h4>Key Terms:</h4>
          <ul>
            <li><strong>Cost:</strong> Purchase price + installation + transport (all costs to make asset ready for use)</li>
            <li><strong>Residual/Scrap Value:</strong> Expected value at end of useful life</li>
            <li><strong>Depreciable Amount:</strong> Cost - Residual Value</li>
            <li><strong>Useful Life:</strong> Expected period of use OR expected units of production</li>
          </ul>

          <h4>Methods of Depreciation:</h4>

          <h5 style="color:var(--ok); margin-top:16px;">1. Straight Line Method (SLM) / Fixed Instalment Method</h5>
          <p style="text-align:center; font-size:1.1rem; color:var(--ok); font-weight:700; background:rgba(39,225,163,.1); padding:12px; border-radius:8px; margin:12px 0;">
            Annual Depreciation = (Cost - Residual Value) ÷ Useful Life
          </p>
          <ul>
            <li>Same amount charged every year</li>
            <li>Simple to calculate</li>
            <li>Suitable for assets with uniform utility (Furniture, Building)</li>
          </ul>
          <p><strong>Example:</strong> Machine cost ₹1,00,000, Scrap Value ₹10,000, Life 5 years</p>
          <p>Depreciation = (1,00,000 - 10,000) ÷ 5 = ₹18,000 per year</p>

          <h5 style="color:var(--warn); margin-top:16px;">2. Written Down Value (WDV) / Diminishing Balance Method</h5>
          <p style="text-align:center; font-size:1.1rem; color:var(--warn); font-weight:700; background:rgba(255,209,102,.1); padding:12px; border-radius:8px; margin:12px 0;">
            Depreciation = Rate % × Book Value at beginning of year
          </p>
          <ul>
            <li>Fixed RATE applied on REDUCING balance</li>
            <li>Higher depreciation in early years, lower in later years</li>
            <li>Suitable for assets losing more value initially (Machinery, Vehicles)</li>
            <li>Book Value = Cost - Accumulated Depreciation</li>
          </ul>
          <p><strong>Example:</strong> Machine ₹1,00,000, Rate 20% WDV</p>
          <ul style="font-size:0.9rem;">
            <li>Year 1: 20% of 1,00,000 = ₹20,000 (Book Value: ₹80,000)</li>
            <li>Year 2: 20% of 80,000 = ₹16,000 (Book Value: ₹64,000)</li>
            <li>Year 3: 20% of 64,000 = ₹12,800 (Book Value: ₹51,200)</li>
          </ul>

          <h4>Comparison: SLM vs WDV</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.85rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Basis</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">SLM</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">WDV</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Amount</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Fixed every year</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Decreasing every year</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Calculated on</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Original Cost</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Book Value</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Book Value</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Becomes Zero/Scrap</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Never becomes Zero</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Suitable for</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Patents, Furniture</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Machinery, Vehicles</td>
            </tr>
          </table>

          <h4>Journal Entries for Depreciation:</h4>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">1. Charging Depreciation:
   Depreciation A/c       ...Dr.    [Amount]
       To Asset A/c                      [Amount]

2. Transferring to P&L:
   Profit & Loss A/c      ...Dr.    [Amount]
       To Depreciation A/c               [Amount]</pre>

          <h4>Disposal of Asset:</h4>
          <ul>
            <li><strong>Profit on Sale:</strong> Sale Price > Book Value → Credit to P&L A/c</li>
            <li><strong>Loss on Sale:</strong> Sale Price < Book Value → Debit to P&L A/c</li>
          </ul>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">On Sale of Asset:
Bank/Cash A/c            ...Dr.    [Sale Price]
Accumulated Dep. A/c     ...Dr.    [Total Dep.]
Loss on Sale A/c         ...Dr.    [If Loss]
    To Asset A/c                       [Original Cost]
    To Profit on Sale A/c              [If Profit]</pre>
        `
      },
      'bank-reconciliation': {
        title: 'Bank Reconciliation Statement (NCERT Chapter 5)',
        content: `
          <p>Bank Reconciliation Statement (BRS) is a statement prepared to reconcile the difference between the balance shown in the Cash Book (Bank Column) and the balance shown in the Bank Statement/Passbook on a particular date.</p>

          <h4>Why Differences Arise:</h4>
          <p style="background:rgba(124,77,255,.1); padding:12px; border-radius:8px; margin:12px 0;">
            Cash Book is maintained by the BUSINESS, while Bank Statement is maintained by the BANK. Due to timing differences and certain transactions, balances may differ.
          </p>

          <h4>Causes of Difference:</h4>

          <h5 style="color:var(--brand-2);">A. Timing Differences (Affect both books eventually):</h5>
          <ol>
            <li><strong>Cheques Issued but Not Presented:</strong>
              <ul>
                <li>Business has credited Bank A/c (payment made)</li>
                <li>But cheque not yet presented to bank by receiver</li>
                <li>Bank balance higher in Passbook</li>
              </ul>
            </li>
            <li><strong>Cheques Deposited but Not Cleared/Collected:</strong>
              <ul>
                <li>Business has debited Bank A/c (deposit made)</li>
                <li>But bank hasn't credited yet (clearance takes time)</li>
                <li>Bank balance lower in Passbook</li>
              </ul>
            </li>
          </ol>

          <h5 style="color:var(--brand-2);">B. Transactions in Passbook Only (Not in Cash Book):</h5>
          <ol start="3">
            <li><strong>Bank Charges:</strong> Debited by bank, not yet recorded in Cash Book</li>
            <li><strong>Interest on Overdraft:</strong> Charged by bank</li>
            <li><strong>Interest Credited:</strong> Interest on deposits credited by bank</li>
            <li><strong>Direct Deposits:</strong> Customers pay directly to bank (ECS, NEFT)</li>
            <li><strong>Direct Payments:</strong> Standing instructions (insurance premium, EMI)</li>
            <li><strong>Dishonoured Cheques:</strong> Cheque deposited but bounced</li>
            <li><strong>Dividend/Interest Collected:</strong> Bank collects on behalf of business</li>
          </ol>

          <h5 style="color:var(--brand-2);">C. Errors:</h5>
          <ul>
            <li>Errors in Cash Book</li>
            <li>Errors in Bank Statement (rare, but possible)</li>
          </ul>

          <h4>Format of BRS (Starting from Cash Book Balance):</h4>
          <div style="background:rgba(0,0,0,.3); padding:16px; border-radius:8px; margin:16px 0;">
            <p style="text-align:center; font-weight:700;">Bank Reconciliation Statement as on ___________</p>
            <table style="width:100%; border-collapse:collapse; margin-top:12px; font-size:0.85rem;">
              <tr style="background:rgba(124,77,255,.2);">
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Particulars</th>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Add (₹)</th>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Less (₹)</th>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Balance as per Cash Book</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">XXX</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"></td>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cheques issued but not presented</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">XXX</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"></td>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cheques deposited but not cleared</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"></td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">XXX</td>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Bank charges not recorded</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"></td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">XXX</td>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Interest credited by bank</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">XXX</td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"></td>
              </tr>
              <tr style="background:rgba(39,225,163,.2);">
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"><strong>Balance as per Bank Statement</strong></td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"><strong>XXX</strong></td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1);"></td>
              </tr>
            </table>
          </div>

          <h4>Golden Rules for BRS:</h4>
          <p style="background:rgba(0,229,255,.1); padding:12px; border-radius:8px; border-left:4px solid var(--brand-2);">
            <strong>Starting from Cash Book (Favourable) Balance:</strong><br>
            • ADD items that INCREASE Bank balance<br>
            • DEDUCT items that DECREASE Bank balance
          </p>

          <h4>Quick Reference:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.8rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Item</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">From CB to Pass Book</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cheques issued not presented</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">ADD</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Cheques deposited not cleared</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">DEDUCT</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Bank charges (not in CB)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">DEDUCT</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Interest credited (not in CB)</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">ADD</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Direct deposit by customer</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">ADD</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Dishonoured cheque</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">DEDUCT</td>
            </tr>
          </table>

          <h4>Amended Cash Book:</h4>
          <p>Sometimes errors/omissions in Cash Book are corrected first by preparing an Amended Cash Book, then BRS is prepared from the amended balance.</p>
        `
      },
      'rectification': {
        title: 'Rectification of Errors (NCERT Chapter 6)',
        content: `
          <p>Errors may occur while recording transactions in the books of accounts. Rectification of Errors involves locating these errors and correcting them through proper journal entries.</p>

          <h4>Classification of Errors:</h4>

          <h5 style="color:var(--error); margin-top:16px;">A. Errors Affecting Trial Balance (One-Sided Errors):</h5>
          <ol>
            <li><strong>Wrong Casting (Totaling):</strong> Addition mistake in any book</li>
            <li><strong>Wrong Balancing:</strong> Incorrect balance of an account</li>
            <li><strong>Posting to Wrong Side:</strong> Debit posted as Credit or vice versa</li>
            <li><strong>Posting Wrong Amount:</strong> Different amount posted than recorded</li>
            <li><strong>Omission of Posting:</strong> Entry in journal but not posted to ledger</li>
            <li><strong>Double Posting:</strong> Same entry posted twice</li>
          </ol>

          <h5 style="color:var(--ok); margin-top:16px;">B. Errors NOT Affecting Trial Balance (Two-Sided Errors):</h5>
          <ol>
            <li><strong>Error of Omission:</strong> Transaction completely left out
              <ul><li>Example: Credit sale to Ram not recorded at all</li></ul>
            </li>
            <li><strong>Error of Commission:</strong> Correct accounts, wrong amount
              <ul><li>Example: ₹450 recorded as ₹540 in both accounts</li></ul>
            </li>
            <li><strong>Error of Principle:</strong> Wrong classification of account
              <ul><li>Example: Machinery (Asset) debited to Repairs (Expense)</li></ul>
            </li>
            <li><strong>Compensating Errors:</strong> Two errors cancel each other
              <ul><li>Example: Debit side excess ₹100, Credit side also excess ₹100</li></ul>
            </li>
            <li><strong>Error of Original Entry:</strong> Wrong from source document
              <ul><li>Example: Invoice was ₹500, recorded as ₹50 everywhere</li></ul>
            </li>
            <li><strong>Error of Complete Reversal:</strong> Debit and Credit exchanged
              <ul><li>Example: Cash received from Ram - Ram debited, Cash credited (wrong)</li></ul>
            </li>
          </ol>

          <h4>Methods of Rectification:</h4>

          <h5 style="color:var(--brand-2);">1. Before Preparing Trial Balance:</h5>
          <ul>
            <li>One-sided errors: Corrected by noting on the affected side</li>
            <li>Two-sided errors: Corrected by passing journal entry</li>
          </ul>

          <h5 style="color:var(--brand-2);">2. After Trial Balance (Suspense A/c Used):</h5>
          <ul>
            <li>When TB doesn't tally, difference put in Suspense A/c</li>
            <li>All one-sided errors rectified through Suspense A/c</li>
            <li>Suspense A/c gets eliminated when all errors corrected</li>
          </ul>

          <h4>Rectification Entries - Examples:</h4>

          <p><strong>1. Purchases Book overcast by ₹1,000:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Suspense A/c             ...Dr.    1,000
    To Purchases A/c                      1,000</pre>

          <p><strong>2. Sales to Mohan ₹500 not posted to his account:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Mohan A/c                ...Dr.    500
    To Suspense A/c                       500</pre>

          <p><strong>3. Furniture purchased ₹5,000 debited to Purchases A/c:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Furniture A/c            ...Dr.    5,000
    To Purchases A/c                      5,000</pre>

          <p><strong>4. Salary paid ₹3,000 debited to employee's personal account:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Salary A/c               ...Dr.    3,000
    To Employee A/c                       3,000</pre>

          <p><strong>5. Cash received from Hari ₹800 credited toHari's A/c:</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Hari A/c                 ...Dr.    1,600
    To Suspense A/c                       1,600
(Double the amount because error was on wrong side)</pre>

          <h4>Effect of Errors on Profit:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.85rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Error</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Effect on Profit</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Expense understated</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">Profit Overstated</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Expense overstated</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">Profit Understated</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Income understated</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">Profit Understated</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Income overstated</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--ok);">Profit Overstated</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Asset treated as Expense</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1); color:var(--error);">Profit Understated</td>
            </tr>
          </table>

          <h4>Important Points:</h4>
          <ul>
            <li>Suspense A/c is a TEMPORARY account</li>
            <li>If Suspense A/c has Debit balance → shown on Assets side of Balance Sheet</li>
            <li>If Suspense A/c has Credit balance → shown on Liabilities side</li>
            <li>After all errors corrected, Suspense A/c balance becomes NIL</li>
          </ul>
        `
      },
      'gst': {
        title: 'GST Accounting (NCERT Chapter 8)',
        content: `
          <p>Goods and Services Tax (GST) is an indirect tax levied on the supply of goods and services in India. It replaced multiple indirect taxes (Excise, VAT, Service Tax) and came into effect from July 1, 2017.</p>

          <h4>Types of GST:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Type</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Full Form</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">When Applicable</th>
              <th style="padding:10px; border:1px solid rgba(255,255,255,.1);">Collected By</th>
            </tr>
            <tr>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--brand-2); font-weight:700;">CGST</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Central GST</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Intra-state (within same state)</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Central Govt.</td>
            </tr>
            <tr>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--ok); font-weight:700;">SGST</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">State GST</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Intra-state (within same state)</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">State Govt.</td>
            </tr>
            <tr>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1); color:var(--warn); font-weight:700;">IGST</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Integrated GST</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Inter-state (between states)</td>
              <td style="padding:10px; border:1px solid rgba(255,255,255,.1);">Central Govt.</td>
            </tr>
          </table>

          <h4>Key Concepts:</h4>
          <ul>
            <li><strong>Input Tax:</strong> GST paid on PURCHASES (can be claimed as credit)</li>
            <li><strong>Output Tax:</strong> GST collected on SALES (to be paid to govt.)</li>
            <li><strong>Input Tax Credit (ITC):</strong> Input Tax can be set off against Output Tax</li>
            <li><strong>Net GST Payable:</strong> Output Tax - Input Tax Credit</li>
          </ul>

          <h4>GST Rate Structure:</h4>
          <p style="background:rgba(0,229,255,.1); padding:12px; border-radius:8px;">
            For Intra-state: If GST rate is 18%, then CGST = 9% and SGST = 9%<br>
            For Inter-state: IGST = 18% (full rate)
          </p>

          <h4>Journal Entries for GST:</h4>

          <p><strong>1. Purchase of Goods (Intra-state, GST 18%):</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Purchases A/c            ...Dr.    1,00,000
Input CGST A/c           ...Dr.        9,000
Input SGST A/c           ...Dr.        9,000
    To Creditor/Cash A/c                  1,18,000</pre>

          <p><strong>2. Sale of Goods (Intra-state, GST 18%):</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Debtor/Cash A/c          ...Dr.    1,18,000
    To Sales A/c                          1,00,000
    To Output CGST A/c                        9,000
    To Output SGST A/c                        9,000</pre>

          <p><strong>3. Inter-state Purchase (IGST 18%):</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Purchases A/c            ...Dr.    1,00,000
Input IGST A/c           ...Dr.       18,000
    To Creditor/Cash A/c                  1,18,000</pre>

          <p><strong>4. Inter-state Sale (IGST 18%):</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Debtor/Cash A/c          ...Dr.    1,18,000
    To Sales A/c                          1,00,000
    To Output IGST A/c                       18,000</pre>

          <p><strong>5. Payment of GST to Government (After Set-off):</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Output CGST A/c          ...Dr.    [Amount]
Output SGST A/c          ...Dr.    [Amount]
    To Input CGST A/c                     [Amount]
    To Input SGST A/c                     [Amount]
    To Cash/Bank A/c                      [Balance]</pre>

          <h4>ITC Set-off Rules:</h4>
          <table style="width:100%; border-collapse:collapse; margin:16px 0; font-size:0.85rem;">
            <tr style="background:rgba(124,77,255,.2);">
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Input Tax</th>
              <th style="padding:8px; border:1px solid rgba(255,255,255,.1);">Can be set off against</th>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Input CGST</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Output CGST, then Output IGST</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Input SGST</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Output SGST, then Output IGST</td>
            </tr>
            <tr>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Input IGST</td>
              <td style="padding:8px; border:1px solid rgba(255,255,255,.1);">Output IGST, then CGST, then SGST</td>
            </tr>
          </table>

          <h4>Treatment of GST in Final Accounts:</h4>
          <ul>
            <li><strong>Input GST (if ITC available):</strong> Shown as Current Asset in Balance Sheet</li>
            <li><strong>Output GST (payable):</strong> Shown as Current Liability in Balance Sheet</li>
            <li><strong>Purchases/Sales:</strong> Recorded at value EXCLUDING GST</li>
            <li><strong>GST Paid on Expenses:</strong> Can be claimed as ITC if business is registered</li>
          </ul>

          <h4>GST on Purchase/Sales Returns:</h4>
          <p><strong>Purchase Return (Debit Note):</strong></p>
          <pre style="background:rgba(0,0,0,.3); padding:12px; border-radius:8px; overflow-x:auto;">Creditor A/c             ...Dr.    [Gross Amount]
    To Purchase Return A/c                [Net Amount]
    To Input CGST A/c                     [CGST]
    To Input SGST A/c                     [SGST]</pre>

          <h4>Important Points for Exams:</h4>
          <ul>
            <li>GST is a DESTINATION based tax (collected where goods consumed)</li>
            <li>Registration mandatory if turnover exceeds ₹40 lakhs (₹20 lakhs for services)</li>
            <li>Composition scheme available for small businesses (up to ₹1.5 crore)</li>
            <li>GSTIN is 15-digit identification number</li>
          </ul>
        `
      },
      'final-accounts': {
        title: 'Final Accounts (NCERT Chapter 9 & 10)',
        content: `
          <p>Final Accounts are the financial statements prepared at the end of an accounting year to show the financial performance and position of a business. For a sole proprietor, Final Accounts consist of Trading Account, Profit & Loss Account, and Balance Sheet.</p>

          <h4>Components of Final Accounts:</h4>

          <h5 style="color:var(--brand-2); margin-top:16px;">1. Trading Account</h5>
          <ul>
            <li>Shows GROSS PROFIT or GROSS LOSS</li>
            <li>Gross Profit = Net Sales - Cost of Goods Sold</li>
            <li>Cost of Goods Sold = Opening Stock + Purchases - Closing Stock</li>
          </ul>

          <h5 style="color:var(--ok); margin-top:16px;">2. Profit & Loss Account</h5>
          <ul>
            <li>Shows NET PROFIT or NET LOSS</li>
            <li>Net Profit = Gross Profit + Other Incomes - Operating Expenses</li>
            <li>All indirect expenses and incomes are recorded here</li>
          </ul>

          <h5 style="color:var(--warn); margin-top:16px;">3. Balance Sheet</h5>
          <ul>
            <li>Shows FINANCIAL POSITION on a specific date</li>
            <li>Lists all Assets, Liabilities, and Capital</li>
            <li>Assets = Liabilities + Capital (must always balance)</li>
          </ul>

          <h4>Format of Trading Account:</h4>
          <div style="background:rgba(0,0,0,.3); padding:16px; border-radius:8px; margin:16px 0; overflow-x:auto;">
            <p style="text-align:center; font-weight:700;">Trading Account for the year ended 31st March, 2024</p>
            <table style="width:100%; border-collapse:collapse; margin-top:12px; font-size:0.8rem; min-width:500px;">
              <tr>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1); width:50%; text-align:left;">Dr. (Expenses)</th>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1); width:50%; text-align:left;">Cr. (Revenues)</th>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1); vertical-align:top;">
                  To Opening Stock<br>
                  To Purchases<br>
                  &nbsp;&nbsp;Less: Purchase Return<br>
                  To Carriage Inward<br>
                  To Wages<br>
                  To Factory Expenses<br>
                  To Gross Profit c/d<br>
                </td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1); vertical-align:top;">
                  By Sales<br>
                  &nbsp;&nbsp;Less: Sales Return<br>
                  By Closing Stock<br>
                  By Gross Loss c/d<br>
                </td>
              </tr>
            </table>
          </div>

          <h4>Format of Profit & Loss Account:</h4>
          <div style="background:rgba(0,0,0,.3); padding:16px; border-radius:8px; margin:16px 0; overflow-x:auto;">
            <p style="text-align:center; font-weight:700;">Profit & Loss Account for the year ended 31st March, 2024</p>
            <table style="width:100%; border-collapse:collapse; margin-top:12px; font-size:0.8rem; min-width:500px;">
              <tr>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1); width:50%; text-align:left;">Dr. (Expenses & Losses)</th>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1); width:50%; text-align:left;">Cr. (Incomes & Gains)</th>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1); vertical-align:top;">
                  To Gross Loss b/d<br>
                  To Salaries<br>
                  To Rent<br>
                  To Insurance<br>
                  To Depreciation<br>
                  To Bad Debts<br>
                  To Interest on Loan<br>
                  To Office Expenses<br>
                  To Net Profit (transferred to Capital)<br>
                </td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1); vertical-align:top;">
                  By Gross Profit b/d<br>
                  By Commission Received<br>
                  By Interest Received<br>
                  By Discount Received<br>
                  By Rent Received<br>
                  By Profit on Sale of Asset<br>
                  By Net Loss (transferred to Capital)<br>
                </td>
              </tr>
            </table>
          </div>

          <h4>Format of Balance Sheet:</h4>
          <div style="background:rgba(0,0,0,.3); padding:16px; border-radius:8px; margin:16px 0; overflow-x:auto;">
            <p style="text-align:center; font-weight:700;">Balance Sheet as on 31st March, 2024</p>
            <table style="width:100%; border-collapse:collapse; margin-top:12px; font-size:0.8rem; min-width:500px;">
              <tr>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1); width:50%; text-align:left;">Liabilities</th>
                <th style="padding:8px; border:1px solid rgba(255,255,255,.1); width:50%; text-align:left;">Assets</th>
              </tr>
              <tr>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1); vertical-align:top;">
                  <strong>Capital:</strong><br>
                  &nbsp;&nbsp;Opening Capital<br>
                  &nbsp;&nbsp;Add: Net Profit / Additional Capital<br>
                  &nbsp;&nbsp;Less: Drawings / Net Loss<br>
                  <strong>Long-term Liabilities:</strong><br>
                  &nbsp;&nbsp;Loans<br>
                  <strong>Current Liabilities:</strong><br>
                  &nbsp;&nbsp;Creditors<br>
                  &nbsp;&nbsp;Bills Payable<br>
                  &nbsp;&nbsp;Outstanding Expenses<br>
                  &nbsp;&nbsp;Bank Overdraft<br>
                </td>
                <td style="padding:8px; border:1px solid rgba(255,255,255,.1); vertical-align:top;">
                  <strong>Fixed Assets:</strong><br>
                  &nbsp;&nbsp;Land & Building<br>
                  &nbsp;&nbsp;Plant & Machinery<br>
                  &nbsp;&nbsp;Furniture<br>
                  &nbsp;&nbsp;(Less: Depreciation)<br>
                  <strong>Current Assets:</strong><br>
                  &nbsp;&nbsp;Closing Stock<br>
                  &nbsp;&nbsp;Debtors<br>
                  &nbsp;&nbsp;Bills Receivable<br>
                  &nbsp;&nbsp;Prepaid Expenses<br>
                  &nbsp;&nbsp;Cash in Hand<br>
                  &nbsp;&nbsp;Cash at Bank<br>
                </td>
              </tr>
            </table>
          </div>

          <h4>Important Adjustments:</h4>

          <p><strong>1. Closing Stock:</strong></p>
          <ul>
            <li>Credit side of Trading A/c (reduces cost)</li>
            <li>Asset side of Balance Sheet</li>
          </ul>

          <p><strong>2. Outstanding Expenses (Due but not paid):</strong></p>
          <ul>
            <li>ADD to respective expense in P&L A/c</li>
            <li>Show as Current Liability in Balance Sheet</li>
          </ul>

          <p><strong>3. Prepaid Expenses (Paid in advance):</strong></p>
          <ul>
            <li>DEDUCT from respective expense in P&L A/c</li>
            <li>Show as Current Asset in Balance Sheet</li>
          </ul>

          <p><strong>4. Accrued Income (Earned but not received):</strong></p>
          <ul>
            <li>ADD to respective income in P&L A/c</li>
            <li>Show as Current Asset in Balance Sheet</li>
          </ul>

          <p><strong>5. Income Received in Advance:</strong></p>
          <ul>
            <li>DEDUCT from respective income in P&L A/c</li>
            <li>Show as Current Liability in Balance Sheet</li>
          </ul>

          <p><strong>6. Depreciation:</strong></p>
          <ul>
            <li>Debit to P&L A/c (expense)</li>
            <li>DEDUCT from respective asset in Balance Sheet</li>
          </ul>

          <p><strong>7. Bad Debts:</strong></p>
          <ul>
            <li>Debit to P&L A/c</li>
            <li>DEDUCT from Debtors in Balance Sheet</li>
          </ul>

          <p><strong>8. Provision for Doubtful Debts:</strong></p>
          <ul>
            <li>Calculate on Debtors AFTER deducting bad debts</li>
            <li>Debit to P&L A/c</li>
            <li>Deduct from Debtors in Balance Sheet</li>
          </ul>

          <h4>Adjustment Entry Summary:</h4>
          <p style="background:rgba(0,229,255,.1); padding:12px; border-radius:8px; font-size:0.9rem;">
            <strong>Rule:</strong> If an adjustment affects both P&L and Balance Sheet, it appears in BOTH places. If it only affects one (like Closing Stock given outside Trial Balance), it appears in both Trading A/c and Balance Sheet.
          </p>
        `
      }
    };

    // ✅ AUTH STATE OBSERVER
    onAuthStateChanged(auth, (user) => {
      if (user) {
        currentUser = user;
        console.log('✅ User logged in:', user.email);
        updateAuthUI(user);
        saveUserData(user);
      } else {
        currentUser = null;
        console.log('👤 No user logged in');
        updateAuthUI(null);
      }
    });

    window.currentUser = () => currentUser;

    // ✅ SAVE USER DATA TO FIRESTORE
    async function saveUserData(user) {
      if (!user || !db) return;
      try {
        const userRef = doc(db, 'users', user.uid);
        const userSnap = await getDoc(userRef);

        if (!userSnap.exists()) {
          await setDoc(userRef, {
            name: user.displayName,
            email: user.email,
            photoURL: user.photoURL,
            createdAt: serverTimestamp(),
            lastLogin: serverTimestamp(),
            progress: {
              lessonsCompleted: [],
              quizScores: [],
              practiceAttempts: 0
            }
          });
          console.log('✅ New user created in Firestore');
        } else {
          await setDoc(userRef, {
            lastLogin: serverTimestamp()
          }, { merge: true });
          console.log('✅ User login time updated');
        }
      } catch (error) {
        console.error('❌ Error saving user:', error);
      }
    }

    // ✅ GOOGLE SIGN IN
    async function signInWithGoogle() {
      try {
        const result = await signInWithPopup(auth, provider);
        console.log('✅ Google sign-in successful:', result.user.email);
        toast(`Welcome ${result.user.displayName}! 🎉`);
        return result.user;
      } catch (error) {
        console.error('❌ Google sign-in error:', error);
        
        if (error.code === 'auth/popup-closed-by-user') {
          toast('Sign-in cancelled. Please try again.');
        } else if (error.code === 'auth/popup-blocked') {
          toast('Popup blocked! Please allow popups for this site.');
        } else {
          toast('Google sign-in failed. Please try again.');
        }
        return null;
      }
    }

    // ✅ SIGN OUT
    window.signOutUser = async function() {
      try {
        await signOut(auth);
        console.log('✅ Signed out successfully');
        toast('Signed out successfully!');
        closeAccountModal();
      } catch (error) {
        console.error('❌ Sign out error:', error);
        toast('Sign out failed.');
      }
    }

    // ✅ OPEN AUTH MODAL
    window.openAuthModal = function(mode = 'signin') {
      authMode = mode;
      updateAuthModalUI();
      if (authModalOverlay) authModalOverlay.classList.add('show');
    };

    // ✅ CLOSE AUTH MODAL
    function closeAuthModal() {
      if (authModalOverlay) authModalOverlay.classList.remove('show');
      clearAuthForm();
    }

    // Make closeAuthModal globally accessible
    window.closeAuthModal = closeAuthModal;

    // ✅ OPEN ACCOUNT MODAL
    window.openAccountModal = function() {
      if (!currentUser) {
        openAuthModal('signin');
        return;
      }
      
      if (accountModal && accountAvatar && accountName && accountEmail) {
        accountAvatar.src = currentUser.photoURL || 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2280%22 height=%2280%22 viewBox=%220 0 24 24%22%3E%3Cpath fill=%22%236366f1%22 d=%22M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z%22/%3E%3C/svg%3E';
        accountName.textContent = currentUser.displayName || 'User';
        accountEmail.textContent = currentUser.email;

        // Show resend button if email not verified
        const resendBtn = query('#resendVerifyBtn');
        if (resendBtn) {
          resendBtn.style.display = currentUser.emailVerified ? 'none' : 'block';
        }

        accountModal.classList.add('show');
      }
    };  

    // ✅ CLOSE ACCOUNT MODAL
    function closeAccountModal() {
      if (accountModal) accountModal.classList.remove('show');
    }

    if (accountModalClose) {
      accountModalClose.addEventListener('click', closeAccountModal);
    }

    if (accountModal) {
      accountModal.addEventListener('click', (e) => {
        if (e.target === accountModal) closeAccountModal();
      });
    }

    if (authModalClose) {
      authModalClose.addEventListener('click', closeAuthModal);
    }

    if (authModalOverlay) {
      authModalOverlay.addEventListener('click', (e) => {
        if (e.target === authModalOverlay) closeAuthModal();
      });
    }

    // ✅ TOGGLE SIGN IN / SIGN UP
    window.toggleAuthMode = function() {
      authMode = authMode === 'signin' ? 'signup' : 'signin';
      updateAuthModalUI();
      clearAuthForm();
    };

    // ✅ UPDATE MODAL UI
    function updateAuthModalUI() {
      if (authMode === 'signup') {
        if (authModalTitle) authModalTitle.textContent = 'Create Account';
        if (authModalSubtitle) authModalSubtitle.textContent = 'Start your accounting mastery today';
        if (authBtnText) authBtnText.textContent = 'Create Account';
        if (nameGroup) nameGroup.style.display = 'block';
        if (confirmPasswordGroup) confirmPasswordGroup.style.display = 'block';
        if (forgotPasswordLink) forgotPasswordLink.style.display = 'none';
        if (authFooterText) authFooterText.innerHTML = 'Already have an account? <a href="#" onclick="toggleAuthMode(); return false;">Sign In</a>';
      } else {
        if (authModalTitle) authModalTitle.textContent = 'Welcome Back';
        if (authModalSubtitle) authModalSubtitle.textContent = 'Sign in to continue your learning journey';
        if (authBtnText) authBtnText.textContent = 'Sign In';
        if (nameGroup) nameGroup.style.display = 'none';
        if (confirmPasswordGroup) confirmPasswordGroup.style.display = 'none';
        if (forgotPasswordLink) forgotPasswordLink.style.display = 'block';
        if (authFooterText) authFooterText.innerHTML = "Don't have an account? <a href=\"#\" onclick=\"toggleAuthMode(); return false;\">Sign Up</a>";
      }
    }

    // ✅ CLEAR FORM
    function clearAuthForm() {
      ['authName', 'authEmail', 'authPassword', 'authConfirmPassword'].forEach(id => {
        const el = query(`#${id}`);
        if (el) {
          el.value = '';
          el.classList.remove('error');
        }
      });
      
      ['nameError', 'emailError', 'passwordError', 'confirmPasswordError'].forEach(id => {
        const el = query(`#${id}`);
        if (el) el.classList.remove('show');
      });
    }

    // ✅ TOGGLE PASSWORD VISIBILITY
    window.toggleAuthPassword = function(inputId, iconId) {
      const input = query(`#${inputId}`);
      const icon = query(`#${iconId}`);
      if (input && icon) {
        if (input.type === 'password') {
          input.type = 'text';
          icon.textContent = '🙈';
        } else {
          input.type = 'password';
          icon.textContent = '👁️';
        }
      }
    };

    // ✅ VALIDATE FORM
    function validateAuthForm() {
      let isValid = true;
      
      const name = query('#authName');
      const email = query('#authEmail');
      const password = query('#authPassword');
      const confirmPassword = query('#authConfirmPassword');
      
      // Clear previous errors
      ['nameError', 'emailError', 'passwordError', 'confirmPasswordError'].forEach(id => {
        const el = query(`#${id}`);
        if (el) el.classList.remove('show');
      });
      
      [name, email, password, confirmPassword].forEach(el => {
        if (el) el.classList.remove('error');
      });
      
      if (authMode === 'signup' && name && !name.value.trim()) {
        name.classList.add('error');
        const nameError = query('#nameError');
        if (nameError) nameError.classList.add('show');
        isValid = false;
      }
      
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (email && (!email.value.trim() || !emailRegex.test(email.value))) {
        email.classList.add('error');
        const emailError = query('#emailError');
        if (emailError) emailError.classList.add('show');
        isValid = false;
      }
      
      if (password && (!password.value || password.value.length < 6)) {
        password.classList.add('error');
        const passwordError = query('#passwordError');
        if (passwordError) passwordError.classList.add('show');
        isValid = false;
      }
      
      if (authMode === 'signup' && confirmPassword && password && password.value !== confirmPassword.value) {
        confirmPassword.classList.add('error');
        const confirmPasswordError = query('#confirmPasswordError');
        if (confirmPasswordError) confirmPasswordError.classList.add('show');
        isValid = false;
      }
      
      return isValid;
    }

    // ✅ HANDLE EMAIL/PASSWORD SUBMIT
    window.handleAuthSubmit = async function() {
      if (!validateAuthForm()) return;
      
      const name = query('#authName')?.value.trim();
      const email = query('#authEmail')?.value.trim();
      const password = query('#authPassword')?.value;
      
      if (authSubmitBtn) authSubmitBtn.disabled = true;
      if (authBtnText) authBtnText.innerHTML = '<div class="auth-spinner"></div> Processing...';
      
      try {
        if (authMode === 'signup') {
          const userCredential = await createUserWithEmailAndPassword(auth, email, password);
          console.log('✅ User created:', userCredential.user.email);
          
          await updateProfile(userCredential.user, { displayName: name });
          console.log('✅ Display name set:', name);

          // Send verification email
          try {
            await sendEmailVerification(userCredential.user, {
              url: window.location.origin + '/index.html',
              handleCodeInApp: false
            });
            console.log('✅ Verification email sent to:', email);
            
            toast(`✅ Account created! Please check ${email} for verification link (check spam folder too).`);
            closeAuthModal();
          } catch (emailError) {
            console.error('❌ Email send error:', emailError);
            toast(`⚠️ Account created but email failed to send. Error: ${emailError.message}`);
          }
          return;
        } else {
          const userCredential = await signInWithEmailAndPassword(auth, email, password);
          console.log('✅ Signed in:', userCredential.user.email);

          // Show warning if not verified but allow access
          if (!userCredential.user.emailVerified) {
            toast('⚠️ Email not verified yet. Check your inbox and spam folder!');
          } else {
            toast(`Welcome back, ${userCredential.user.displayName || 'User'}! ✨`);
          }
          closeAuthModal();
        }
      } catch (error) {
        console.error('❌ Auth error:', error.code, error.message);
        
        let errorMsg = 'Authentication failed. Please try again.';
        
        if (error.code === 'auth/email-already-in-use') {
          errorMsg = 'This email is already registered. Try signing in instead.';
        } else if (error.code === 'auth/wrong-password' || error.code === 'auth/invalid-credential') {
          errorMsg = 'Incorrect password. Please try again.';
        } else if (error.code === 'auth/user-not-found') {
          errorMsg = 'No account found with this email. Sign up first!';
        } else if (error.code === 'auth/weak-password') {
          errorMsg = 'Password should be at least 6 characters.';
        } else if (error.code === 'auth/invalid-email') {
          errorMsg = 'Invalid email address format.';
        } else if (error.code === 'auth/network-request-failed') {
          errorMsg = 'Network error. Check your internet connection.';
        }
        
        toast(errorMsg);
      } finally {
        if (authSubmitBtn) authSubmitBtn.disabled = false;
        if (authBtnText) authBtnText.textContent = authMode === 'signin' ? 'Sign In' : 'Create Account';
      }
    };

    // ✅ HANDLE GOOGLE SIGN IN
    window.handleGoogleAuth = async function() {
      await signInWithGoogle();
      closeAuthModal();
    };

    // ✅ FORGOT PASSWORD
    window.handleForgotPassword = async function() {
      const email = query('#authEmail')?.value.trim();
      
      if (!email) {
        toast('Please enter your email address first.');
        return;
      }
      
      try {
        await sendPasswordResetEmail(auth, email);
        toast('Password reset email sent! Check your inbox.');
      } catch (error) {
        console.error('❌ Password reset error:', error);
        if (error.code === 'auth/user-not-found') {
          toast('No account found with this email address.');
        } else {
          toast('Failed to send reset email. Please try again.');
        }
      }
    };

    // ✅ UPDATE AUTH UI
    function updateAuthUI(user) {
      if (user) {
        // Update buttons to show account info
        if (authBtn) {
          authBtn.innerHTML = `
            <span style="display:flex;align-items:center;gap:6px;">
              <img src="${user.photoURL || 'data:image/svg+xml,%3Csvg xmlns=%22http://www.w3.org/2000/svg%22 width=%2224%22 height=%2224%22 viewBox=%220 0 24 24%22%3E%3Cpath fill=%22%230b1020%22 d=%22M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 3c1.66 0 3 1.34 3 3s-1.34 3-3 3-3-1.34-3-3 1.34-3 3-3zm0 14.2c-2.5 0-4.71-1.28-6-3.22.03-1.99 4-3.08 6-3.08 1.99 0 5.97 1.09 6 3.08-1.29 1.94-3.5 3.22-6 3.22z%22/%3E%3C/svg%3E'}" 
                   style="width:20px;height:20px;border-radius:50%;object-fit:cover;" 
                   alt="User">
              ${user.displayName?.split(' ')[0] || 'Account'}
            </span>
          `;
          authBtn.onclick = () => openAccountModal();
        }
        
        if (mobileAuthBtn) {
          mobileAuthBtn.textContent = user.displayName || 'My Account';
          mobileAuthBtn.onclick = () => {
            mobile.classList.remove('show');
            openAccountModal();
          };
        }
      } else {
        // Show sign in buttons
        if (authBtn) {
          authBtn.textContent = 'Sign In';
          authBtn.onclick = () => openAuthModal('signin');
        }
        
        if (mobileAuthBtn) {
          mobileAuthBtn.textContent = 'Sign In';
          mobileAuthBtn.onclick = () => {
            mobile.classList.remove('show');
            openAuthModal('signin');
          };
        }
      }
    }

    // ✅ TOAST NOTIFICATIONS
    function toast(message) {
      const toastEl = document.createElement('div');
      toastEl.className = 'toast';
      toastEl.textContent = message;
      document.body.appendChild(toastEl);
      
      setTimeout(() => toastEl.classList.add('show'), 10);
      setTimeout(() => {
        toastEl.classList.remove('show');
        setTimeout(() => toastEl.remove(), 300);
      }, 3000);
    }

    // Add toast styles
    const toastStyles = document.createElement('style');
    toastStyles.textContent = `
      .toast {
        position: fixed;
        bottom: 30px;
        left: 50%;
        transform: translateX(-50%) translateY(100px);
        background: linear-gradient(135deg, rgba(124,77,255,.95), rgba(0,229,255,.95));
        color: #0b1020;
        padding: 14px 20px;
        border-radius: 999px;
        font-weight: 700;
        font-size: 14px;
        box-shadow: 0 10px 30px rgba(0,0,0,.4);
        opacity: 0;
        transition: all .3s ease;
        z-index: 1000;
        max-width: 90%;
        text-align: center;
      }
      .toast.show {
        transform: translateX(-50%) translateY(0);
        opacity: 1;
      }
    `;
    document.head.appendChild(toastStyles);

    // ✅ RESEND VERIFICATION EMAIL
    window.resendVerification = async function() {
      const email = prompt('Enter your email address:');
      if (!email) return;
      
      const password = prompt('Enter your password:');
      if (!password) return;
      
      try {
        // Sign in temporarily
        const userCredential = await signInWithEmailAndPassword(auth, email, password);
        
        // Send verification
        await sendEmailVerification(userCredential.user);
        
        // Sign out
        await signOut(auth);
        
        toast('📧 Verification email sent! Check your inbox.');
      } catch (error) {
        toast('Failed to resend. Check your email and password.');
      }
    };

    // ✅ MOBILE MENU TOGGLE
    if (hamb && mobile) {
      hamb.addEventListener('click', () => {
        mobile.classList.toggle('show');
      });
    }

    // ✅ FLOATING BUBBLES
    function createFloaters() {
      if (!floaterHost) return;
      
      const colors = ['#7c4dff', '#00e5ff', '#ff7ac6', '#b7ff4a'];
      const count = window.innerWidth > 768 ? 12 : 8;
      
      for (let i = 0; i < count; i++) {
        const bubble = document.createElement('div');
        bubble.className = 'bubble';
        
        const size = Math.random() * 40 + 20;
        const color = colors[Math.floor(Math.random() * colors.length)];
        const x = Math.random() * 100;
        const duration = Math.random() * 20 + 15;
        const delay = Math.random() * -20;
        
        bubble.style.cssText = `
          width: ${size}px;
          height: ${size}px;
          left: ${x}%;
          background: ${color};
          --dur: ${duration}s;
          --sx: ${Math.random() * 20 - 10}px;
          --dx: ${Math.random() * 60 - 30}px;
          --sc: ${Math.random() * 0.3 + 0.8};
          animation-delay: ${delay}s;
        `;
        
        floaterHost.appendChild(bubble);
      }
    }

    // ✅ REVEAL ANIMATIONS
    function setupRevealAnimations() {
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('on');
          }
        });
      }, {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      });
      
      queryAll('.reveal').forEach(el => observer.observe(el));
    }

    // ✅ TOPIC MODAL
    queryAll('.topic').forEach(topic => {
      topic.addEventListener('click', () => {
        const topicKey = topic.dataset.topic;
        const data = topicData[topicKey];
        
        if (data && modalTitle && modalContent) {
          modalTitle.textContent = data.title;
          modalContent.innerHTML = data.content;
          topicModal.classList.add('show');
        }
      });
    });

    if (modalClose && topicModal) {
      modalClose.addEventListener('click', () => {
        topicModal.classList.remove('show');
      });
      
      topicModal.addEventListener('click', (e) => {
        if (e.target === topicModal) {
          topicModal.classList.remove('show');
        }
      });
    }

    // ✅ INITIALIZE
    document.addEventListener('DOMContentLoaded', () => {
      // Set current year
      if (yearEl) yearEl.textContent = new Date().getFullYear();
      
      // Create floating bubbles
      createFloaters();
      
      // Setup reveal animations
      setupRevealAnimations();
      
      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        // ESC to close modals
        if (e.key === 'Escape') {
          if (topicModal?.classList.contains('show')) {
            topicModal.classList.remove('show');
          }
          if (accountModal?.classList.contains('show')) {
            closeAccountModal();
          }
          if (authModalOverlay?.classList.contains('show')) {
            closeAuthModal();
          }
        }
        
        // Enter to submit auth form
        if (e.key === 'Enter' && authModalOverlay?.classList.contains('show')) {
          handleAuthSubmit();
        }
      });
      
      // Smooth scroll for anchor links
      document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener('click', function(e) {
          const href = this.getAttribute('href');
          if (href && href !== '#' && href !== '#0') {
            const target = document.querySelector(href);
            if (target) {
              e.preventDefault();
              target.scrollIntoView({
                behavior: 'smooth',
                block: 'start'
              });
            }
          }
        });
      });
      
      // Add animation to cards on hover
      queryAll('.card').forEach(card => {
        card.addEventListener('mouseenter', function() {
          this.style.transition = 'all 0.3s ease';
        });
      });
      
      // Analytics - Track page views
      if (window.gtag) {
        gtag('event', 'page_view', {
          page_title: 'Home',
          page_location: window.location.href,
          page_path: window.location.pathname
        });
      }
      
      console.log('🧙 AccountsWizard initialized!');
    });

    // ✅ PERFORMANCE OPTIMIZATION
    // Debounce function for scroll/resize events
    function debounce(func, wait) {
      let timeout;
      return function executedFunction(...args) {
        const later = () => {
          clearTimeout(timeout);
          func(...args);
        };
        clearTimeout(timeout);
        timeout = setTimeout(later, wait);
      };
    }

    // Optimize floating bubbles on resize
    window.addEventListener('resize', debounce(() => {
      if (floaterHost && window.innerWidth < 768) {
        const bubbles = floaterHost.querySelectorAll('.bubble');
        if (bubbles.length > 8) {
          for (let i = 8; i < bubbles.length; i++) {
            bubbles[i].remove();
          }
        }
      }
    }, 250));

    // ✅ EASTER EGG
    let konamiCode = [];
    const konamiPattern = ['ArrowUp', 'ArrowUp', 'ArrowDown', 'ArrowDown'];
    
    document.addEventListener('keydown', (e) => {
      konamiCode.push(e.key);
      konamiCode = konamiCode.slice(-10);
      
      if (konamiCode.join('') === konamiPattern.join('')) {
        toast('🎉 Konami Code Activated! You are a true wizard!');
        document.body.style.animation = 'float 2s ease-in-out';
        setTimeout(() => {
          document.body.style.animation = '';
        }, 2000);
      }
    });
  </script>
</body>
</html>