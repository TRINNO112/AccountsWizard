<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Bank Reconciliation Statement | AccountsWizard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <link rel="stylesheet" href="main.css">
  <style>
    /* ============================================
       ROOT VARIABLES & RESET
    ============================================ */
    :root {
      --bg: #0a0e1a;
      --bg-2: #0d1225;
      --card: #111633;
      --card-2: #151b3d;
      --muted: #a8b4e0;
      --brand: #6c5ce7;
      --brand-2: #00cec9;
      --accent: #fd79a8;
      --accent-2: #ffeaa7;
      --text: #f0f3ff;
      --success: #00b894;
      --warning: #fdcb6e;
      --error: #d63031;
      --info: #74b9ff;
      --radius: 16px;
      --radius-sm: 10px;
      --shadow: 0 20px 50px rgba(0,0,0,.5);
      --shadow-glow: 0 0 30px rgba(108,92,231,0.3);
      --speed: 0.3s;
    }

    * { 
      box-sizing: border-box; 
      margin: 0;
      padding: 0;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Segoe UI', -apple-system, BlinkMacSystemFont, Roboto, Arial, sans-serif;
      color: var(--text);
      background: var(--bg);
      min-height: 100vh;
      padding: 12px;
      overflow-x: hidden;
      position: relative;
      line-height: 1.6;
    }

    /* ============================================
       ANIMATED BACKGROUND
    ============================================ */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(ellipse at 10% 90%, rgba(108,92,231,0.15) 0%, transparent 50%),
        radial-gradient(ellipse at 90% 10%, rgba(0,206,201,0.12) 0%, transparent 50%),
        radial-gradient(ellipse at 50% 50%, rgba(253,121,168,0.08) 0%, transparent 60%);
      pointer-events: none;
      z-index: 0;
    }

    /* Floating Orbs */
    .orb {
      position: fixed;
      border-radius: 50%;
      pointer-events: none;
      z-index: 0;
      filter: blur(40px);
    }

    .orb-1 {
      top: 10%;
      left: 5%;
      width: 200px;
      height: 200px;
      background: rgba(108,92,231,0.2);
      animation: floatOrb1 15s ease-in-out infinite;
    }

    .orb-2 {
      bottom: 20%;
      right: 5%;
      width: 150px;
      height: 150px;
      background: rgba(0,206,201,0.2);
      animation: floatOrb2 18s ease-in-out infinite;
    }

    .orb-3 {
      top: 50%;
      right: 20%;
      width: 100px;
      height: 100px;
      background: rgba(253,121,168,0.15);
      animation: floatOrb3 20s ease-in-out infinite;
    }

    @keyframes floatOrb1 {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(30px, -40px) scale(1.1); }
      66% { transform: translate(-20px, 20px) scale(0.95); }
    }

    @keyframes floatOrb2 {
      0%, 100% { transform: translate(0, 0) scale(1); }
      50% { transform: translate(-40px, -30px) scale(1.15); }
    }

    @keyframes floatOrb3 {
      0%, 100% { transform: translate(0, 0); }
      25% { transform: translate(20px, 30px); }
      75% { transform: translate(-30px, -20px); }
    }

    /* Grid Pattern Overlay */
    .grid-pattern {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(108,92,231,0.03) 1px, transparent 1px),
        linear-gradient(90deg, rgba(108,92,231,0.03) 1px, transparent 1px);
      background-size: 50px 50px;
      pointer-events: none;
      z-index: 0;
    }

    /* ============================================
       NAVIGATION HEADER
    ============================================ */
    .nav-header {
      display: flex; 
      justify-content: space-between; 
      align-items: center;
      padding: 12px 16px; 
      background: linear-gradient(135deg, var(--card), var(--card-2));
      border-radius: var(--radius-sm);
      margin-bottom: 20px; 
      box-shadow: var(--shadow);
      position: relative;
      z-index: 10;
      border: 1px solid rgba(108,92,231,0.2);
      animation: slideDown 0.6s ease-out;
    }

    @keyframes slideDown {
      from { opacity: 0; transform: translateY(-30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .nav-header a {
      color: var(--muted); 
      text-decoration: none; 
      display: flex; 
      align-items: center;
      gap: 8px; 
      padding: 8px 14px; 
      border-radius: 8px; 
      transition: all var(--speed);
      font-size: 0.9rem;
      font-weight: 500;
    }

    .nav-header a:hover { 
      color: var(--text); 
      background: rgba(108,92,231,0.2);
      transform: translateY(-2px);
    }

    .nav-header a i {
      font-size: 1rem;
    }

    /* ============================================
       HEADER
    ============================================ */
    header { 
      text-align: center; 
      padding: 30px 15px;
      position: relative;
      z-index: 1;
      animation: fadeIn 0.8s ease-out;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .lesson-badge {
      display: inline-flex;
      align-items: center;
      gap: 8px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      padding: 6px 16px;
      border-radius: 20px;
      font-size: 0.8rem;
      font-weight: 600;
      margin-bottom: 15px;
      animation: pulse 2s ease-in-out infinite;
    }

    @keyframes pulse {
      0%, 100% { box-shadow: 0 0 0 0 rgba(108,92,231,0.4); }
      50% { box-shadow: 0 0 0 10px rgba(108,92,231,0); }
    }

    .lesson-title {
      font-size: 1.8rem; 
      font-weight: 800;
      background: linear-gradient(135deg, #fff 0%, var(--brand-2) 50%, var(--accent) 100%);
      background-size: 200% auto;
      -webkit-background-clip: text; 
      -webkit-text-fill-color: transparent;
      background-clip: text;
      animation: shineText 4s linear infinite;
      margin-bottom: 12px;
      line-height: 1.3;
      letter-spacing: -0.5px;
    }

    @keyframes shineText {
      to { background-position: 200% center; }
    }

    .lesson-subtitle {
      color: var(--muted);
      font-size: 1rem;
      max-width: 600px;
      margin: 0 auto 15px;
    }

    .breadcrumb { 
      color: var(--muted); 
      font-size: 0.85rem;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      flex-wrap: wrap;
    }

    .breadcrumb a { 
      color: var(--brand-2); 
      text-decoration: none;
      transition: color var(--speed);
    }

    .breadcrumb a:hover { 
      color: var(--text); 
    }

    .breadcrumb i {
      font-size: 0.7rem;
      color: var(--muted);
    }

    /* ============================================
       MAIN CONTENT & SECTIONS
    ============================================ */
    main {
      position: relative;
      z-index: 1;
      max-width: 100%;
    }

    section {
      background: linear-gradient(135deg, var(--card), var(--card-2));
      border-radius: var(--radius);
      padding: 24px 18px; 
      margin-bottom: 24px; 
      box-shadow: var(--shadow);
      position: relative;
      overflow: hidden;
      animation: fadeInUp 0.8s ease-out;
      border: 1px solid rgba(108,92,231,0.15);
      transition: all var(--speed);
    }

    section:hover {
      border-color: rgba(108,92,231,0.3);
      box-shadow: var(--shadow), var(--shadow-glow);
    }

    @keyframes fadeInUp {
      from { opacity: 0; transform: translateY(30px); }
      to { opacity: 1; transform: translateY(0); }
    }

    /* Section Glow Effect */
    section::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      height: 2px;
      background: linear-gradient(90deg, transparent, var(--brand), var(--brand-2), transparent);
      opacity: 0;
      transition: opacity var(--speed);
    }

    section:hover::before {
      opacity: 1;
    }

    section h2 {
      margin: 0 0 18px 0; 
      font-size: 1.4rem;
      font-weight: 700;
      display: flex;
      align-items: center;
      gap: 12px;
      color: var(--text);
    }

    section h2 .icon-box {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      font-size: 1.1rem;
      flex-shrink: 0;
    }

    section p { 
      line-height: 1.7; 
      color: var(--muted);
      font-size: 0.95rem;
    }

    section p strong {
      color: var(--text);
    }

    /* ============================================
       DEFINITION BOX
    ============================================ */
    .definition-box {
      background: linear-gradient(135deg, rgba(108,92,231,0.2), rgba(0,206,201,0.1));
      padding: 24px 20px;
      border-radius: var(--radius-sm);
      margin: 20px 0;
      border-left: 4px solid var(--brand);
      position: relative;
      overflow: hidden;
    }

    .definition-box::after {
      content: '"';
      position: absolute;
      top: -20px;
      right: 10px;
      font-size: 120px;
      font-family: Georgia, serif;
      color: rgba(108,92,231,0.1);
      pointer-events: none;
    }

    .definition-box h3 {
      margin: 0 0 12px 0;
      font-size: 1.1rem;
      display: flex;
      align-items: center;
      gap: 10px;
      color: var(--brand-2);
    }

    .definition-box h3 i {
      color: var(--brand);
    }

    .definition-box p {
      color: var(--text) !important;
      font-size: 1rem;
      line-height: 1.7;
      margin: 0;
      position: relative;
      z-index: 1;
    }

    /* ============================================
       INFO BOXES (Note, Warning, Error, Tip)
    ============================================ */
    .info-box {
      padding: 18px;
      border-radius: var(--radius-sm);
      margin: 18px 0;
      position: relative;
      overflow: hidden;
    }

    .info-box h4 {
      margin: 0 0 10px 0;
      font-size: 1rem;
      display: flex;
      align-items: center;
      gap: 10px;
    }

    .info-box p, .info-box ul {
      color: var(--muted);
      font-size: 0.9rem;
      line-height: 1.6;
      margin: 0;
    }

    .info-box ul {
      padding-left: 20px;
      margin-top: 10px;
    }

    .info-box li {
      margin-bottom: 6px;
    }

    /* Note Box */
    .note-box {
      background: linear-gradient(135deg, rgba(0,206,201,0.12), rgba(0,206,201,0.05));
      border-left: 4px solid var(--brand-2);
    }

    .note-box h4 {
      color: var(--brand-2);
    }

    /* Warning Box */
    .warning-box {
      background: linear-gradient(135deg, rgba(253,203,110,0.12), rgba(253,203,110,0.05));
      border-left: 4px solid var(--warning);
    }

    .warning-box h4 {
      color: var(--warning);
    }

    /* Error Box */
    .error-box {
      background: linear-gradient(135deg, rgba(214,48,49,0.12), rgba(214,48,49,0.05));
      border-left: 4px solid var(--error);
    }

    .error-box h4 {
      color: var(--error);
    }

    /* Tip Box */
    .tip-box {
      background: linear-gradient(135deg, rgba(116,185,255,0.12), rgba(116,185,255,0.05));
      border-left: 4px solid var(--info);
    }

    .tip-box h4 {
      color: var(--info);
    }

    /* Success Box */
    .success-box {
      background: linear-gradient(135deg, rgba(0,184,148,0.12), rgba(0,184,148,0.05));
      border-left: 4px solid var(--success);
    }

    .success-box h4 {
      color: var(--success);
    }

    /* ============================================
       CONCEPT CARDS GRID
    ============================================ */
    .concept-grid {
      display: grid;
      grid-template-columns: 1fr;
      gap: 16px;
      margin: 24px 0;
    }

    .concept-card {
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius-sm);
      padding: 20px;
      border: 2px solid rgba(255,255,255,0.08);
      transition: all var(--speed);
      position: relative;
      overflow: hidden;
    }

    .concept-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, rgba(108,92,231,0.05), transparent);
      opacity: 0;
      transition: opacity var(--speed);
    }

    .concept-card:hover {
      transform: translateY(-4px);
      border-color: var(--brand);
      box-shadow: 0 10px 30px rgba(108,92,231,0.2);
    }

    .concept-card:hover::before {
      opacity: 1;
    }

    .concept-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      color: white;
      margin-bottom: 15px;
      position: relative;
      z-index: 1;
    }

    .concept-card:nth-child(1) .concept-icon { background: linear-gradient(135deg, #6c5ce7, #a29bfe); }
    .concept-card:nth-child(2) .concept-icon { background: linear-gradient(135deg, #00cec9, #81ecec); }
    .concept-card:nth-child(3) .concept-icon { background: linear-gradient(135deg, #fd79a8, #fab1a0); }
    .concept-card:nth-child(4) .concept-icon { background: linear-gradient(135deg, #fdcb6e, #ffeaa7); }
    .concept-card:nth-child(5) .concept-icon { background: linear-gradient(135deg, #74b9ff, #a29bfe); }
    .concept-card:nth-child(6) .concept-icon { background: linear-gradient(135deg, #00b894, #55efc4); }

    .concept-title {
      color: var(--text);
      font-size: 1.05rem;
      font-weight: 700;
      margin-bottom: 10px;
      position: relative;
      z-index: 1;
    }

    .concept-desc {
      color: var(--muted);
      line-height: 1.6;
      font-size: 0.9rem;
      position: relative;
      z-index: 1;
    }

    /* ============================================
       COMPARISON TABLE
    ============================================ */
    .comparison-container {
      display: grid;
      grid-template-columns: 1fr;
      gap: 20px;
      margin: 24px 0;
    }

    .comparison-card {
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius-sm);
      padding: 20px;
      border: 2px solid rgba(255,255,255,0.08);
      transition: all var(--speed);
    }

    .comparison-card.cashbook {
      border-top: 4px solid var(--brand);
    }

    .comparison-card.passbook {
      border-top: 4px solid var(--brand-2);
    }

    .comparison-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 15px;
    }

    .comparison-icon {
      width: 45px;
      height: 45px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.2rem;
      color: white;
    }

    .cashbook .comparison-icon {
      background: linear-gradient(135deg, var(--brand), #a29bfe);
    }

    .passbook .comparison-icon {
      background: linear-gradient(135deg, var(--brand-2), #81ecec);
    }

    .comparison-title {
      font-size: 1.15rem;
      font-weight: 700;
      color: var(--text);
    }

    .comparison-subtitle {
      font-size: 0.85rem;
      color: var(--muted);
    }

    .comparison-list {
      list-style: none;
      padding: 0;
    }

    .comparison-list li {
      padding: 10px 0;
      border-bottom: 1px solid rgba(255,255,255,0.05);
      color: var(--muted);
      font-size: 0.9rem;
      display: flex;
      align-items: flex-start;
      gap: 10px;
    }

    .comparison-list li:last-child {
      border-bottom: none;
    }

    .comparison-list li i {
      color: var(--success);
      margin-top: 3px;
      flex-shrink: 0;
    }

    /* ============================================
       TABLES (Mobile Optimized)
    ============================================ */
    .table-wrapper {
      width: 100%;
      overflow-x: auto;
      -webkit-overflow-scrolling: touch;
      margin: 20px 0;
      border-radius: var(--radius-sm);
      background: rgba(0,0,0,0.2);
      padding: 2px;
    }

    .table-scroll-hint {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      color: var(--muted);
      font-size: 0.75rem;
      margin-top: 8px;
      font-style: italic;
    }

    .table-scroll-hint i {
      animation: swipeHint 1.5s ease-in-out infinite;
    }

    @keyframes swipeHint {
      0%, 100% { transform: translateX(0); }
      50% { transform: translateX(5px); }
    }

    .brs-table {
      width: 100%;
      min-width: 450px;
      border-collapse: collapse;
      font-size: 0.85rem;
    }

    .brs-table th,
    .brs-table td {
      padding: 12px 10px;
      text-align: left;
      border: 1px solid rgba(255,255,255,0.1);
    }

    .brs-table th {
      background: linear-gradient(135deg, rgba(108,92,231,0.3), rgba(0,206,201,0.2));
      font-weight: 700;
      color: var(--text);
      text-align: center;
      position: sticky;
      top: 0;
      z-index: 1;
    }

    .brs-table tbody tr {
      transition: background var(--speed);
    }

    .brs-table tbody tr:hover {
      background: rgba(108,92,231,0.1);
    }

    .brs-table .particulars {
      text-align: left;
      padding-left: 15px;
    }

    .brs-table .amount {
      text-align: right;
      font-family: 'Consolas', 'Monaco', monospace;
      font-weight: 600;
    }

    .brs-table .add-item {
      color: var(--success);
    }

    .brs-table .less-item {
      color: var(--error);
    }

    .brs-table .total-row {
      background: rgba(108,92,231,0.2);
      font-weight: 700;
    }

    .brs-table .total-row td {
      border-top: 2px solid var(--brand);
    }

    .brs-table .header-row {
      background: rgba(0,206,201,0.15);
    }

    /* ============================================
       PROCESS STEPS
    ============================================ */
    .process-timeline {
      position: relative;
      margin: 30px 0;
      padding-left: 30px;
    }

    .process-timeline::before {
      content: '';
      position: absolute;
      left: 12px;
      top: 0;
      bottom: 0;
      width: 3px;
      background: linear-gradient(to bottom, var(--brand), var(--brand-2), var(--accent));
      border-radius: 3px;
    }

    .process-step {
      position: relative;
      margin-bottom: 25px;
      padding: 18px;
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius-sm);
      border: 1px solid rgba(255,255,255,0.08);
      transition: all var(--speed);
    }

    .process-step:hover {
      background: rgba(108,92,231,0.08);
      border-color: var(--brand);
      transform: translateX(5px);
    }

    .process-step::before {
      content: '';
      position: absolute;
      left: -24px;
      top: 22px;
      width: 14px;
      height: 14px;
      background: var(--brand);
      border-radius: 50%;
      border: 3px solid var(--bg);
      z-index: 1;
    }

    .process-step:nth-child(even)::before {
      background: var(--brand-2);
    }

    .step-number {
      display: inline-flex;
      align-items: center;
      justify-content: center;
      width: 28px;
      height: 28px;
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      border-radius: 50%;
      font-size: 0.85rem;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .step-title {
      font-size: 1.05rem;
      font-weight: 700;
      color: var(--text);
      margin-bottom: 8px;
    }

    .step-desc {
      color: var(--muted);
      font-size: 0.9rem;
      line-height: 1.6;
    }

    /* ============================================
       PRACTICAL CARDS
    ============================================ */
    .practical-card {
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius);
      padding: 24px 18px;
      margin: 20px 0;
      border: 2px solid rgba(255,255,255,0.08);
      transition: all var(--speed);
    }

    .practical-card:hover {
      border-color: var(--brand-2);
    }

    .practical-header {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      margin-bottom: 18px;
    }

    .practical-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.3rem;
      color: white;
      background: linear-gradient(135deg, var(--brand-2), var(--brand));
      flex-shrink: 0;
    }

    .practical-info {
      flex: 1;
    }

    .practical-title {
      color: var(--text);
      font-size: 1.15rem;
      font-weight: 700;
      margin: 0 0 5px 0;
      line-height: 1.3;
    }

    .practical-type {
      display: inline-block;
      padding: 4px 10px;
      background: rgba(0,206,201,0.2);
      border-radius: 20px;
      font-size: 0.75rem;
      color: var(--brand-2);
      font-weight: 600;
    }

    .practical-question {
      background: rgba(0,0,0,0.2);
      padding: 18px;
      border-radius: var(--radius-sm);
      margin-bottom: 15px;
    }

    .practical-question p {
      margin-bottom: 12px;
    }

    .practical-question p:last-child {
      margin-bottom: 0;
    }

    .question-list {
      list-style: none;
      padding: 0;
      margin-top: 12px;
    }

    .question-list li {
      padding: 8px 0;
      color: var(--muted);
      font-size: 0.9rem;
      display: flex;
      align-items: flex-start;
      gap: 10px;
      border-bottom: 1px dashed rgba(255,255,255,0.08);
    }

    .question-list li:last-child {
      border-bottom: none;
    }

    .question-list li .num {
      background: rgba(108,92,231,0.3);
      padding: 2px 8px;
      border-radius: 4px;
      font-size: 0.8rem;
      font-weight: 600;
      color: var(--brand-2);
      flex-shrink: 0;
    }

    .view-solution-btn {
      background: linear-gradient(135deg, var(--brand-2), var(--brand));
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.95rem;
      font-weight: 600;
      transition: all var(--speed);
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .view-solution-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(0,206,201,0.4);
    }

    .solution {
      display: none;
      background: rgba(108,92,231,0.08);
      border-radius: var(--radius-sm);
      padding: 20px 15px;
      margin-top: 18px;
      border: 1px solid rgba(108,92,231,0.2);
    }

    .solution.active {
      display: block;
      animation: expandDown 0.5s ease;
    }

    @keyframes expandDown {
      from { opacity: 0; transform: translateY(-10px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .solution h4 {
      color: var(--brand-2);
      margin-bottom: 15px;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .solution-steps {
      margin-bottom: 15px;
    }

    .solution-steps h5 {
      color: var(--text);
      font-size: 0.95rem;
      margin-bottom: 10px;
    }

    .solution-steps ul {
      list-style: none;
      padding: 0;
    }

    .solution-steps li {
      padding: 8px 0;
      color: var(--muted);
      font-size: 0.9rem;
      border-bottom: 1px dashed rgba(255,255,255,0.05);
    }

    /* ============================================
       MCQ SECTION STYLES
    ============================================ */
    .mcq-container {
      display: flex;
      flex-direction: column;
      gap: 24px;
    }

    .mcq {
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius-sm);
      padding: 20px;
      border: 2px solid rgba(255,255,255,0.08);
      transition: all var(--speed);
    }

    .mcq:hover {
      border-color: rgba(108,92,231,0.3);
    }

    .mcq-question {
      display: flex;
      gap: 12px;
      margin-bottom: 15px;
    }

    .mcq-num {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      padding: 6px 12px;
      border-radius: 8px;
      font-size: 0.85rem;
      font-weight: 700;
      flex-shrink: 0;
      height: fit-content;
    }

    .mcq-text {
      color: var(--text);
      font-size: 1rem;
      line-height: 1.6;
    }

    .mcq-options {
      display: flex;
      flex-direction: column;
      gap: 10px;
      padding-left: 0;
    }

    .mcq-option {
      display: none;
    }

    .mcq-label {
      display: flex;
      align-items: center;
      gap: 12px;
      padding: 12px 15px;
      background: rgba(255,255,255,0.03);
      border-radius: 8px;
      cursor: pointer;
      transition: all var(--speed);
      border: 2px solid transparent;
      font-size: 0.95rem;
      color: var(--muted);
    }

    .mcq-label:hover {
      background: rgba(108,92,231,0.1);
      border-color: rgba(108,92,231,0.3);
    }

    .mcq-option:checked + .mcq-label {
      background: rgba(108,92,231,0.15);
      border-color: var(--brand);
      color: var(--text);
    }

    .mcq-marker {
      width: 28px;
      height: 28px;
      border-radius: 50%;
      background: rgba(255,255,255,0.1);
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: 600;
      font-size: 0.85rem;
      flex-shrink: 0;
      transition: all var(--speed);
    }

    .mcq-option:checked + .mcq-label .mcq-marker {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
    }

    /* Quiz Buttons */
    .quiz-actions {
      display: flex;
      gap: 12px;
      margin-top: 30px;
      flex-wrap: wrap;
    }

    .quiz-btn {
      flex: 1;
      min-width: 140px;
      padding: 14px 24px;
      border: none;
      border-radius: 10px;
      cursor: pointer;
      font-size: 1rem;
      font-weight: 600;
      transition: all var(--speed);
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .quiz-btn.submit {
      background: linear-gradient(135deg, var(--brand), var(--brand-2));
      color: white;
    }

    .quiz-btn.submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(108,92,231,0.4);
    }

    .quiz-btn.submit:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .quiz-btn.retry {
      background: rgba(255,255,255,0.1);
      color: var(--text);
      border: 2px solid rgba(255,255,255,0.2);
      display: none;
    }

    .quiz-btn.retry:hover {
      background: rgba(255,255,255,0.15);
      border-color: var(--brand-2);
    }

    #quizResult {
      margin-top: 20px;
    }

    /* ============================================
       INTERACTIVE BRS BUILDER
    ============================================ */
    .brs-builder {
      background: rgba(255,255,255,0.02);
      border-radius: var(--radius);
      padding: 24px 18px;
      margin: 24px 0;
      border: 2px solid rgba(255,255,255,0.08);
    }

    .builder-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .builder-icon {
      width: 50px;
      height: 50px;
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.4rem;
      color: white;
      background: linear-gradient(135deg, var(--accent), var(--brand));
    }

    .builder-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: var(--text);
    }

    .builder-controls {
      display: flex;
      gap: 10px;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .builder-btn {
      padding: 10px 18px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 600;
      transition: all var(--speed);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .builder-btn.add {
      background: linear-gradient(135deg, var(--success), #55efc4);
      color: white;
    }

    .builder-btn.clear {
      background: rgba(214,48,49,0.2);
      color: var(--error);
      border: 2px solid var(--error);
    }

    .builder-btn:hover {
      transform: translateY(-2px);
    }

    .starting-balance {
      display: grid;
      grid-template-columns: 1fr;
      gap: 15px;
      margin-bottom: 20px;
      padding: 15px;
      background: rgba(108,92,231,0.1);
      border-radius: var(--radius-sm);
    }

    .balance-input-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .balance-input-group label {
      font-size: 0.9rem;
      color: var(--muted);
      font-weight: 600;
    }

    .balance-input-group select,
    .balance-input-group input {
      padding: 12px 15px;
      background: rgba(255,255,255,0.05);
      border: 2px solid rgba(255,255,255,0.1);
      border-radius: 8px;
      color: var(--text);
      font-size: 0.95rem;
      transition: all var(--speed);
    }

    .balance-input-group select:focus,
    .balance-input-group input:focus {
      outline: none;
      border-color: var(--brand-2);
      background: rgba(0,206,201,0.08);
    }

    .balance-input-group select option {
      background: var(--card);
      color: var(--text);
    }

    .builder-result {
      margin-top: 20px;
      padding: 20px;
      background: rgba(0,0,0,0.2);
      border-radius: var(--radius-sm);
    }

    .result-balance {
      font-size: 1.5rem;
      font-weight: 700;
      text-align: center;
      margin-top: 15px;
      padding: 15px;
      border-radius: 8px;
    }

    .result-balance.positive {
      background: rgba(0,184,148,0.2);
      color: var(--success);
      border: 2px solid var(--success);
    }

    .result-balance.negative {
      background: rgba(214,48,49,0.2);
      color: var(--error);
      border: 2px solid var(--error);
    }

    /* ============================================
       RESPONSIVE BREAKPOINTS
    ============================================ */
    @media (min-width: 480px) {
      .starting-balance {
        grid-template-columns: repeat(2, 1fr);
      }
    }

    @media (min-width: 768px) {
      body {
        padding: 20px;
      }

      .lesson-title {
        font-size: 2.5rem;
      }

      section {
        padding: 32px 28px;
      }

      section h2 {
        font-size: 1.6rem;
      }

      .concept-grid {
        grid-template-columns: repeat(2, 1fr);
        gap: 20px;
      }

      .comparison-container {
        grid-template-columns: repeat(2, 1fr);
      }

      .view-solution-btn {
        width: auto;
      }

      .quiz-actions {
        flex-wrap: nowrap;
      }

      .starting-balance {
        grid-template-columns: repeat(3, 1fr);
      }

      .table-scroll-hint {
        display: none;
      }
    }

    @media (min-width: 1024px) {
      main {
        max-width: 1100px;
        margin: 0 auto;
      }

      .concept-grid {
        grid-template-columns: repeat(3, 1fr);
      }

      .nav-header {
        padding: 14px 28px;
      }

      header {
        padding: 40px 20px;
      }

      .practical-header {
        flex-direction: row;
        align-items: center;
      }
    }

    @media (min-width: 1440px) {
      main {
        max-width: 1200px;
      }
    }

    /* Reduced Motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
      }
    }
  </style>
</head>
<body>
  <!-- Background Effects -->
  <div class="grid-pattern"></div>
  <div class="orb orb-1"></div>
  <div class="orb orb-2"></div>
  <div class="orb orb-3"></div>

  <!-- Navigation -->
  <div class="nav-header">
    <a href="../index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
    <a href="../lessons.html"><i class="fa-solid fa-book-open"></i><span>Lessons</span></a>
  </div>

  <!-- Header -->
  <header>
    <div class="lesson-badge">
      <i class="fas fa-graduation-cap"></i>
      Lesson 16
    </div>
    <h1 class="lesson-title">Bank Reconciliation Statement</h1>
    <p class="lesson-subtitle">Master the art of reconciling cash book and bank passbook balances</p>
    <div class="breadcrumb">
      <a href="../index.html">Home</a>
      <i class="fas fa-chevron-right"></i>
      <a href="../lessons.html">Lessons</a>
      <i class="fas fa-chevron-right"></i>
      <span>Bank Reconciliation Statement</span>
    </div>
  </header>

  <main>
    <!-- Introduction Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-university"></i></span>
        What is Bank Reconciliation Statement?
      </h2>
      
      <p style="margin-bottom: 20px;">
        Every business maintains a record of its banking transactions in two places: the <strong>Cash Book (Bank Column)</strong> maintained by the business, and the <strong>Pass Book (or Bank Statement)</strong> maintained by the bank. Ideally, both should show the same balance, but in practice, they often differ due to various reasons.
      </p>

      <div class="definition-box">
        <h3>
          <i class="fas fa-book-open"></i>
          Definition
        </h3>
        <p>
          A <strong>Bank Reconciliation Statement (BRS)</strong> is a statement prepared to reconcile the difference between the balance as per the Cash Book and the balance as per the Pass Book (Bank Statement) on a particular date. It explains the causes of difference and helps verify the accuracy of both records.
        </p>
      </div>

      <div class="note-box info-box">
        <h4><i class="fas fa-info-circle"></i> Simple Understanding</h4>
        <p>
          Think of BRS as a "bridge" that connects two different balances. If your Cash Book shows ₹50,000 and the Bank Statement shows ₹55,000, the BRS explains why there's a ₹5,000 difference and proves that both records are correct despite showing different amounts.
        </p>
      </div>

      <div class="comparison-container">
        <div class="comparison-card cashbook">
          <div class="comparison-header">
            <div class="comparison-icon">
              <i class="fas fa-book"></i>
            </div>
            <div>
              <div class="comparison-title">Cash Book (Bank Column)</div>
              <div class="comparison-subtitle">Maintained by Business</div>
            </div>
          </div>
          <ul class="comparison-list">
            <li><i class="fas fa-check"></i> Records all bank transactions from business perspective</li>
            <li><i class="fas fa-check"></i> Debit side shows receipts (deposits)</li>
            <li><i class="fas fa-check"></i> Credit side shows payments (withdrawals)</li>
            <li><i class="fas fa-check"></i> Debit balance = Favorable balance</li>
          </ul>
        </div>
        
        <div class="comparison-card passbook">
          <div class="comparison-header">
            <div class="comparison-icon">
              <i class="fas fa-landmark"></i>
            </div>
            <div>
              <div class="comparison-title">Pass Book / Bank Statement</div>
              <div class="comparison-subtitle">Maintained by Bank</div>
            </div>
          </div>
          <ul class="comparison-list">
            <li><i class="fas fa-check"></i> Records all transactions from bank's perspective</li>
            <li><i class="fas fa-check"></i> Credit side shows deposits (liability to bank)</li>
            <li><i class="fas fa-check"></i> Debit side shows withdrawals</li>
            <li><i class="fas fa-check"></i> Credit balance = Favorable for customer</li>
          </ul>
        </div>
      </div>

      <div class="warning-box info-box">
        <h4><i class="fas fa-exclamation-triangle"></i> Important Note</h4>
        <p>
          The entries are <strong>opposite</strong> in Cash Book and Pass Book! When you deposit money, it's a <em>Debit</em> in your Cash Book but a <em>Credit</em> in the Pass Book. This is because the bank treats your deposit as their liability (they owe you money).
        </p>
      </div>
    </section>

    <!-- Causes of Difference Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-search-dollar"></i></span>
        Causes of Difference Between Cash Book and Pass Book
      </h2>
      
      <p style="margin-bottom: 20px;">
        The difference between Cash Book balance and Pass Book balance arises due to <strong>timing differences</strong> in recording transactions. These causes can be classified into two main categories:
      </p>

      <div class="concept-grid">
        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-paper-plane"></i>
          </div>
          <div class="concept-title">Cheques Issued but Not Presented</div>
          <div class="concept-desc">
            When you issue a cheque, you immediately record it in Cash Book (credit). But the bank debits your account only when the cheque is presented for payment. Until then, Pass Book shows higher balance.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-hourglass-half"></i>
          </div>
          <div class="concept-title">Cheques Deposited but Not Collected</div>
          <div class="concept-desc">
            When you deposit a cheque, you record it immediately in Cash Book (debit). But the bank credits your account only after collection. Until collection, Cash Book shows higher balance.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-coins"></i>
          </div>
          <div class="concept-title">Bank Charges Debited by Bank</div>
          <div class="concept-desc">
            Banks charge fees for various services (maintenance, SMS alerts, cheque books). These are debited directly by the bank. Cash Book balance is higher until these charges are recorded.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-percentage"></i>
          </div>
          <div class="concept-title">Interest Credited by Bank</div>
          <div class="concept-desc">
            Interest earned on deposits is credited directly by bank. Pass Book shows higher balance until the interest is recorded in Cash Book.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-arrow-down"></i>
          </div>
          <div class="concept-title">Direct Deposits by Third Parties</div>
          <div class="concept-desc">
            When customers or debtors deposit money directly into your bank account (like NEFT/RTGS), Pass Book shows higher balance until you record it in Cash Book.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-arrow-up"></i>
          </div>
          <div class="concept-title">Direct Payments by Bank</div>
          <div class="concept-desc">
            Standing instructions for insurance premium, loan EMI, or utility bills. Bank makes payment directly. Cash Book shows higher balance until recorded.
          </div>
        </div>
      </div>

      <div class="tip-box info-box">
        <h4><i class="fas fa-lightbulb"></i> Memory Tip</h4>
        <ul>
          <li><strong>Timing Differences:</strong> Transactions recorded at different times (cheques issued/deposited)</li>
          <li><strong>Bank's Direct Entries:</strong> Transactions recorded only by bank (charges, interest, direct deposits/payments)</li>
          <li><strong>Errors:</strong> Mistakes in either book that need correction</li>
        </ul>
      </div>
    </section>

        <!-- Need & Importance Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-star"></i></span>
        Need and Importance of Bank Reconciliation Statement
      </h2>
      
      <p style="margin-bottom: 20px;">
        Preparing a Bank Reconciliation Statement is not just an accounting formality—it serves several crucial purposes for effective financial management and internal control.
      </p>

      <div class="concept-grid">
        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-check-double"></i>
          </div>
          <div class="concept-title">Verification of Accuracy</div>
          <div class="concept-desc">
            BRS helps verify the arithmetical accuracy of both Cash Book and Pass Book entries. Any discrepancy indicates errors that need investigation and correction.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-bug"></i>
          </div>
          <div class="concept-title">Detection of Errors</div>
          <div class="concept-desc">
            Helps identify errors such as wrong entries, omissions, duplicate entries, or transposition errors in either the Cash Book or bank records.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-shield-alt"></i>
          </div>
          <div class="concept-title">Prevention of Fraud</div>
          <div class="concept-desc">
            Regular reconciliation acts as a deterrent against fraud and embezzlement. Unauthorized transactions can be detected early through BRS.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-wallet"></i>
          </div>
          <div class="concept-title">Actual Bank Balance</div>
          <div class="concept-desc">
            Reveals the actual balance available with the bank, helping in better cash flow management and avoiding overdrafts or bounced cheques.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-clock"></i>
          </div>
          <div class="concept-title">Track Pending Items</div>
          <div class="concept-desc">
            Identifies cheques that haven't been presented or collected, helping follow up on delayed payments and receivables.
          </div>
        </div>

        <div class="concept-card">
          <div class="concept-icon">
            <i class="fas fa-file-invoice-dollar"></i>
          </div>
          <div class="concept-title">Update Cash Book</div>
          <div class="concept-desc">
            Helps in updating the Cash Book with entries that appear only in Pass Book, such as bank charges, interest, and direct deposits/payments.
          </div>
        </div>
      </div>

      <div class="success-box info-box">
        <h4><i class="fas fa-check-circle"></i> Best Practice</h4>
        <p>
          Organizations should prepare Bank Reconciliation Statement <strong>at least monthly</strong>, preferably at the end of each month. Large businesses with high transaction volumes may reconcile weekly or even daily for better control.
        </p>
      </div>
    </section>

    <!-- Procedure Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-list-ol"></i></span>
        Procedure for Preparing Bank Reconciliation Statement
      </h2>
      
      <p style="margin-bottom: 25px;">
        Follow these systematic steps to prepare an accurate Bank Reconciliation Statement:
      </p>

      <div class="process-timeline">
        <div class="process-step">
          <span class="step-number">1</span>
          <div class="step-title">Obtain Both Records</div>
          <div class="step-desc">
            Get the Cash Book (bank column) and the latest Bank Statement (Pass Book) for the same period. Ensure both are complete and up-to-date.
          </div>
        </div>

        <div class="process-step">
          <span class="step-number">2</span>
          <div class="step-title">Compare Entries</div>
          <div class="step-desc">
            Tick (✓) matching entries in both books. Start with deposits, then withdrawals. Use different colored ticks for easy identification.
          </div>
        </div>

        <div class="process-step">
          <span class="step-number">3</span>
          <div class="step-title">Identify Unticked Items</div>
          <div class="step-desc">
            List all unticked items from both books. These represent timing differences or errors that cause the difference in balances.
          </div>
        </div>

        <div class="process-step">
          <span class="step-number">4</span>
          <div class="step-title">Classify the Differences</div>
          <div class="step-desc">
            Categorize unticked items: Cheques issued but not presented, Cheques deposited but not collected, Bank charges, Interest, Direct deposits/payments, Errors.
          </div>
        </div>

        <div class="process-step">
          <span class="step-number">5</span>
          <div class="step-title">Prepare the BRS</div>
          <div class="step-desc">
            Start with one balance (Cash Book or Pass Book) and adjust it by adding or deducting the identified differences to arrive at the other balance.
          </div>
        </div>

        <div class="process-step">
          <span class="step-number">6</span>
          <div class="step-title">Verify the Result</div>
          <div class="step-desc">
            The adjusted balance should match the other book's balance. If it doesn't match, recheck for missed items or calculation errors.
          </div>
        </div>
      </div>

      <div class="note-box info-box">
        <h4><i class="fas fa-lightbulb"></i> Golden Rules for BRS</h4>
        <ul>
          <li><strong>Starting from Cash Book Balance:</strong> Add items that increase Pass Book balance, Deduct items that decrease Pass Book balance</li>
          <li><strong>Starting from Pass Book Balance:</strong> Add items that increase Cash Book balance, Deduct items that decrease Cash Book balance</li>
          <li>Remember: The effect is always OPPOSITE when starting from different balances!</li>
        </ul>
      </div>
    </section>

    <!-- Format Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-table"></i></span>
        Format of Bank Reconciliation Statement
      </h2>
      
      <p style="margin-bottom: 20px;">
        The Bank Reconciliation Statement can be prepared in different formats depending on the starting point. Here's the standard format:
      </p>

      <div class="table-wrapper">
        <table class="brs-table">
          <thead>
            <tr>
              <th style="width: 70%;">Particulars</th>
              <th style="width: 15%;">Add (₹)</th>
              <th style="width: 15%;">Less (₹)</th>
            </tr>
          </thead>
          <tbody>
            <tr class="header-row">
              <td class="particulars"><strong>Balance as per Cash Book (Debit Balance)</strong></td>
              <td class="amount">XX,XXX</td>
              <td class="amount">—</td>
            </tr>
            <tr>
              <td class="particulars add-item"><i class="fas fa-plus-circle"></i> Add: Cheques issued but not yet presented for payment</td>
              <td class="amount add-item">X,XXX</td>
              <td class="amount">—</td>
            </tr>
            <tr>
              <td class="particulars add-item"><i class="fas fa-plus-circle"></i> Add: Interest credited by bank (not recorded in Cash Book)</td>
              <td class="amount add-item">XXX</td>
              <td class="amount">—</td>
            </tr>
            <tr>
              <td class="particulars add-item"><i class="fas fa-plus-circle"></i> Add: Direct deposits by customers (not recorded in Cash Book)</td>
              <td class="amount add-item">X,XXX</td>
              <td class="amount">—</td>
            </tr>
            <tr>
              <td class="particulars add-item"><i class="fas fa-plus-circle"></i> Add: Cheques/Bills collected by bank (not recorded in Cash Book)</td>
              <td class="amount add-item">X,XXX</td>
              <td class="amount">—</td>
            </tr>
            <tr>
              <td class="particulars less-item"><i class="fas fa-minus-circle"></i> Less: Cheques deposited but not yet collected/credited</td>
              <td class="amount">—</td>
              <td class="amount less-item">X,XXX</td>
            </tr>
            <tr>
              <td class="particulars less-item"><i class="fas fa-minus-circle"></i> Less: Bank charges debited by bank (not recorded in Cash Book)</td>
              <td class="amount">—</td>
              <td class="amount less-item">XXX</td>
            </tr>
            <tr>
              <td class="particulars less-item"><i class="fas fa-minus-circle"></i> Less: Direct payments by bank (insurance, EMI, etc.)</td>
              <td class="amount">—</td>
              <td class="amount less-item">X,XXX</td>
            </tr>
            <tr>
              <td class="particulars less-item"><i class="fas fa-minus-circle"></i> Less: Cheques deposited but dishonoured</td>
              <td class="amount">—</td>
              <td class="amount less-item">X,XXX</td>
            </tr>
            <tr class="total-row">
              <td class="particulars"><strong>Balance as per Pass Book (Credit Balance)</strong></td>
              <td class="amount" colspan="2" style="text-align: center;"><strong>XX,XXX</strong></td>
            </tr>
          </tbody>
        </table>
        <div class="table-scroll-hint">
          <i class="fas fa-hand-point-right"></i> Swipe left to see full table
        </div>
      </div>

      <div class="warning-box info-box">
        <h4><i class="fas fa-exchange-alt"></i> If Starting from Pass Book Balance</h4>
        <p>
          When you start from Pass Book balance to arrive at Cash Book balance, the additions and deductions are <strong>reversed</strong>:
        </p>
        <ul style="margin-top: 10px;">
          <li>Items that were added above will be deducted</li>
          <li>Items that were deducted above will be added</li>
        </ul>
      </div>
    </section>

    <!-- Types of Balances Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-balance-scale"></i></span>
        Types of Balance Scenarios in BRS
      </h2>
      
      <p style="margin-bottom: 20px;">
        The Cash Book and Pass Book can show different types of balances. Understanding these scenarios is crucial for preparing accurate BRS:
      </p>

      <div class="comparison-container">
        <div class="comparison-card cashbook">
          <div class="comparison-header">
            <div class="comparison-icon">
              <i class="fas fa-plus"></i>
            </div>
            <div>
              <div class="comparison-title">Favorable Balance (Debit in Cash Book)</div>
              <div class="comparison-subtitle">Most Common Scenario</div>
            </div>
          </div>
          <ul class="comparison-list">
            <li><i class="fas fa-arrow-right"></i> Cash Book shows Debit Balance = Money in bank</li>
            <li><i class="fas fa-arrow-right"></i> Pass Book shows Credit Balance = Bank owes you</li>
            <li><i class="fas fa-arrow-right"></i> Both represent favorable position for the business</li>
            <li><i class="fas fa-arrow-right"></i> Normal situation for most businesses</li>
          </ul>
        </div>
        
        <div class="comparison-card passbook">
          <div class="comparison-header">
            <div class="comparison-icon">
              <i class="fas fa-minus"></i>
            </div>
            <div>
              <div class="comparison-title">Overdraft Balance (Credit in Cash Book)</div>
              <div class="comparison-subtitle">Overdraft/Loan Scenario</div>
            </div>
          </div>
          <ul class="comparison-list">
            <li><i class="fas fa-arrow-right"></i> Cash Book shows Credit Balance = You owe bank</li>
            <li><i class="fas fa-arrow-right"></i> Pass Book shows Debit Balance = Bank's claim on you</li>
            <li><i class="fas fa-arrow-right"></i> Both represent unfavorable position (overdraft)</li>
            <li><i class="fas fa-arrow-right"></i> Occurs when withdrawals exceed deposits</li>
          </ul>
        </div>
      </div>

      <div class="tip-box info-box">
        <h4><i class="fas fa-lightbulb"></i> Quick Reference for Adjustments</h4>
        <div class="table-wrapper" style="margin-top: 15px;">
          <table class="brs-table" style="min-width: 600px;">
            <thead>
              <tr>
                <th>Item</th>
                <th>Starting from CB (Dr.)</th>
                <th>Starting from PB (Cr.)</th>
                <th>Starting from CB (Cr.)</th>
                <th>Starting from PB (Dr.)</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Cheques issued but not presented</td>
                <td class="add-item">Add</td>
                <td class="less-item">Less</td>
                <td class="less-item">Less</td>
                <td class="add-item">Add</td>
              </tr>
              <tr>
                <td>Cheques deposited but not collected</td>
                <td class="less-item">Less</td>
                <td class="add-item">Add</td>
                <td class="add-item">Add</td>
                <td class="less-item">Less</td>
              </tr>
              <tr>
                <td>Bank charges not recorded in CB</td>
                <td class="less-item">Less</td>
                <td class="add-item">Add</td>
                <td class="add-item">Add</td>
                <td class="less-item">Less</td>
              </tr>
              <tr>
                <td>Interest credited not recorded in CB</td>
                <td class="add-item">Add</td>
                <td class="less-item">Less</td>
                <td class="less-item">Less</td>
                <td class="add-item">Add</td>
              </tr>
              <tr>
                <td>Direct deposit not recorded in CB</td>
                <td class="add-item">Add</td>
                <td class="less-item">Less</td>
                <td class="less-item">Less</td>
                <td class="add-item">Add</td>
              </tr>
              <tr>
                <td>Direct payment not recorded in CB</td>
                <td class="less-item">Less</td>
                <td class="add-item">Add</td>
                <td class="add-item">Add</td>
                <td class="less-item">Less</td>
              </tr>
            </tbody>
          </table>
        </div>
        <p style="margin-top: 10px; font-size: 0.85rem;">
          <strong>CB = Cash Book, PB = Pass Book, Dr. = Debit Balance, Cr. = Credit Balance</strong>
        </p>
      </div>
    </section>

    <!-- Practical Examples Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-calculator"></i></span>
        Practical Examples with Solutions
      </h2>
      
      <p style="margin-bottom: 25px;">
        Let's work through different types of BRS problems to understand the practical application:
      </p>

      <!-- Example 1: Simple BRS (Debit Balance) -->
      <div class="practical-card">
        <div class="practical-header">
          <div class="practical-icon">
            <i class="fas fa-file-alt"></i>
          </div>
          <div class="practical-info">
            <h3 class="practical-title">Example 1: BRS from Cash Book (Debit Balance)</h3>
            <span class="practical-type">Basic Level</span>
          </div>
        </div>
        
        <div class="practical-question">
          <p>
            On 31st March 2024, the Cash Book of M/s Sharma Enterprises showed a debit balance of ₹85,000. On comparing with the Pass Book, the following differences were found:
          </p>
          <ul class="question-list">
            <li><span class="num">1</span> Cheques issued but not presented for payment: ₹12,000</li>
            <li><span class="num">2</span> Cheques deposited but not yet collected: ₹8,500</li>
            <li><span class="num">3</span> Bank charges debited by bank: ₹350</li>
            <li><span class="num">4</span> Interest on fixed deposit credited by bank: ₹2,200</li>
            <li><span class="num">5</span> A customer directly deposited ₹15,000 in our bank account</li>
            <li><span class="num">6</span> Insurance premium paid by bank as per standing instruction: ₹4,500</li>
          </ul>
          <p style="margin-top: 15px;"><strong>Prepare a Bank Reconciliation Statement.</strong></p>
        </div>
        
        <button class="view-solution-btn" onclick="toggleSolution('example1', event)">
          <i class="fas fa-eye"></i> View Solution
        </button>
        
        <div id="example1-solution" class="solution">
          <h4><i class="fas fa-check-circle"></i> Solution</h4>
          
          <div class="solution-steps">
            <h5>Analysis of Items:</h5>
            <ul>
              <li>✅ Cheques issued but not presented → Add (increases PB balance)</li>
              <li>✅ Cheques deposited but not collected → Less (decreases PB balance)</li>
              <li>✅ Bank charges not in CB → Less (PB is lower)</li>
              <li>✅ Interest credited not in CB → Add (PB is higher)</li>
              <li>✅ Direct deposit not in CB → Add (PB is higher)</li>
              <li>✅ Insurance paid not in CB → Less (PB is lower)</li>
            </ul>
          </div>

          <div class="table-wrapper">
            <table class="brs-table">
              <thead>
                <tr>
                  <th colspan="3" style="text-align: center;">Bank Reconciliation Statement as on 31st March 2024</th>
                </tr>
                <tr>
                  <th style="width: 60%;">Particulars</th>
                  <th style="width: 20%;">Amount (₹)</th>
                  <th style="width: 20%;">Amount (₹)</th>
                </tr>
              </thead>
              <tbody>
                <tr class="header-row">
                  <td class="particulars"><strong>Balance as per Cash Book (Dr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>85,000</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Add:</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques issued but not presented</td>
                  <td class="amount add-item">12,000</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Interest credited by bank</td>
                  <td class="amount add-item">2,200</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Direct deposit by customer</td>
                  <td class="amount add-item">15,000</td>
                  <td class="amount add-item">29,200</td>
                </tr>
                <tr>
                  <td class="particulars"></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>1,14,200</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Less:</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques deposited but not collected</td>
                  <td class="amount less-item">8,500</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Bank charges</td>
                  <td class="amount less-item">350</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Insurance premium paid by bank</td>
                  <td class="amount less-item">4,500</td>
                  <td class="amount less-item">13,350</td>
                </tr>
                <tr class="total-row">
                  <td class="particulars"><strong>Balance as per Pass Book (Cr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>1,00,850</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Example 2: BRS from Pass Book (Credit Balance) -->
      <div class="practical-card">
        <div class="practical-header">
          <div class="practical-icon">
            <i class="fas fa-file-alt"></i>
          </div>
          <div class="practical-info">
            <h3 class="practical-title">Example 2: BRS from Pass Book (Credit Balance)</h3>
            <span class="practical-type">Intermediate Level</span>
          </div>
        </div>
        
        <div class="practical-question">
          <p>
            The Pass Book of M/s Gupta Traders showed a credit balance of ₹72,500 on 30th June 2024. Prepare BRS from the following information:
          </p>
          <ul class="question-list">
            <li><span class="num">1</span> Cheques issued but not yet presented: ₹18,000</li>
            <li><span class="num">2</span> Cheques deposited but not yet credited: ₹9,200</li>
            <li><span class="num">3</span> Bank collected dividend ₹3,500 on our behalf</li>
            <li><span class="num">4</span> A cheque of ₹6,000 deposited was dishonoured</li>
            <li><span class="num">5</span> Bank charges ₹450 debited by bank</li>
            <li><span class="num">6</span> Interest on overdraft debited by bank: ₹1,800</li>
          </ul>
          <p style="margin-top: 15px;"><strong>Find the balance as per Cash Book.</strong></p>
        </div>
        
        <button class="view-solution-btn" onclick="toggleSolution('example2', event)">
          <i class="fas fa-eye"></i> View Solution
        </button>
        
        <div id="example2-solution" class="solution">
          <h4><i class="fas fa-check-circle"></i> Solution</h4>
          
          <div class="solution-steps">
            <h5>Analysis (Starting from Pass Book - effects are reversed):</h5>
            <ul>
              <li>✅ Cheques issued but not presented → Less (CB is lower)</li>
              <li>✅ Cheques deposited but not credited → Add (CB is higher)</li>
              <li>✅ Dividend collected not in CB → Less (CB is lower)</li>
              <li>✅ Cheque dishonoured → Add (CB still shows it as received)</li>
              <li>✅ Bank charges not in CB → Add (CB is higher)</li>
              <li>✅ Interest on overdraft not in CB → Add (CB is higher)</li>
            </ul>
          </div>

          <div class="table-wrapper">
            <table class="brs-table">
              <thead>
                <tr>
                  <th colspan="3" style="text-align: center;">Bank Reconciliation Statement as on 30th June 2024</th>
                </tr>
                <tr>
                  <th style="width: 60%;">Particulars</th>
                  <th style="width: 20%;">Amount (₹)</th>
                  <th style="width: 20%;">Amount (₹)</th>
                </tr>
              </thead>
              <tbody>
                <tr class="header-row">
                  <td class="particulars"><strong>Balance as per Pass Book (Cr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>72,500</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Add:</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques deposited but not credited</td>
                  <td class="amount add-item">9,200</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheque dishonoured (not recorded in CB)</td>
                  <td class="amount add-item">6,000</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Bank charges not in CB</td>
                  <td class="amount add-item">450</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Interest on overdraft not in CB</td>
                  <td class="amount add-item">1,800</td>
                  <td class="amount add-item">17,450</td>
                </tr>
                <tr>
                  <td class="particulars"></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>89,950</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Less:</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques issued but not presented</td>
                  <td class="amount less-item">18,000</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Dividend collected by bank not in CB</td>
                  <td class="amount less-item">3,500</td>
                  <td class="amount less-item">21,500</td>
                </tr>
                <tr class="total-row">
                  <td class="particulars"><strong>Balance as per Cash Book (Dr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>68,450</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>

      <!-- Example 3: Overdraft Balance -->
      <div class="practical-card">
        <div class="practical-header">
          <div class="practical-icon">
            <i class="fas fa-file-alt"></i>
          </div>
          <div class="practical-info">
            <h3 class="practical-title">Example 3: BRS with Overdraft (Credit Balance in Cash Book)</h3>
            <span class="practical-type">Advanced Level</span>
          </div>
        </div>
        
        <div class="practical-question">
          <p>
            On 31st December 2024, the Cash Book of M/s Kumar & Sons showed an overdraft (credit balance) of ₹45,000. Prepare BRS from:
          </p>
          <ul class="question-list">
            <li><span class="num">1</span> Cheques issued but not presented: ₹22,000</li>
            <li><span class="num">2</span> Cheques deposited but not collected: ₹11,500</li>
            <li><span class="num">3</span> Interest on overdraft charged by bank: ₹2,800</li>
            <li><span class="num">4</span> A debtor directly deposited ₹8,000 in bank</li>
            <li><span class="num">5</span> Wrong credit given by bank: ₹5,000</li>
            <li><span class="num">6</span> Electricity bill paid by bank: ₹3,200</li>
          </ul>
          <p style="margin-top: 15px;"><strong>Find the balance as per Pass Book.</strong></p>
        </div>
        
        <button class="view-solution-btn" onclick="toggleSolution('example3', event)">
          <i class="fas fa-eye"></i> View Solution
        </button>
        
        <div id="example3-solution" class="solution">
          <h4><i class="fas fa-check-circle"></i> Solution</h4>
          
          <div class="solution-steps">
            <h5>Key Point for Overdraft:</h5>
            <p style="color: var(--warning); margin-bottom: 15px;">
              When Cash Book shows Credit Balance (overdraft), the effects are opposite to the normal debit balance scenario!
            </p>
            <ul>
              <li>✅ Cheques issued but not presented → Less (reduces overdraft in PB)</li>
              <li>✅ Cheques deposited but not collected → Add (increases overdraft in PB)</li>
              <li>✅ Interest on overdraft not in CB → Add (increases overdraft)</li>
              <li>✅ Direct deposit not in CB → Less (reduces overdraft)</li>
              <li>✅ Wrong credit by bank → Less (PB shows less overdraft wrongly)</li>
              <li>✅ Electricity paid not in CB → Add (increases overdraft)</li>
            </ul>
          </div>

          <div class="table-wrapper">
            <table class="brs-table">
              <thead>
                <tr>
                  <th colspan="3" style="text-align: center;">Bank Reconciliation Statement as on 31st December 2024</th>
                </tr>
                <tr>
                  <th style="width: 60%;">Particulars</th>
                  <th style="width: 20%;">Amount (₹)</th>
                  <th style="width: 20%;">Amount (₹)</th>
                </tr>
              </thead>
              <tbody>
                <tr class="header-row">
                  <td class="particulars"><strong>Overdraft as per Cash Book (Cr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>45,000</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Add (Increases Overdraft):</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques deposited but not collected</td>
                  <td class="amount add-item">11,500</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Interest on overdraft not in CB</td>
                  <td class="amount add-item">2,800</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Electricity bill paid by bank</td>
                  <td class="amount add-item">3,200</td>
                  <td class="amount add-item">17,500</td>
                </tr>
                <tr>
                  <td class="particulars"></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>62,500</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Less (Reduces Overdraft):</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques issued but not presented</td>
                  <td class="amount less-item">22,000</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Direct deposit by debtor not in CB</td>
                  <td class="amount less-item">8,000</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Wrong credit by bank (to be reversed)</td>
                  <td class="amount less-item">5,000</td>
                  <td class="amount less-item">35,000</td>
                </tr>
                <tr class="total-row">
                  <td class="particulars"><strong>Overdraft as per Pass Book (Dr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>27,500</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
          
          <div class="note-box info-box" style="margin-top: 15px;">
            <h4><i class="fas fa-info-circle"></i> Note on Wrong Credit</h4>
            <p>
              The wrong credit of ₹5,000 by bank means the Pass Book shows ₹5,000 less overdraft than it should. When this error is corrected, the overdraft will increase. But since we're adjusting from CB to PB, and PB currently shows less overdraft, we deduct it.
            </p>
          </div>
        </div>
      </div>

      <!-- Example 4: Errors in Recording -->
      <div class="practical-card">
        <div class="practical-header">
          <div class="practical-icon">
            <i class="fas fa-file-alt"></i>
          </div>
          <div class="practical-info">
            <h3 class="practical-title">Example 4: BRS with Recording Errors</h3>
            <span class="practical-type">Advanced Level</span>
          </div>
        </div>
        
        <div class="practical-question">
          <p>
            On 31st January 2025, M/s Patel Brothers' Cash Book showed a debit balance of ₹95,600. Prepare BRS considering:
          </p>
          <ul class="question-list">
            <li><span class="num">1</span> A cheque of ₹7,500 was entered twice in the Cash Book</li>
            <li><span class="num">2</span> A deposit of ₹4,800 was wrongly entered as ₹8,400 in Cash Book</li>
            <li><span class="num">3</span> Bank credited ₹10,000 to our account belonging to another customer</li>
            <li><span class="num">4</span> Cheques issued ₹16,000 not yet presented</li>
            <li><span class="num">5</span> Cheques deposited ₹12,500 not yet collected</li>
            <li><span class="num">6</span> A cheque of ₹3,000 recorded in CB was omitted to be banked</li>
          </ul>
        </div>
        
        <button class="view-solution-btn" onclick="toggleSolution('example4', event)">
          <i class="fas fa-eye"></i> View Solution
        </button>
        
        <div id="example4-solution" class="solution">
          <h4><i class="fas fa-check-circle"></i> Solution</h4>
          
          <div class="solution-steps">
            <h5>Analysis of Errors:</h5>
            <ul>
              <li>✅ Cheque entered twice (₹7,500) → CB is overstated → Less from CB balance</li>
              <li>✅ Deposit wrongly entered (₹8,400 instead of ₹4,800) → CB overstated by ₹3,600 → Less</li>
              <li>✅ Wrong credit by bank (₹10,000) → PB is overstated → Less</li>
              <li>✅ Cheques issued not presented (₹16,000) → Add</li>
              <li>✅ Cheques deposited not collected (₹12,500) → Less</li>
              <li>✅ Cheque omitted to be banked (₹3,000) → CB shows but PB doesn't → Less</li>
            </ul>
          </div>

          <div class="table-wrapper">
            <table class="brs-table">
              <thead>
                <tr>
                  <th colspan="3" style="text-align: center;">Bank Reconciliation Statement as on 31st January 2025</th>
                </tr>
                <tr>
                  <th style="width: 60%;">Particulars</th>
                  <th style="width: 20%;">Amount (₹)</th>
                  <th style="width: 20%;">Amount (₹)</th>
                </tr>
              </thead>
              <tbody>
                <tr class="header-row">
                  <td class="particulars"><strong>Balance as per Cash Book (Dr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>95,600</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Add:</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques issued but not presented</td>
                  <td class="amount add-item">16,000</td>
                  <td class="amount add-item">16,000</td>
                </tr>
                <tr>
                  <td class="particulars"></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>1,11,600</strong></td>
                </tr>
                <tr>
                  <td class="particulars"><strong>Less:</strong></td>
                  <td class="amount"></td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheque entered twice in CB</td>
                  <td class="amount less-item">7,500</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Excess deposit recorded (₹8,400 - ₹4,800)</td>
                  <td class="amount less-item">3,600</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Wrong credit by bank</td>
                  <td class="amount less-item">10,000</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheques deposited but not collected</td>
                  <td class="amount less-item">12,500</td>
                  <td class="amount"></td>
                </tr>
                <tr>
                  <td class="particulars" style="padding-left: 30px;">Cheque not banked (recorded in CB only)</td>
                  <td class="amount less-item">3,000</td>
                  <td class="amount less-item">36,600</td>
                </tr>
                <tr class="total-row">
                  <td class="particulars"><strong>Balance as per Pass Book (Cr.)</strong></td>
                  <td class="amount"></td>
                  <td class="amount"><strong>75,000</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

        <!-- Interactive BRS Builder Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-tools"></i></span>
        Interactive BRS Builder
      </h2>
      
      <p style="margin-bottom: 20px;">
        Practice creating your own Bank Reconciliation Statement with this interactive tool. Enter the values and see the result in real-time!
      </p>

      <div class="brs-builder">
        <div class="builder-header">
          <div class="builder-icon">
            <i class="fas fa-calculator"></i>
          </div>
          <div>
            <div class="builder-title">Build Your BRS</div>
            <p style="color: var(--muted); font-size: 0.85rem; margin-top: 4px;">Enter values and calculate automatically</p>
          </div>
        </div>

        <div class="starting-balance">
          <div class="balance-input-group">
            <label for="startingPoint">Starting Point</label>
            <select id="startingPoint" onchange="updateBuilderLabels()">
              <option value="cashbook-debit">Cash Book (Debit Balance)</option>
              <option value="cashbook-credit">Cash Book (Credit/Overdraft)</option>
              <option value="passbook-credit">Pass Book (Credit Balance)</option>
              <option value="passbook-debit">Pass Book (Debit/Overdraft)</option>
            </select>
          </div>
          <div class="balance-input-group">
            <label for="startingBalance">Starting Balance (₹)</label>
            <input type="number" id="startingBalance" placeholder="Enter amount" value="50000" oninput="calculateBRS()">
          </div>
        </div>

        <div class="builder-controls">
          <button class="builder-btn add" onclick="addBuilderRow()">
            <i class="fas fa-plus"></i> Add Item
          </button>
          <button class="builder-btn clear" onclick="clearBuilder()">
            <i class="fas fa-trash"></i> Clear All
          </button>
        </div>

        <div class="table-wrapper">
          <table class="brs-table" id="builder-table">
            <thead>
              <tr>
                <th style="width: 50%;">Particulars</th>
                <th style="width: 20%;">Add (₹)</th>
                <th style="width: 20%;">Less (₹)</th>
                <th style="width: 10%;"></th>
              </tr>
            </thead>
            <tbody id="builder-tbody">
              <tr class="builder-row">
                <td>
                  <select class="item-type" onchange="calculateBRS()">
                    <option value="">-- Select Item --</option>
                    <option value="cheque-issued">Cheques issued but not presented</option>
                    <option value="cheque-deposited">Cheques deposited but not collected</option>
                    <option value="bank-charges">Bank charges not in Cash Book</option>
                    <option value="interest-credit">Interest credited by bank</option>
                    <option value="direct-deposit">Direct deposit by customer</option>
                    <option value="direct-payment">Direct payment by bank</option>
                    <option value="dividend-collected">Dividend collected by bank</option>
                    <option value="cheque-dishonoured">Cheque dishonoured</option>
                    <option value="wrong-credit">Wrong credit by bank</option>
                    <option value="wrong-debit">Wrong debit by bank</option>
                  </select>
                </td>
                <td><input type="number" class="add-amount" placeholder="0" oninput="calculateBRS()"></td>
                <td><input type="number" class="less-amount" placeholder="0" oninput="calculateBRS()"></td>
                <td><button class="remove-row-btn" onclick="removeBuilderRow(this)"><i class="fas fa-times"></i></button></td>
              </tr>
            </tbody>
          </table>
        </div>

        <div class="builder-result">
          <h4 style="color: var(--brand-2); margin-bottom: 15px; display: flex; align-items: center; gap: 8px;">
            <i class="fas fa-chart-bar"></i> Result
          </h4>
          <div class="table-wrapper" style="margin: 0;">
            <table class="brs-table" style="min-width: 300px;">
              <tbody>
                <tr>
                  <td style="width: 60%;"><span id="starting-label">Balance as per Cash Book (Dr.)</span></td>
                  <td class="amount" id="display-starting">₹50,000</td>
                </tr>
                <tr>
                  <td>Total Additions</td>
                  <td class="amount add-item" id="display-additions">₹0</td>
                </tr>
                <tr>
                  <td>Total Deductions</td>
                  <td class="amount less-item" id="display-deductions">₹0</td>
                </tr>
                <tr class="total-row">
                  <td><strong><span id="ending-label">Balance as per Pass Book (Cr.)</span></strong></td>
                  <td class="amount"><strong id="display-result">₹50,000</strong></td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="result-balance positive" id="balance-indicator">
            <i class="fas fa-check-circle"></i> Favorable Balance: ₹50,000
          </div>
        </div>
      </div>
    </section>

    <!-- Summary Section -->
    <section>
      <h2>
        <span class="icon-box"><i class="fas fa-clipboard-list"></i></span>
        Quick Revision Points
      </h2>

      <div class="concept-grid" style="grid-template-columns: 1fr;">
        <div class="concept-card" style="border-left: 4px solid var(--brand);">
          <div class="concept-title" style="color: var(--brand-2); margin-bottom: 15px;">
            <i class="fas fa-star" style="margin-right: 8px;"></i> Key Takeaways
          </div>
          <ul style="list-style: none; padding: 0;">
            <li style="padding: 10px 0; border-bottom: 1px dashed rgba(255,255,255,0.1); color: var(--muted); display: flex; gap: 10px;">
              <i class="fas fa-check" style="color: var(--success); margin-top: 3px;"></i>
              <span>BRS reconciles differences between Cash Book and Pass Book balances</span>
            </li>
            <li style="padding: 10px 0; border-bottom: 1px dashed rgba(255,255,255,0.1); color: var(--muted); display: flex; gap: 10px;">
              <i class="fas fa-check" style="color: var(--success); margin-top: 3px;"></i>
              <span>Main causes: Timing differences and direct entries by bank</span>
            </li>
            <li style="padding: 10px 0; border-bottom: 1px dashed rgba(255,255,255,0.1); color: var(--muted); display: flex; gap: 10px;">
              <i class="fas fa-check" style="color: var(--success); margin-top: 3px;"></i>
              <span>Debit balance in CB = Credit balance in PB (favorable)</span>
            </li>
            <li style="padding: 10px 0; border-bottom: 1px dashed rgba(255,255,255,0.1); color: var(--muted); display: flex; gap: 10px;">
              <i class="fas fa-check" style="color: var(--success); margin-top: 3px;"></i>
              <span>Credit balance in CB = Debit balance in PB (overdraft)</span>
            </li>
            <li style="padding: 10px 0; border-bottom: 1px dashed rgba(255,255,255,0.1); color: var(--muted); display: flex; gap: 10px;">
              <i class="fas fa-check" style="color: var(--success); margin-top: 3px;"></i>
              <span>Effects reverse when starting from opposite balance</span>
            </li>
            <li style="padding: 10px 0; color: var(--muted); display: flex; gap: 10px;">
              <i class="fas fa-check" style="color: var(--success); margin-top: 3px;"></i>
              <span>BRS is essential for fraud detection and internal control</span>
            </li>
          </ul>
        </div>
      </div>

      <div class="tip-box info-box">
        <h4><i class="fas fa-brain"></i> Memory Formula</h4>
        <p style="font-size: 1rem; text-align: center; padding: 15px 0;">
          <strong style="color: var(--brand-2);">Starting from Cash Book (Debit):</strong><br><br>
          <span style="font-family: monospace; background: rgba(0,0,0,0.3); padding: 10px 20px; border-radius: 8px; display: inline-block; margin: 10px 0;">
            CB Balance + (Items ↑ PB) − (Items ↓ PB) = PB Balance
          </span>
        </p>
        <p style="font-size: 0.9rem; color: var(--muted); text-align: center;">
          ↑ = Increase | ↓ = Decrease | Reverse signs for overdraft or starting from PB
        </p>
      </div>
    </section>

    <!-- MCQ Section -->
    <section id="mcqSection">
      <h2>
        <span class="icon-box"><i class="fas fa-question-circle"></i></span>
        Test Your Knowledge - MCQs
      </h2>
      
      <p style="margin-bottom: 25px;">
        Answer these 20 multiple-choice questions to test your understanding of Bank Reconciliation Statement concepts.
      </p>

      <div id="quiz-container" class="mcq-container">
        
        <!-- MCQ 1 -->
        <div class="mcq" data-answer="b">
          <div class="mcq-question">
            <span class="mcq-num">Q1</span>
            <span class="mcq-text">Bank Reconciliation Statement is prepared to:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q1" value="a" id="q1a" class="mcq-option">
            <label for="q1a" class="mcq-label"><span class="mcq-marker">A</span> Find profit or loss</label>
            
            <input type="radio" name="q1" value="b" id="q1b" class="mcq-option">
            <label for="q1b" class="mcq-label"><span class="mcq-marker">B</span> Reconcile the difference between Cash Book and Pass Book</label>
            
            <input type="radio" name="q1" value="c" id="q1c" class="mcq-option">
            <label for="q1c" class="mcq-label"><span class="mcq-marker">C</span> Calculate bank interest</label>
            
            <input type="radio" name="q1" value="d" id="q1d" class="mcq-option">
            <label for="q1d" class="mcq-label"><span class="mcq-marker">D</span> Record journal entries</label>
          </div>
        </div>

        <!-- MCQ 2 -->
        <div class="mcq" data-answer="c">
          <div class="mcq-question">
            <span class="mcq-num">Q2</span>
            <span class="mcq-text">When a cheque is issued but not presented for payment, the Cash Book balance will be:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q2" value="a" id="q2a" class="mcq-option">
            <label for="q2a" class="mcq-label"><span class="mcq-marker">A</span> Higher than Pass Book</label>
            
            <input type="radio" name="q2" value="b" id="q2b" class="mcq-option">
            <label for="q2b" class="mcq-label"><span class="mcq-marker">B</span> Equal to Pass Book</label>
            
            <input type="radio" name="q2" value="c" id="q2c" class="mcq-option">
            <label for="q2c" class="mcq-label"><span class="mcq-marker">C</span> Lower than Pass Book</label>
            
            <input type="radio" name="q2" value="d" id="q2d" class="mcq-option">
            <label for="q2d" class="mcq-label"><span class="mcq-marker">D</span> Cannot be determined</label>
          </div>
        </div>

        <!-- MCQ 3 -->
        <div class="mcq" data-answer="a">
          <div class="mcq-question">
            <span class="mcq-num">Q3</span>
            <span class="mcq-text">A debit balance in the Cash Book means:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q3" value="a" id="q3a" class="mcq-option">
            <label for="q3a" class="mcq-label"><span class="mcq-marker">A</span> Favorable balance (money in bank)</label>
            
            <input type="radio" name="q3" value="b" id="q3b" class="mcq-option">
            <label for="q3b" class="mcq-label"><span class="mcq-marker">B</span> Overdraft</label>
            
            <input type="radio" name="q3" value="c" id="q3c" class="mcq-option">
            <label for="q3c" class="mcq-label"><span class="mcq-marker">C</span> Bank owes the business nothing</label>
            
            <input type="radio" name="q3" value="d" id="q3d" class="mcq-option">
            <label for="q3d" class="mcq-label"><span class="mcq-marker">D</span> Business owes the bank</label>
          </div>
        </div>

        <!-- MCQ 4 -->
        <div class="mcq" data-answer="d">
          <div class="mcq-question">
            <span class="mcq-num">Q4</span>
            <span class="mcq-text">Which of the following will cause the Pass Book to show a higher balance than Cash Book?</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q4" value="a" id="q4a" class="mcq-option">
            <label for="q4a" class="mcq-label"><span class="mcq-marker">A</span> Cheques deposited but not collected</label>
            
            <input type="radio" name="q4" value="b" id="q4b" class="mcq-option">
            <label for="q4b" class="mcq-label"><span class="mcq-marker">B</span> Bank charges not recorded in Cash Book</label>
            
            <input type="radio" name="q4" value="c" id="q4c" class="mcq-option">
            <label for="q4c" class="mcq-label"><span class="mcq-marker">C</span> Direct payment by bank</label>
            
            <input type="radio" name="q4" value="d" id="q4d" class="mcq-option">
            <label for="q4d" class="mcq-label"><span class="mcq-marker">D</span> Cheques issued but not presented</label>
          </div>
        </div>

        <!-- MCQ 5 -->
        <div class="mcq" data-answer="b">
          <div class="mcq-question">
            <span class="mcq-num">Q5</span>
            <span class="mcq-text">Interest credited by bank but not recorded in Cash Book should be:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q5" value="a" id="q5a" class="mcq-option">
            <label for="q5a" class="mcq-label"><span class="mcq-marker">A</span> Deducted from Cash Book balance</label>
            
            <input type="radio" name="q5" value="b" id="q5b" class="mcq-option">
            <label for="q5b" class="mcq-label"><span class="mcq-marker">B</span> Added to Cash Book balance</label>
            
            <input type="radio" name="q5" value="c" id="q5c" class="mcq-option">
            <label for="q5c" class="mcq-label"><span class="mcq-marker">C</span> Ignored in BRS</label>
            
            <input type="radio" name="q5" value="d" id="q5d" class="mcq-option">
            <label for="q5d" class="mcq-label"><span class="mcq-marker">D</span> Deducted from Pass Book balance</label>
          </div>
        </div>

        <!-- MCQ 6 -->
        <div class="mcq" data-answer="c">
          <div class="mcq-question">
            <span class="mcq-num">Q6</span>
            <span class="mcq-text">Credit balance in Pass Book means:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q6" value="a" id="q6a" class="mcq-option">
            <label for="q6a" class="mcq-label"><span class="mcq-marker">A</span> Overdraft</label>
            
            <input type="radio" name="q6" value="b" id="q6b" class="mcq-option">
            <label for="q6b" class="mcq-label"><span class="mcq-marker">B</span> Customer owes to bank</label>
            
            <input type="radio" name="q6" value="c" id="q6c" class="mcq-option">
            <label for="q6c" class="mcq-label"><span class="mcq-marker">C</span> Bank owes to customer (favorable balance)</label>
            
            <input type="radio" name="q6" value="d" id="q6d" class="mcq-option">
            <label for="q6d" class="mcq-label"><span class="mcq-marker">D</span> Account is closed</label>
          </div>
        </div>

        <!-- MCQ 7 -->
        <div class="mcq" data-answer="a">
          <div class="mcq-question">
            <span class="mcq-num">Q7</span>
            <span class="mcq-text">Bank Reconciliation Statement is:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q7" value="a" id="q7a" class="mcq-option">
            <label for="q7a" class="mcq-label"><span class="mcq-marker">A</span> A statement, not an account</label>
            
            <input type="radio" name="q7" value="b" id="q7b" class="mcq-option">
            <label for="q7b" class="mcq-label"><span class="mcq-marker">B</span> A part of ledger</label>
            
            <input type="radio" name="q7" value="c" id="q7c" class="mcq-option">
            <label for="q7c" class="mcq-label"><span class="mcq-marker">C</span> A journal entry</label>
            
            <input type="radio" name="q7" value="d" id="q7d" class="mcq-option">
            <label for="q7d" class="mcq-label"><span class="mcq-marker">D</span> A subsidiary book</label>
          </div>
        </div>

        <!-- MCQ 8 -->
        <div class="mcq" data-answer="d">
          <div class="mcq-question">
            <span class="mcq-num">Q8</span>
            <span class="mcq-text">When starting from Cash Book (Debit), cheques deposited but not collected should be:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q8" value="a" id="q8a" class="mcq-option">
            <label for="q8a" class="mcq-label"><span class="mcq-marker">A</span> Added</label>
            
            <input type="radio" name="q8" value="b" id="q8b" class="mcq-option">
            <label for="q8b" class="mcq-label"><span class="mcq-marker">B</span> Ignored</label>
            
            <input type="radio" name="q8" value="c" id="q8c" class="mcq-option">
            <label for="q8c" class="mcq-label"><span class="mcq-marker">C</span> Multiplied</label>
            
            <input type="radio" name="q8" value="d" id="q8d" class="mcq-option">
            <label for="q8d" class="mcq-label"><span class="mcq-marker">D</span> Deducted</label>
          </div>
        </div>

        <!-- MCQ 9 -->
        <div class="mcq" data-answer="b">
          <div class="mcq-question">
            <span class="mcq-num">Q9</span>
            <span class="mcq-text">A customer directly deposited ₹5,000 in our bank account. This will make:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q9" value="a" id="q9a" class="mcq-option">
            <label for="q9a" class="mcq-label"><span class="mcq-marker">A</span> Cash Book balance higher</label>
            
            <input type="radio" name="q9" value="b" id="q9b" class="mcq-option">
            <label for="q9b" class="mcq-label"><span class="mcq-marker">B</span> Pass Book balance higher</label>
            
            <input type="radio" name="q9" value="c" id="q9c" class="mcq-option">
            <label for="q9c" class="mcq-label"><span class="mcq-marker">C</span> Both balances equal</label>
            
            <input type="radio" name="q9" value="d" id="q9d" class="mcq-option">
            <label for="q9d" class="mcq-label"><span class="mcq-marker">D</span> No effect on either</label>
          </div>
        </div>

        <!-- MCQ 10 -->
        <div class="mcq" data-answer="c">
          <div class="mcq-question">
            <span class="mcq-num">Q10</span>
            <span class="mcq-text">If Cash Book shows ₹40,000 (Dr.) and there are cheques issued but not presented worth ₹8,000, the Pass Book balance will be:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q10" value="a" id="q10a" class="mcq-option">
            <label for="q10a" class="mcq-label"><span class="mcq-marker">A</span> ₹32,000 (Cr.)</label>
            
            <input type="radio" name="q10" value="b" id="q10b" class="mcq-option">
            <label for="q10b" class="mcq-label"><span class="mcq-marker">B</span> ₹40,000 (Cr.)</label>
            
            <input type="radio" name="q10" value="c" id="q10c" class="mcq-option">
            <label for="q10c" class="mcq-label"><span class="mcq-marker">C</span> ₹48,000 (Cr.)</label>
            
            <input type="radio" name="q10" value="d" id="q10d" class="mcq-option">
            <label for="q10d" class="mcq-label"><span class="mcq-marker">D</span> ₹48,000 (Dr.)</label>
          </div>
        </div>

        <!-- MCQ 11 -->
        <div class="mcq" data-answer="a">
          <div class="mcq-question">
            <span class="mcq-num">Q11</span>
            <span class="mcq-text">Bank charges debited by bank but not recorded in Cash Book will:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q11" value="a" id="q11a" class="mcq-option">
            <label for="q11a" class="mcq-label"><span class="mcq-marker">A</span> Make Cash Book balance higher than Pass Book</label>
            
            <input type="radio" name="q11" value="b" id="q11b" class="mcq-option">
            <label for="q11b" class="mcq-label"><span class="mcq-marker">B</span> Make Pass Book balance higher than Cash Book</label>
            
            <input type="radio" name="q11" value="c" id="q11c" class="mcq-option">
            <label for="q11c" class="mcq-label"><span class="mcq-marker">C</span> Have no effect</label>
            
            <input type="radio" name="q11" value="d" id="q11d" class="mcq-option">
            <label for="q11d" class="mcq-label"><span class="mcq-marker">D</span> Make both balances zero</label>
          </div>
        </div>

        <!-- MCQ 12 -->
        <div class="mcq" data-answer="d">
          <div class="mcq-question">
            <span class="mcq-num">Q12</span>
            <span class="mcq-text">A dishonoured cheque not recorded in Cash Book will cause:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q12" value="a" id="q12a" class="mcq-option">
            <label for="q12a" class="mcq-label"><span class="mcq-marker">A</span> Pass Book balance to be higher</label>
            
            <input type="radio" name="q12" value="b" id="q12b" class="mcq-option">
            <label for="q12b" class="mcq-label"><span class="mcq-marker">B</span> No difference between the two</label>
            
            <input type="radio" name="q12" value="c" id="q12c" class="mcq-option">
            <label for="q12c" class="mcq-label"><span class="mcq-marker">C</span> Both to show overdraft</label>
            
            <input type="radio" name="q12" value="d" id="q12d" class="mcq-option">
            <label for="q12d" class="mcq-label"><span class="mcq-marker">D</span> Cash Book balance to be higher</label>
          </div>
        </div>

        <!-- MCQ 13 -->
        <div class="mcq" data-answer="b">
          <div class="mcq-question">
            <span class="mcq-num">Q13</span>
            <span class="mcq-text">Which is NOT a reason for difference between Cash Book and Pass Book?</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q13" value="a" id="q13a" class="mcq-option">
            <label for="q13a" class="mcq-label"><span class="mcq-marker">A</span> Cheques issued but not presented</label>
            
            <input type="radio" name="q13" value="b" id="q13b" class="mcq-option">
            <label for="q13b" class="mcq-label"><span class="mcq-marker">B</span> Cash sales recorded in Cash Book</label>
            
            <input type="radio" name="q13" value="c" id="q13c" class="mcq-option">
            <label for="q13c" class="mcq-label"><span class="mcq-marker">C</span> Direct deposits by customers</label>
            
            <input type="radio" name="q13" value="d" id="q13d" class="mcq-option">
            <label for="q13d" class="mcq-label"><span class="mcq-marker">D</span> Bank charges</label>
          </div>
        </div>

        <!-- MCQ 14 -->
        <div class="mcq" data-answer="c">
          <div class="mcq-question">
            <span class="mcq-num">Q14</span>
            <span class="mcq-text">Standing instruction for insurance premium payment will create difference when:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q14" value="a" id="q14a" class="mcq-option">
            <label for="q14a" class="mcq-label"><span class="mcq-marker">A</span> Recorded only in Pass Book</label>
            
            <input type="radio" name="q14" value="b" id="q14b" class="mcq-option">
            <label for="q14b" class="mcq-label"><span class="mcq-marker">B</span> Recorded in both books simultaneously</label>
            
            <input type="radio" name="q14" value="c" id="q14c" class="mcq-option">
            <label for="q14c" class="mcq-label"><span class="mcq-marker">C</span> Recorded in Pass Book but not in Cash Book</label>
            
            <input type="radio" name="q14" value="d" id="q14d" class="mcq-option">
            <label for="q14d" class="mcq-label"><span class="mcq-marker">D</span> Not recorded anywhere</label>
          </div>
        </div>

        <!-- MCQ 15 -->
        <div class="mcq" data-answer="a">
          <div class="mcq-question">
            <span class="mcq-num">Q15</span>
            <span class="mcq-text">When Cash Book shows overdraft (Credit balance), cheques issued but not presented should be:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q15" value="a" id="q15a" class="mcq-option">
            <label for="q15a" class="mcq-label"><span class="mcq-marker">A</span> Deducted to arrive at Pass Book balance</label>
            
            <input type="radio" name="q15" value="b" id="q15b" class="mcq-option">
            <label for="q15b" class="mcq-label"><span class="mcq-marker">B</span> Added to arrive at Pass Book balance</label>
            
            <input type="radio" name="q15" value="c" id="q15c" class="mcq-option">
            <label for="q15c" class="mcq-label"><span class="mcq-marker">C</span> Ignored</label>
            
            <input type="radio" name="q15" value="d" id="q15d" class="mcq-option">
            <label for="q15d" class="mcq-label"><span class="mcq-marker">D</span> Doubled</label>
          </div>
        </div>

        <!-- MCQ 16 -->
        <div class="mcq" data-answer="b">
          <div class="mcq-question">
            <span class="mcq-num">Q16</span>
            <span class="mcq-text">Bank Reconciliation Statement helps in:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q16" value="a" id="q16a" class="mcq-option">
            <label for="q16a" class="mcq-label"><span class="mcq-marker">A</span> Calculating depreciation</label>
            
            <input type="radio" name="q16" value="b" id="q16b" class="mcq-option">
            <label for="q16b" class="mcq-label"><span class="mcq-marker">B</span> Detecting errors and frauds</label>
            
            <input type="radio" name="q16" value="c" id="q16c" class="mcq-option">
            <label for="q16c" class="mcq-label"><span class="mcq-marker">C</span> Preparing Trial Balance</label>
            
            <input type="radio" name="q16" value="d" id="q16d" class="mcq-option">
            <label for="q16d" class="mcq-label"><span class="mcq-marker">D</span> Calculating closing stock</label>
          </div>
        </div>

        <!-- MCQ 17 -->
        <div class="mcq" data-answer="d">
          <div class="mcq-question">
            <span class="mcq-num">Q17</span>
            <span class="mcq-text">Dividend collected by bank and credited to account will:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q17" value="a" id="q17a" class="mcq-option">
            <label for="q17a" class="mcq-label"><span class="mcq-marker">A</span> Decrease Pass Book balance</label>
            
            <input type="radio" name="q17" value="b" id="q17b" class="mcq-option">
            <label for="q17b" class="mcq-label"><span class="mcq-marker">B</span> Increase Cash Book balance immediately</label>
            
            <input type="radio" name="q17" value="c" id="q17c" class="mcq-option">
            <label for="q17c" class="mcq-label"><span class="mcq-marker">C</span> Have no effect</label>
            
            <input type="radio" name="q17" value="d" id="q17d" class="mcq-option">
            <label for="q17d" class="mcq-label"><span class="mcq-marker">D</span> Make Pass Book balance higher than Cash Book</label>
          </div>
        </div>

        <!-- MCQ 18 -->
        <div class="mcq" data-answer="c">
          <div class="mcq-question">
            <span class="mcq-num">Q18</span>
            <span class="mcq-text">If Pass Book shows ₹25,000 (Cr.) and cheques deposited but not collected are ₹5,000, the Cash Book balance is:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q18" value="a" id="q18a" class="mcq-option">
            <label for="q18a" class="mcq-label"><span class="mcq-marker">A</span> ₹20,000 (Dr.)</label>
            
            <input type="radio" name="q18" value="b" id="q18b" class="mcq-option">
            <label for="q18b" class="mcq-label"><span class="mcq-marker">B</span> ₹25,000 (Dr.)</label>
            
            <input type="radio" name="q18" value="c" id="q18c" class="mcq-option">
            <label for="q18c" class="mcq-label"><span class="mcq-marker">C</span> ₹30,000 (Dr.)</label>
            
            <input type="radio" name="q18" value="d" id="q18d" class="mcq-option">
            <label for="q18d" class="mcq-label"><span class="mcq-marker">D</span> ₹30,000 (Cr.)</label>
          </div>
        </div>

        <!-- MCQ 19 -->
        <div class="mcq" data-answer="a">
          <div class="mcq-question">
            <span class="mcq-num">Q19</span>
            <span class="mcq-text">Wrong debit by bank in Pass Book will:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q19" value="a" id="q19a" class="mcq-option">
            <label for="q19a" class="mcq-label"><span class="mcq-marker">A</span> Reduce Pass Book balance incorrectly</label>
            
            <input type="radio" name="q19" value="b" id="q19b" class="mcq-option">
            <label for="q19b" class="mcq-label"><span class="mcq-marker">B</span> Increase Pass Book balance incorrectly</label>
            
            <input type="radio" name="q19" value="c" id="q19c" class="mcq-option">
            <label for="q19c" class="mcq-label"><span class="mcq-marker">C</span> Reduce Cash Book balance</label>
            
            <input type="radio" name="q19" value="d" id="q19d" class="mcq-option">
            <label for="q19d" class="mcq-label"><span class="mcq-marker">D</span> Have no effect</label>
          </div>
        </div>

        <!-- MCQ 20 -->
        <div class="mcq" data-answer="b">
          <div class="mcq-question">
            <span class="mcq-num">Q20</span>
            <span class="mcq-text">Bank Reconciliation Statement should ideally be prepared:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q20" value="a" id="q20a" class="mcq-option">
            <label for="q20a" class="mcq-label"><span class="mcq-marker">A</span> Only at year end</label>
            
            <input type="radio" name="q20" value="b" id="q20b" class="mcq-option">
            <label for="q20b" class="mcq-label"><span class="mcq-marker">B</span> Periodically (monthly or more frequently)</label>
            
            <input type="radio" name="q20" value="c" id="q20c" class="mcq-option">
            <label for="q20c" class="mcq-label"><span class="mcq-marker">C</span> Only when there is a difference</label>
            
            <input type="radio" name="q20" value="d" id="q20d" class="mcq-option">
            <label for="q20d" class="mcq-label"><span class="mcq-marker">D</span> Once in five years</label>
          </div>
        </div>

        <!-- MCQ 21 (Bonus) -->
        <div class="mcq" data-answer="c">
          <div class="mcq-question">
            <span class="mcq-num">Q21</span>
            <span class="mcq-text">Which of the following errors will NOT be detected by Bank Reconciliation Statement?</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q21" value="a" id="q21a" class="mcq-option">
            <label for="q21a" class="mcq-label"><span class="mcq-marker">A</span> Cheque not recorded in Cash Book</label>
            
            <input type="radio" name="q21" value="b" id="q21b" class="mcq-option">
            <label for="q21b" class="mcq-label"><span class="mcq-marker">B</span> Wrong amount entered in Pass Book</label>
            
            <input type="radio" name="q21" value="c" id="q21c" class="mcq-option">
            <label for="q21c" class="mcq-label"><span class="mcq-marker">C</span> Error of principle in Cash Book</label>
            
            <input type="radio" name="q21" value="d" id="q21d" class="mcq-option">
            <label for="q21d" class="mcq-label"><span class="mcq-marker">D</span> Bank charges omitted from Cash Book</label>
          </div>
        </div>

        <!-- MCQ 22 (Bonus) -->
        <div class="mcq" data-answer="d">
          <div class="mcq-question">
            <span class="mcq-num">Q22</span>
            <span class="mcq-text">In Pass Book, deposits are recorded on:</span>
          </div>
          <div class="mcq-options">
            <input type="radio" name="q22" value="a" id="q22a" class="mcq-option">
            <label for="q22a" class="mcq-label"><span class="mcq-marker">A</span> Debit side</label>
            
            <input type="radio" name="q22" value="b" id="q22b" class="mcq-option">
            <label for="q22b" class="mcq-label"><span class="mcq-marker">B</span> Both sides</label>
            
            <input type="radio" name="q22" value="c" id="q22c" class="mcq-option">
            <label for="q22c" class="mcq-label"><span class="mcq-marker">C</span> Nowhere</label>
            
            <input type="radio" name="q22" value="d" id="q22d" class="mcq-option">
            <label for="q22d" class="mcq-label"><span class="mcq-marker">D</span> Credit side</label>
          </div>
        </div>

      </div>

      <div class="quiz-actions">
        <button id="submitQuiz" class="quiz-btn submit" onclick="submitQuiz()">
          <i class="fas fa-paper-plane"></i> Submit Answers
        </button>
        <button id="retry-btn" class="quiz-btn retry" onclick="retryQuiz()">
          <i class="fas fa-redo"></i> Try Again
        </button>
      </div>

      <div id="quizResult"></div>
    </section>

    <!-- Footer -->
    <section style="text-align: center; padding: 30px 20px;">
      <div style="margin-bottom: 20px;">
        <i class="fas fa-graduation-cap" style="font-size: 2.5rem; color: var(--brand-2);"></i>
      </div>
      <h3 style="color: var(--text); margin-bottom: 10px;">Lesson Complete!</h3>
      <p style="color: var(--muted); max-width: 500px; margin: 0 auto 20px;">
        You've learned about Bank Reconciliation Statement. Practice more problems to master this important concept!
      </p>
      <div style="display: flex; gap: 15px; justify-content: center; flex-wrap: wrap;">
        <a href="../lessons.html" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: linear-gradient(135deg, var(--brand), var(--brand-2)); color: white; text-decoration: none; border-radius: 10px; font-weight: 600; transition: all 0.3s;">
          <i class="fas fa-book"></i> More Lessons
        </a>
        <a href="#mcqSection" style="display: inline-flex; align-items: center; gap: 8px; padding: 12px 24px; background: rgba(255,255,255,0.1); color: var(--text); text-decoration: none; border-radius: 10px; font-weight: 600; border: 2px solid rgba(255,255,255,0.2); transition: all 0.3s;">
          <i class="fas fa-redo"></i> Retake Quiz
        </a>
      </div>
    </section>
  </main>

  <script type="module">
    // ========================================
    // 1. IMPORT FIREBASE
    // ========================================
    import { submitLessonAttempt, loadPreviousAnswers } from '../firebase-config.js';

    // ========================================
    // 2. CONFIGURATION
    // ========================================
    const LESSON_NUMBER = '16';
    const LESSON_ID = 'lesson-16';

    // ========================================
    // 3. QUIZ SYSTEM
    // ========================================
    function initQuiz() {
      console.log('🎯 Initializing quiz for Lesson', LESSON_NUMBER);
      
      const container = document.getElementById('quiz-container');
      if (!container) {
        console.error('❌ Quiz container not found');
        return;
      }

      const allInputs = container.querySelectorAll('input[type="radio"]');
      allInputs.forEach(input => {
        input.addEventListener('click', function(e) {
          if (this.dataset.checked === 'true') {
            this.checked = false;
            this.dataset.checked = 'false';
          } else {
            const groupName = this.name;
            document.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => {
              radio.dataset.checked = 'false';
            });
            this.dataset.checked = 'true';
          }
        });
      });

      console.log('✅ Quiz initialized with', allInputs.length, 'options');
    }

    // ========================================
    // 4. SUBMIT QUIZ
    // ========================================
    window.submitQuiz = async function() {
      console.log('📤 Submitting quiz for Lesson', LESSON_NUMBER);
      
      const container = document.getElementById('quiz-container');
      if (!container) return;

      const mcqs = container.querySelectorAll('.mcq');
      if (mcqs.length === 0) return;

      let answersData = {};
      let correctCount = 0;
      let totalQuestions = mcqs.length;
      let answeredCount = 0;

      mcqs.forEach((mcq, index) => {
        const correctAnswer = mcq.dataset.answer;
        const questionNumber = `q${index + 1}`;
        const inputs = mcq.querySelectorAll('input[type="radio"]');
        const questionName = inputs[0].name;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);

        if (!selected) return;

        answeredCount++;
        const selectedValue = selected.value;
        const isCorrect = selectedValue === correctAnswer;
        if (isCorrect) correctCount++;

        answersData[questionNumber] = {
          selected: selectedValue,
          correct: correctAnswer,
          isCorrect: isCorrect
        };

        inputs.forEach(input => {
          const label = input.nextElementSibling;
          if (!label) return;
          input.disabled = true;
          if (input.value === correctAnswer) {
            label.style.background = 'linear-gradient(90deg, rgba(0, 184, 148, 0.2), rgba(0, 184, 148, 0.1))';
            label.style.borderLeft = '4px solid #00b894';
            label.style.borderColor = '#00b894';
            label.style.fontWeight = 'bold';
          }
          if (input.value === selectedValue && !isCorrect) {
            label.style.background = 'linear-gradient(90deg, rgba(214, 48, 49, 0.2), rgba(214, 48, 49, 0.1))';
            label.style.borderLeft = '4px solid #d63031';
            label.style.borderColor = '#d63031';
          }
        });
      });

      if (answeredCount === 0) {
        alert('⚠️ Please answer at least 1 question before submitting!');
        return;
      }

      const percentage = Math.round((correctCount / totalQuestions) * 100);
      const submitBtn = document.getElementById('submitQuiz');
      const resultDiv = document.getElementById('quizResult');

      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
      }

      if (resultDiv) {
        resultDiv.innerHTML = `
          <div style="padding: 20px; margin-top: 20px; background: rgba(108,92,231,0.1); border-radius: 12px; text-align: center;">
            <div style="font-size: 1.2rem; color: var(--brand-2);">⚙️ Saving your progress...</div>
          </div>`;
      }

      try {
        console.log("📤 Submitting to Firebase:", { lessonNumber: LESSON_NUMBER, correctCount, totalQuestions, percentage });
        const result = await submitLessonAttempt(LESSON_NUMBER, answersData, correctCount, totalQuestions);
        console.log("✅ Firebase response:", result);

        if (resultDiv) {
          if (result && result.success) {
            if (result.updated) {
              resultDiv.innerHTML = `
                <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(0, 184, 148, 0.2), rgba(0, 184, 148, 0.1)); border-radius: 12px; border: 2px solid #00b894;">
                  <div style="font-size: 1.5rem; font-weight: bold; color: #00b894; margin-bottom: 10px;">🎉 New Best Score!</div>
                  <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                  <div style="color: var(--muted); font-size: 0.9rem;">✅ Answered ${answeredCount} out of ${totalQuestions} questions</div>
                  <div style="color: var(--muted); font-size: 0.85rem; margin-top: 10px;">✅ Progress saved to cloud</div>
                </div>`;
            } else {
              resultDiv.innerHTML = `
                <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(253, 203, 110, 0.2), rgba(253, 203, 110, 0.1)); border-radius: 12px; border: 2px solid #fdcb6e;">
                  <div style="font-size: 1.5rem; font-weight: bold; color: #fdcb6e; margin-bottom: 10px;">📊 Quiz Completed</div>
                  <div style="font-size: 1.2rem; margin-bottom: 10px;">Current Score: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                  <div style="font-size: 1.1rem; margin-bottom: 10px; color: #00b894;">Your Best: <strong>${result.bestScore}/${result.totalQuestions}</strong> (${result.percentage}%)</div>
                  <div style="color: var(--muted); font-size: 0.9rem;">Answered ${answeredCount} out of ${totalQuestions} questions</div>
                  <div style="color: var(--muted); font-size: 0.85rem; margin-top: 10px;">💡 Try again to beat your best score!</div>
                </div>`;
            }
          } else {
            resultDiv.innerHTML = `
              <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(108,92,231,0.2), rgba(108,92,231,0.1)); border-radius: 12px; border: 2px solid var(--brand);">
                <div style="font-size: 1.5rem; font-weight: bold; color: var(--brand-2); margin-bottom: 10px;">📊 Your Score</div>
                <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                <div style="color: var(--muted); font-size: 0.9rem;">✅ Answered ${answeredCount} out of ${totalQuestions} questions</div>
                <div style="color: #fdcb6e; font-size: 0.85rem; margin-top: 10px;">⚠️ Could not save to cloud. Check console (F12) for details.</div>
              </div>`;
            console.error("❌ Firebase error:", result?.error || "Unknown error");
          }
        }
      } catch (error) {
        console.error("❌ Critical error during submission:", error);
        if (resultDiv) {
          resultDiv.innerHTML = `
            <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(108,92,231,0.2), rgba(108,92,231,0.1)); border-radius: 12px; border: 2px solid var(--brand);">
              <div style="font-size: 1.5rem; font-weight: bold; color: var(--brand-2); margin-bottom: 10px;">📊 Your Score</div>
              <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
              <div style="color: var(--muted); font-size: 0.9rem;">✅ Answered ${answeredCount} out of ${totalQuestions} questions</div>
              <div style="color: #d63031; font-size: 0.85rem; margin-top: 10px;">❌ Error: ${error.message}</div>
            </div>`;
        }
      } finally {
        const retryBtn = document.getElementById('retry-btn');
        if (retryBtn) retryBtn.style.display = 'flex';
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = '✓ Submitted';
        }
      }
    };

    // ========================================
    // 5. RETRY QUIZ
    // ========================================
    window.retryQuiz = function() {
      console.log('🔄 Retrying quiz');
      
      const container = document.getElementById('quiz-container');
      if (!container) return;

      const allInputs = container.querySelectorAll('input[type="radio"]');
      allInputs.forEach(input => {
        input.checked = false;
        input.disabled = false;
        input.dataset.checked = 'false';
        
        const label = input.nextElementSibling;
        if (label) {
          label.style.background = '';
          label.style.borderLeft = '';
          label.style.borderColor = '';
          label.style.fontWeight = '';
        }
      });

      const resultDiv = document.getElementById('quizResult');
      if (resultDiv) resultDiv.innerHTML = '';

      const submitBtn = document.getElementById('submitQuiz');
      if (submitBtn) {
        submitBtn.disabled = false;
        submitBtn.innerHTML = '<i class="fas fa-paper-plane"></i> Submit Answers';
      }

      const retryBtn = document.getElementById('retry-btn');
      if (retryBtn) retryBtn.style.display = 'none';

      document.getElementById('mcqSection')?.scrollIntoView({ behavior: 'smooth' });
    };

    // ========================================
    // 6. TOGGLE SOLUTION FUNCTION
    // ========================================
    window.toggleSolution = function(id, event) {
      const solution = document.getElementById(id + '-solution');
      const button = event.currentTarget;

      if (!solution || !button) {
        console.error('Solution or button not found for id:', id);
        return;
      }
      
      if (solution.classList.contains('active')) {
        solution.classList.remove('active');
        button.innerHTML = '<i class="fas fa-eye"></i> View Solution';
      } else {
        solution.classList.add('active');
        button.innerHTML = '<i class="fas fa-eye-slash"></i> Hide Solution';
      }
    }

    // ========================================
    // 7. BRS BUILDER FUNCTIONS
    // ========================================
    window.addBuilderRow = function() {
      const tbody = document.getElementById('builder-tbody');
      if (!tbody) return;
      
      const newRow = document.createElement('tr');
      newRow.className = 'builder-row';
      newRow.innerHTML = `
        <td>
          <select class="item-type" onchange="calculateBRS()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text); font-size: 0.9rem;">
            <option value="">-- Select Item --</option>
            <option value="cheque-issued">Cheques issued but not presented</option>
            <option value="cheque-deposited">Cheques deposited but not collected</option>
            <option value="bank-charges">Bank charges not in Cash Book</option>
            <option value="interest-credit">Interest credited by bank</option>
            <option value="direct-deposit">Direct deposit by customer</option>
            <option value="direct-payment">Direct payment by bank</option>
            <option value="dividend-collected">Dividend collected by bank</option>
            <option value="cheque-dishonoured">Cheque dishonoured</option>
            <option value="wrong-credit">Wrong credit by bank</option>
            <option value="wrong-debit">Wrong debit by bank</option>
          </select>
        </td>
        <td><input type="number" class="add-amount" placeholder="0" oninput="calculateBRS()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text); font-size: 0.9rem;"></td>
        <td><input type="number" class="less-amount" placeholder="0" oninput="calculateBRS()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text); font-size: 0.9rem;"></td>
        <td><button class="remove-row-btn" onclick="removeBuilderRow(this)"><i class="fas fa-times"></i></button></td>
      `;
      tbody.appendChild(newRow);
    }

    window.removeBuilderRow = function(button) {
      const tbody = document.getElementById('builder-tbody');
      if (tbody.querySelectorAll('.builder-row').length > 1) {
        button.closest('tr').remove();
        calculateBRS();
      } else {
        alert('At least one row is required!');
      }
    }

    window.clearBuilder = function() {
      if (confirm('Clear all entries?')) {
        const tbody = document.getElementById('builder-tbody');
        if (tbody) {
          tbody.innerHTML = `
            <tr class="builder-row">
              <td>
                <select class="item-type" onchange="calculateBRS()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text); font-size: 0.9rem;">
                  <option value="">-- Select Item --</option>
                  <option value="cheque-issued">Cheques issued but not presented</option>
                  <option value="cheque-deposited">Cheques deposited but not collected</option>
                  <option value="bank-charges">Bank charges not in Cash Book</option>
                  <option value="interest-credit">Interest credited by bank</option>
                  <option value="direct-deposit">Direct deposit by customer</option>
                  <option value="direct-payment">Direct payment by bank</option>
                  <option value="dividend-collected">Dividend collected by bank</option>
                  <option value="cheque-dishonoured">Cheque dishonoured</option>
                  <option value="wrong-credit">Wrong credit by bank</option>
                  <option value="wrong-debit">Wrong debit by bank</option>
                </select>
              </td>
              <td><input type="number" class="add-amount" placeholder="0" oninput="calculateBRS()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text); font-size: 0.9rem;"></td>
              <td><input type="number" class="less-amount" placeholder="0" oninput="calculateBRS()" style="width: 100%; padding: 10px; background: rgba(255,255,255,0.05); border: 2px solid rgba(255,255,255,0.1); border-radius: 8px; color: var(--text); font-size: 0.9rem;"></td>
              <td><button class="remove-row-btn" onclick="removeBuilderRow(this)"><i class="fas fa-times"></i></button></td>
            </tr>
          `;
          document.getElementById('startingBalance').value = 50000;
          calculateBRS();
        }
      }
    }

    window.updateBuilderLabels = function() {
      const startingPoint = document.getElementById('startingPoint').value;
      const startingLabel = document.getElementById('starting-label');
      const endingLabel = document.getElementById('ending-label');
      
      const labels = {
        'cashbook-debit': {
          start: 'Balance as per Cash Book (Dr.)',
          end: 'Balance as per Pass Book (Cr.)'
        },
        'cashbook-credit': {
          start: 'Overdraft as per Cash Book (Cr.)',
          end: 'Overdraft as per Pass Book (Dr.)'
        },
        'passbook-credit': {
          start: 'Balance as per Pass Book (Cr.)',
          end: 'Balance as per Cash Book (Dr.)'
        },
        'passbook-debit': {
          start: 'Overdraft as per Pass Book (Dr.)',
          end: 'Overdraft as per Cash Book (Cr.)'
        }
      };
      
      if (labels[startingPoint]) {
        startingLabel.textContent = labels[startingPoint].start;
        endingLabel.textContent = labels[startingPoint].end;
      }
      
      calculateBRS();
    }

    window.calculateBRS = function() {
      const startingBalance = parseFloat(document.getElementById('startingBalance').value) || 0;
      const startingPoint = document.getElementById('startingPoint').value;
      
      let totalAdditions = 0;
      let totalDeductions = 0;
      
      document.querySelectorAll('.builder-row').forEach(row => {
        const addAmount = parseFloat(row.querySelector('.add-amount')?.value) || 0;
        const lessAmount = parseFloat(row.querySelector('.less-amount')?.value) || 0;
        totalAdditions += addAmount;
        totalDeductions += lessAmount;
      });
      
      const result = startingBalance + totalAdditions - totalDeductions;
      
      // Update display
      document.getElementById('display-starting').textContent = `₹${startingBalance.toLocaleString()}`;
      document.getElementById('display-additions').textContent = `₹${totalAdditions.toLocaleString()}`;
      document.getElementById('display-deductions').textContent = `₹${totalDeductions.toLocaleString()}`;
      document.getElementById('display-result').textContent = `₹${Math.abs(result).toLocaleString()}`;
      
      // Update balance indicator
      const indicator = document.getElementById('balance-indicator');
      const isOverdraft = startingPoint.includes('credit');
      
      if (result >= 0) {
        indicator.className = 'result-balance positive';
        indicator.innerHTML = `<i class="fas fa-check-circle"></i> ${isOverdraft ? 'Overdraft' : 'Favorable Balance'}: ₹${Math.abs(result).toLocaleString()}`;
      } else {
        indicator.className = 'result-balance negative';
        indicator.innerHTML = `<i class="fas fa-exclamation-circle"></i> ${isOverdraft ? 'Favorable Balance' : 'Overdraft'}: ₹${Math.abs(result).toLocaleString()}`;
      }
    }

    // ========================================
    // 8. INITIALIZATION
    // ========================================
    document.addEventListener('DOMContentLoaded', function() {
      // Initialize Quiz
      initQuiz();
      
      // Initialize BRS Builder
      calculateBRS();
      
      // Add smooth reveal animation to sections
      const sections = document.querySelectorAll('section');
      const observerOptions = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };
      
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.style.opacity = '1';
            entry.target.style.transform = 'translateY(0)';
          }
        });
      }, observerOptions);
      
      sections.forEach((section, index) => {
        section.style.opacity = '0';
        section.style.transform = 'translateY(30px)';
        section.style.transition = `opacity 0.6s ease ${index * 0.1}s, transform 0.6s ease ${index * 0.1}s`;
        observer.observe(section);
      });
      
      // Trigger initial animation
      setTimeout(() => {
        sections.forEach(section => {
          section.style.opacity = '1';
          section.style.transform = 'translateY(0)';
        });
      }, 100);
      
      console.log('✅ Lesson', LESSON_NUMBER, 'fully initialized!');
    });

  </script>
</body>
</html>