<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="../favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="../favicon/favicon.svg" />
  <link rel="shortcut icon" href="../favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="../favicon/apple-touch-icon.png" />
  <link rel="manifest" href="../favicon/site.webmanifest" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chapter 6 – Accounting Equation | AccountsWizard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
  <link rel="stylesheet" href="main.css">
  <style>
    /* ===================================
       1. CSS VARIABLES & RESET - DARK NEON THEME
    =================================== */
    :root {
      /* Neon Colors */
      --neon-blue: #00d4ff;
      --neon-purple: #9d4edd;
      --neon-pink: #ff006e;
      --neon-green: #00ff88;
      
      /* Primary Colors */
      --primary: #6366f1;
      --primary-light: #818cf8;
      --primary-dark: #4f46e5;
      --primary-glow: rgba(99, 102, 241, 0.4);
      
      /* Secondary Colors */
      --secondary: #06b6d4;
      --secondary-light: #22d3ee;
      --secondary-glow: rgba(6, 182, 212, 0.4);
      
      /* Accent Colors */
      --accent: #f43f5e;
      --accent-light: #fb7185;
      --success: #10b981;
      --warning: #f59e0b;
      
      /* Dark Theme Base */
      --bg-dark: #0a0a0f;
      --bg-medium: #13131a;
      --bg-light: #1a1a24;
      --surface: #1e1e2e;
      --surface-light: #2a2a3e;
      
      /* Text Colors */
      --text-primary: #ffffff;
      --text-secondary: #b8bcc8;
      --text-muted: #6c7293;
      
      /* Borders & Effects */
      --border: rgba(255, 255, 255, 0.06);
      --border-glow: rgba(99, 102, 241, 0.5);
      
      /* Shadows */
      --shadow-sm: 0 2px 4px rgba(0,0,0,0.3);
      --shadow-md: 0 4px 6px rgba(0,0,0,0.4);
      --shadow-lg: 0 10px 15px rgba(0,0,0,0.5);
      --shadow-xl: 0 20px 25px rgba(0,0,0,0.6);
      --shadow-neon: 0 0 20px var(--primary-glow);
      --shadow-neon-strong: 0 0 40px var(--primary-glow);
      
      /* Radius */
      --radius-sm: 8px;
      --radius-md: 12px;
      --radius-lg: 16px;
      --radius-xl: 24px;
      
      /* Transitions */
      --transition-fast: 200ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-base: 300ms cubic-bezier(0.4, 0, 0.2, 1);
      --transition-slow: 500ms cubic-bezier(0.4, 0, 0.2, 1);
      
      /* Gradients */
      --gradient-primary: linear-gradient(135deg, var(--primary), var(--secondary));
      --gradient-dark: linear-gradient(180deg, var(--bg-dark), var(--bg-medium));
      --gradient-neon: linear-gradient(135deg, var(--neon-purple), var(--neon-blue));
      --gradient-card: linear-gradient(135deg, rgba(99, 102, 241, 0.05), rgba(6, 182, 212, 0.05));
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    html {
      scroll-behavior: smooth;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
      background: var(--bg-dark);
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
      position: relative;
    }

    /* ===================================
       2. ANIMATED NEON BACKGROUND
    =================================== */
    body::before {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: 
        radial-gradient(circle at 20% 80%, rgba(99, 102, 241, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 80% 20%, rgba(6, 182, 212, 0.08) 0%, transparent 40%),
        radial-gradient(circle at 40% 40%, rgba(244, 63, 94, 0.05) 0%, transparent 40%);
      animation: backgroundFloat 20s ease-in-out infinite;
      z-index: -1;
    }

    @keyframes backgroundFloat {
      0%, 100% { transform: translate(0, 0) scale(1); }
      33% { transform: translate(-20px, -10px) scale(1.02); }
      66% { transform: translate(20px, 10px) scale(0.98); }
    }

    /* Neon Grid Lines */
    body::after {
      content: '';
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background-image: 
        linear-gradient(rgba(99, 102, 241, 0.02) 1px, transparent 1px),
        linear-gradient(90deg, rgba(99, 102, 241, 0.02) 1px, transparent 1px);
      background-size: 50px 50px;
      z-index: -1;
      pointer-events: none;
    }

    /* ===================================
       3. ANIMATIONS - NO ROTATION
    =================================== */
    @keyframes fadeInUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    @keyframes fadeInScale {
      from {
        opacity: 0;
        transform: scale(0.95);
      }
      to {
        opacity: 1;
        transform: scale(1);
      }
    }

    @keyframes neonPulse {
      0%, 100% { 
        box-shadow: 0 0 5px var(--primary-glow),
                    0 0 10px var(--primary-glow),
                    0 0 15px var(--primary-glow);
      }
      50% { 
        box-shadow: 0 0 10px var(--primary-glow),
                    0 0 20px var(--primary-glow),
                    0 0 30px var(--primary-glow);
      }
    }

    @keyframes glowText {
      0%, 100% { text-shadow: 0 0 10px var(--primary-glow); }
      50% { text-shadow: 0 0 20px var(--primary-glow), 0 0 30px var(--primary-glow); }
    }

    @keyframes slideRight {
      from { transform: translateX(-100%); opacity: 0; }
      to { transform: translateX(0); opacity: 1; }
    }

    .animate-in {
      opacity: 0;
      animation: fadeInUp 0.6s ease forwards;
    }

    .animate-scale {
      opacity: 0;
      animation: fadeInScale 0.6s ease forwards;
    }

    .neon-glow {
      animation: neonPulse 2s ease-in-out infinite;
    }

    /* Stagger animations */
    .stagger-1 { animation-delay: 0.1s; }
    .stagger-2 { animation-delay: 0.2s; }
    .stagger-3 { animation-delay: 0.3s; }
    .stagger-4 { animation-delay: 0.4s; }
    .stagger-5 { animation-delay: 0.5s; }

    /* ===================================
       4. NAVIGATION HEADER
    =================================== */
    .nav-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      background: rgba(10, 10, 15, 0.9);
      backdrop-filter: blur(12px);
      border-bottom: 1px solid var(--border);
      padding: 1rem 2rem;
      z-index: 1000;
      animation: fadeInUp 0.5s ease;
    }

    .nav-content {
      max-width: 1400px;
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .nav-link {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      color: var(--text-secondary);
      text-decoration: none;
      border-radius: var(--radius-md);
      border: 1px solid transparent;
      transition: all var(--transition-base);
      position: relative;
    }

    .nav-link:hover {
      color: var(--text-primary);
      border-color: var(--primary);
      box-shadow: 0 0 20px var(--primary-glow);
      transform: translateY(-2px);
    }

    /* ===================================
       5. HERO SECTION WITH NEON
    =================================== */
    .hero {
      margin-top: 80px;
      padding: 5rem 2rem 4rem;
      text-align: center;
      position: relative;
      overflow: hidden;
      background: radial-gradient(ellipse at center, rgba(99, 102, 241, 0.05) 0%, transparent 70%);
    }

    .hero-title {
      font-size: clamp(2.5rem, 5vw, 4rem);
      font-weight: 800;
      background: var(--gradient-neon);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 1rem;
      animation: fadeInUp 0.8s ease, glowText 3s ease-in-out infinite;
      position: relative;
      display: inline-block;
    }

    .hero-subtitle {
      font-size: 1.25rem;
      color: var(--text-secondary);
      max-width: 600px;
      margin: 0 auto 2rem;
      animation: fadeInUp 0.8s ease 0.2s both;
    }

    .breadcrumb {
      display: inline-flex;
      align-items: center;
      gap: 0.5rem;
      padding: 0.75rem 1.5rem;
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      animation: fadeInScale 0.8s ease 0.4s both;
    }

    .breadcrumb a {
      color: var(--text-secondary);
      text-decoration: none;
      transition: color var(--transition-fast);
    }

    .breadcrumb a:hover {
      color: var(--primary-light);
    }

    /* ===================================
       6. CONTAINER & SECTIONS
    =================================== */
    .container {
      max-width: 1400px;
      margin: 0 auto;
      padding: 0 2rem;
    }

    .section {
      margin-bottom: 4rem;
    }

    .card {
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 2.5rem;
      position: relative;
      overflow: hidden;
      transition: all var(--transition-base);
    }

    .card:hover {
      transform: translateY(-5px);
      border-color: var(--border-glow);
      box-shadow: var(--shadow-xl), var(--shadow-neon);
    }

    .card-title {
      font-size: 1.75rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      display: flex;
      align-items: center;
      gap: 0.75rem;
    }

    .card-icon {
      font-size: 1.5rem;
      color: var(--primary);
    }

    .card-content {
      color: var(--text-secondary);
      line-height: 1.8;
    }

    /* ===================================
       7. EQUATION CARDS - FIXED PADDING
    =================================== */
    .equation-container {
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 1.5rem;
      margin: 3rem 0;
      padding: 2rem;
      flex-wrap: wrap;
    }

    .equation-card {
      background: var(--bg-medium);
      border: 1px solid var(--border);
      border-radius: var(--radius-xl);
      padding: 2.5rem 2rem;
      text-align: center;
      position: relative;
      transition: all var(--transition-base);
      min-width: 200px;
      flex: 1;
    }

    .equation-card:hover {
      transform: translateY(-10px);
      border-color: currentColor;
      box-shadow: 0 10px 40px rgba(0,0,0,0.5), 0 0 30px currentColor;
    }

    .equation-operator {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--accent);
      padding: 0 1rem;
      text-shadow: 0 0 20px var(--accent);
    }

    .equation-icon {
      font-size: 3rem;
      margin-bottom: 1rem;
    }

    .equation-title {
      font-size: 1.25rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: var(--text-primary);
    }

    .equation-description {
      color: var(--text-muted);
      font-size: 0.9rem;
      line-height: 1.4;
    }

    /* ===================================
       8. FEATURE CARDS - IMPROVED
    =================================== */
    .feature-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 2rem;
      margin: 3rem 0;
    }

    .feature-card {
      background: var(--bg-medium);
      border: 1px solid var(--border);
      border-radius: var(--radius-lg);
      padding: 2rem;
      position: relative;
      overflow: hidden;
      transition: all var(--transition-base);
    }

    .feature-card::before {
      content: '';
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 2px;
      background: var(--gradient-neon);
      transform: scaleX(0);
      transition: transform var(--transition-base);
    }

    .feature-card:hover::before {
      transform: scaleX(1);
    }

    .feature-card:hover {
      transform: translateY(-5px);
      border-color: var(--primary);
      box-shadow: var(--shadow-xl), 0 0 30px rgba(99, 102, 241, 0.2);
    }

    .feature-icon-wrapper {
      width: 60px;
      height: 60px;
      background: var(--gradient-primary);
      border-radius: var(--radius-md);
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 1.5rem;
      box-shadow: 0 0 20px var(--primary-glow);
    }

    .feature-icon {
      font-size: 1.75rem;
      color: white;
    }

    .feature-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.75rem;
    }

    .feature-text {
      color: var(--text-secondary);
      line-height: 1.7;
      font-size: 0.95rem;
    }

    .feature-text ul {
      list-style: none;
      padding: 0;
    }

    .feature-text li {
      padding: 0.5rem 0;
      border-bottom: 1px solid var(--border);
    }

    .feature-text li:last-child {
      border-bottom: none;
    }

    /* ===================================
       9. INFO CARDS - NEW SECTION
    =================================== */
    .info-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 1.5rem;
      margin: 2rem 0;
    }

    .info-card {
      background: linear-gradient(135deg, var(--surface), var(--bg-medium));
      border: 1px solid var(--border);
      border-radius: var(--radius-md);
      padding: 1.5rem;
      text-align: center;
      transition: all var(--transition-base);
      position: relative;
      overflow: hidden;
    }

    .info-card::after {
      content: '';
      position: absolute;
      bottom: 0;
      left: 0;
      width: 100%;
      height: 3px;
      background: var(--gradient-neon);
      transform: scaleX(0);
      transition: transform var(--transition-base);
    }

    .info-card:hover::after {
      transform: scaleX(1);
    }

    .info-card:hover {
      transform: translateY(-3px);
      box-shadow: var(--shadow-lg);
    }

    .info-number {
      font-size: 2.5rem;
      font-weight: 700;
      background: var(--gradient-primary);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
      margin-bottom: 0.5rem;
    }

    .info-label {
      font-size: 0.9rem;
      color: var(--text-muted);
      text-transform: uppercase;
      letter-spacing: 1px;
    }

    /* ===================================
       10. EXPANDED EQUATION - NEON STYLE
    =================================== */
    .expanded-equation-box {
      background: var(--bg-medium);
      border: 2px solid var(--primary);
      border-radius: var(--radius-xl);
      padding: 3rem;
      text-align: center;
      margin: 2rem 0;
      position: relative;
      overflow: hidden;
      box-shadow: 0 0 30px var(--primary-glow);
    }

    .expanded-equation-box::before {
      content: '';
      position: absolute;
      top: -2px;
      left: -2px;
      right: -2px;
      bottom: -2px;
      background: var(--gradient-neon);
      border-radius: var(--radius-xl);
      opacity: 0.5;
      z-index: -1;
      animation: neonPulse 3s ease-in-out infinite;
    }

    .equation-formula {
      font-size: 1.3rem;
      font-weight: 700;
      line-height: 2.5;
      display: flex;
      align-items: center;
      justify-content: center;
      flex-wrap: wrap;
      gap: 1rem;
    }

    .equation-part {
      padding: 0.5rem 1rem;
      border-radius: var(--radius-sm);
      background: var(--surface);
      transition: all var(--transition-base);
    }

    .equation-part:hover {
      transform: scale(1.1);
      box-shadow: 0 0 20px currentColor;
    }

    /* ===================================
       11. TABLES - DARK THEME
    =================================== */
    .table-wrapper {
      overflow-x: auto;
      margin: 2rem 0;
      border-radius: var(--radius-lg);
      background: var(--bg-medium);
      border: 1px solid var(--border);
      box-shadow: var(--shadow-lg);
    }

    .styled-table {
      width: 100%;
      border-collapse: separate;
      border-spacing: 0;
      font-size: 0.9rem;
    }

    .styled-table thead {
      background: linear-gradient(135deg, var(--primary-dark), var(--primary));
    }

    .styled-table th {
      padding: 1rem;
      text-align: left;
      font-weight: 600;
      color: white;
      letter-spacing: 0.5px;
    }

    .styled-table tbody tr {
      transition: all var(--transition-base);
    }

    .styled-table tbody tr:hover {
      background: rgba(99, 102, 241, 0.1);
    }

    .styled-table td {
      padding: 0.875rem 1rem;
      border-top: 1px solid var(--border);
      color: var(--text-secondary);
    }

    /* ===================================
       12. KEY POINTS SECTION
    =================================== */
    .key-points {
      background: var(--bg-medium);
      border-left: 4px solid var(--primary);
      border-radius: var(--radius-md);
      padding: 2rem;
      margin: 2rem 0;
    }

    .key-points h3 {
      color: var(--primary);
      margin-bottom: 1rem;
      display: flex;
      align-items: center;
      gap: 0.5rem;
    }

    .key-points ul {
      list-style: none;
      padding: 0;
    }

    .key-points li {
      padding: 0.75rem 0;
      padding-left: 2rem;
      position: relative;
      color: var(--text-secondary);
      border-bottom: 1px solid var(--border);
    }

    .key-points li:last-child {
      border-bottom: none;
    }

    .key-points li::before {
      content: '→';
      position: absolute;
      left: 0;
      color: var(--primary);
      font-weight: bold;
    }

    /* ===================================
       13. RESPONSIVE DESIGN
    =================================== */
    @media (max-width: 768px) {
      .equation-container {
        flex-direction: column;
      }
      
      .equation-operator {
        transform: rotate(90deg);
        margin: 1rem 0;
      }
      
      .feature-grid,
      .info-grid {
        grid-template-columns: 1fr;
      }
      
      .hero-title {
        font-size: 2rem;
      }
      
      .card {
        padding: 1.5rem;
      }
    }
  </style>
</head>

<body>
  <!-- ANIMATED NAVIGATION -->
  <nav class="nav-header">
    <div class="nav-content">
      <a href="../index.html" class="nav-link">
        <i class="fas fa-home"></i>
        <span>Home</span>
      </a>
      <a href="../lessons.html" class="nav-link">
        <i class="fas fa-book"></i>
        <span>All Lessons</span>
      </a>
    </div>
  </nav>

  <!-- HERO SECTION -->
  <header class="hero">
    <div class="container">
      <h1 class="hero-title">Accounting Equation</h1>
      <p class="hero-subtitle">
        Master the fundamental principle that underlies all double-entry bookkeeping
      </p>
      <div class="breadcrumb">
        <a href="../index.html">Home</a>
        <span>/</span>
        <a href="../lessons.html">Lessons</a>
        <span>/</span>
        <span>Chapter 6</span>
      </div>
    </div>
  </header>

  <!-- MAIN CONTENT -->
  <main class="container">
    
    <!-- INTRODUCTION SECTION -->
    <section class="section card animate-in">
      <h2 class="card-title">
        <i class="fas fa-info-circle card-icon"></i>
        Introduction to Accounting Equation
      </h2>

      <div class="card-content">
        <p style="margin-bottom: 2rem;">
          The accounting equation is the cornerstone of the double-entry bookkeeping system. 
          It represents the relationship between a company's assets, liabilities, and owner's equity, 
          ensuring that the books always remain balanced and accurate.
        </p>

        <!-- Info Cards -->
        <div class="info-grid">
          <div class="info-card animate-scale stagger-1">
            <div class="info-number">100%</div>
            <div class="info-label">Always Balanced</div>
          </div>

          <div class="info-card animate-scale stagger-2">
            <div class="info-number">2x</div>
            <div class="info-label">Double Entry</div>
          </div>

          <div class="info-card animate-scale stagger-3">
            <div class="info-number">3</div>
            <div class="info-label">Key Components</div>
          </div>

          <div class="info-card animate-scale stagger-4">
            <div class="info-number">∞</div>
            <div class="info-label">Applications</div>
          </div>
        </div>

        <!-- Feature Cards -->
        <div class="feature-grid" style="margin-top: 3rem;">
          <div class="feature-card animate-scale stagger-1">
            <div class="feature-icon-wrapper">
              <i class="fas fa-balance-scale feature-icon"></i>
            </div>
            <h3 class="feature-title">Perfect Balance</h3>
            <p class="feature-text">
              Every transaction maintains the equation's balance, ensuring accuracy in financial records.
            </p>
          </div>

          <div class="feature-card animate-scale stagger-2">
            <div class="feature-icon-wrapper">
              <i class="fas fa-chart-line feature-icon"></i>
            </div>
            <h3 class="feature-title">Financial Health</h3>
            <p class="feature-text">
              Provides instant insight into the financial position and health of any business.
            </p>
          </div>

          <div class="feature-card animate-scale stagger-3">
            <div class="feature-icon-wrapper">
              <i class="fas fa-shield-alt feature-icon"></i>
            </div>
            <h3 class="feature-title">Error Detection</h3>
            <p class="feature-text">
              Built-in mechanism to detect and prevent errors in financial record keeping.
            </p>
          </div>

          <!-- Added Feature Cards -->
          <div class="feature-card animate-scale stagger-4">
            <div class="feature-icon-wrapper">
              <i class="fas fa-lightbulb feature-icon"></i>
            </div>
            <h3 class="feature-title">Conceptual Clarity</h3>
            <p class="feature-text">
              Builds a strong conceptual foundation for understanding advanced accounting principles and logic.
            </p>
          </div>

          <div class="feature-card animate-scale stagger-5">
            <div class="feature-icon-wrapper">
              <i class="fas fa-university feature-icon"></i>
            </div>
            <h3 class="feature-title">Universal Application</h3>
            <p class="feature-text">
              Whether it's a small firm or a global corporation, the accounting equation applies to all.
            </p>
          </div>

          <div class="feature-card animate-scale stagger-6">
            <div class="feature-icon-wrapper">
              <i class="fas fa-sync-alt feature-icon"></i>
            </div>
            <h3 class="feature-title">Consistency Principle</h3>
            <p class="feature-text">
              Maintains uniformity in recording and reporting, helping businesses track performance over time.
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- BASIC EQUATION SECTION -->
    <section class="section card animate-in">
      <h2 class="card-title">
        <i class="fas fa-equals card-icon"></i>
        The Basic Accounting Equation
      </h2>

      <div class="card-content">
        <p style="margin-bottom: 2rem;">
          The fundamental accounting equation forms the basis of the double-entry system of accounting. 
          It ensures that every transaction keeps the balance intact, expressing that:
          <strong>Assets = Liabilities + Owner’s Equity</strong>.
        </p>

        <!-- EQUATION VISUAL -->
        <div class="equation-container">
          <div class="equation-card animate-scale stagger-1" style="border-color: var(--primary); color: var(--primary);">
            <i class="fas fa-building equation-icon"></i>
            <h3 class="equation-title">ASSETS</h3>
            <p class="equation-description">Resources owned by the business</p>
          </div>

          <div class="equation-operator">=</div>

          <div class="equation-card animate-scale stagger-2" style="border-color: var(--secondary); color: var(--secondary);">
            <i class="fas fa-file-invoice-dollar equation-icon"></i>
            <h3 class="equation-title">LIABILITIES</h3>
            <p class="equation-description">Debts owed to creditors</p>
          </div>

          <div class="equation-operator">+</div>

          <div class="equation-card animate-scale stagger-3" style="border-color: var(--accent); color: var(--accent);">
            <i class="fas fa-user-tie equation-icon"></i>
            <h3 class="equation-title">OWNER'S EQUITY</h3>
            <p class="equation-description">Owner’s claim on total assets</p>
          </div>
        </div>

        <!-- Key Points Box -->
        <div class="key-points">
          <h3><i class="fas fa-key"></i> Key Points to Remember</h3>
          <ul>
            <li>The accounting equation must always remain balanced.</li>
            <li>Assets represent what the business owns or controls.</li>
            <li>Liabilities represent what the business owes to outsiders.</li>
            <li>Owner’s Equity represents the owner’s investment and accumulated profits.</li>
            <li>Every transaction affects at least two accounts — maintaining equality.</li>
          </ul>
        </div>

        <!-- COMPONENTS BREAKDOWN -->
        <div class="feature-grid" style="margin-top: 3rem;">
          <div class="feature-card animate-in">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--primary), var(--primary-dark));">
              <i class="fas fa-coins feature-icon"></i>
            </div>
            <h3 class="feature-title">Types of Assets</h3>
            <ul class="feature-text">
              <li>✓ Current Assets (Cash, Inventory, Debtors)</li>
              <li>✓ Fixed Assets (Land, Building, Machinery)</li>
              <li>✓ Intangible Assets (Patents, Goodwill)</li>
              <li>✓ Investments and Prepaid Expenses</li>
            </ul>
          </div>

          <div class="feature-card animate-in stagger-1">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--secondary), var(--secondary-light));">
              <i class="fas fa-hand-holding-usd feature-icon"></i>
            </div>
            <h3 class="feature-title">Types of Liabilities</h3>
            <ul class="feature-text">
              <li>✓ Current Liabilities (Creditors, Bills Payable)</li>
              <li>✓ Long-term Liabilities (Loans, Bonds Payable)</li>
              <li>✓ Contingent Liabilities (Possible Obligations)</li>
              <li>✓ Accrued & Deferred Liabilities</li>
            </ul>
          </div>

          <div class="feature-card animate-in stagger-2">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--accent), var(--accent-light));">
              <i class="fas fa-chart-pie feature-icon"></i>
            </div>
            <h3 class="feature-title">Owner's Equity Components</h3>
            <ul class="feature-text">
              <li>✓ Capital Introduced by Owner</li>
              <li>✓ Retained Earnings / Reserves</li>
              <li>✓ Revenues Increase Equity</li>
              <li>✓ Expenses & Drawings Decrease Equity</li>
            </ul>
          </div>
        </div>

        <!-- ACCOUNT TYPES & DEFINITIONS -->
        <h3 style="margin-top: 3.5rem; color: var(--primary);">
          <i class="fas fa-book-open"></i> Classification of Accounts
        </h3>

        <div class="feature-grid" style="margin-top: 1.5rem;">
          <div class="feature-card animate-in stagger-1">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--primary), var(--primary-light));">
              <i class="fas fa-piggy-bank feature-icon"></i>
            </div>
            <h3 class="feature-title">Asset Account</h3>
            <p class="feature-text">
              Represents all valuable resources owned by the business. 
              <strong>Rule:</strong> Debit increases, Credit decreases.
            </p>
          </div>

          <div class="feature-card animate-in stagger-2">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--secondary), var(--secondary-light));">
              <i class="fas fa-file-invoice feature-icon"></i>
            </div>
            <h3 class="feature-title">Liability Account</h3>
            <p class="feature-text">
              Represents obligations owed to outsiders. 
              <strong>Rule:</strong> Debit decreases, Credit increases.
            </p>
          </div>

          <div class="feature-card animate-in stagger-3">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--accent), var(--accent-light));">
              <i class="fas fa-user-circle feature-icon"></i>
            </div>
            <h3 class="feature-title">Capital Account</h3>
            <p class="feature-text">
              Shows the owner's claim on the business. 
              <strong>Rule:</strong> Debit decreases, Credit increases.
            </p>
          </div>

          <div class="feature-card animate-in stagger-4">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--success), var(--success-light));">
              <i class="fas fa-arrow-trend-up feature-icon"></i>
            </div>
            <h3 class="feature-title">Revenue / Income Account</h3>
            <p class="feature-text">
              Represents income earned through operations or investments. 
              <strong>Rule:</strong> Debit decreases, Credit increases.
            </p>
          </div>

          <div class="feature-card animate-in stagger-5">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--error), var(--error-light));">
              <i class="fas fa-arrow-trend-down feature-icon"></i>
            </div>
            <h3 class="feature-title">Expense / Loss Account</h3>
            <p class="feature-text">
              Records costs incurred and losses suffered by the business. 
              <strong>Rule:</strong> Debit increases, Credit decreases.
            </p>
          </div>
        </div>

        <!-- GOLDEN RULES -->
        <h3 style="margin-top: 3rem; color: var(--secondary);">
          <i class="fas fa-scale-balanced"></i> Golden Rules of Accounting
        </h3>
        <ul style="margin-top: 1rem; line-height: 1.8;">
          <li><strong>For Personal Accounts:</strong> Debit the receiver, Credit the giver.</li>
          <li><strong>For Real Accounts:</strong> Debit what comes in, Credit what goes out.</li>
          <li><strong>For Nominal Accounts:</strong> Debit all expenses and losses, Credit all incomes and gains.</li>
        </ul>

        <!-- QUICK STATISTICS -->
        <h3 style="margin-top: 3rem; margin-bottom: 1.5rem; color: var(--primary);">
          <i class="fas fa-chart-bar"></i> Quick Statistics
        </h3>
        <div class="info-grid">
          <div class="info-card">
            <div class="info-number">5</div>
            <div class="info-label">Account Types</div>
          </div>
          <div class="info-card">
            <div class="info-number">2+</div>
            <div class="info-label">Accounts Per Transaction</div>
          </div>
          <div class="info-card">
            <div class="info-number">Dr = Cr</div>
            <div class="info-label">Balance Rule</div>
          </div>
          <div class="info-card">
            <div class="info-number">1494</div>
            <div class="info-label">First Recorded Use</div>
          </div>
        </div>
      </div>

      <!-- INTERACTIVE TRANSACTION VISUALIZER -->
    <div class="card animate-in" style="margin-top:3rem; padding:2rem; border-radius:1rem; background:var(--card-bg); box-shadow:0 4px 12px rgba(0,0,0,0.08);">
      <h3 style="color:var(--accent); margin-bottom:1rem;">
        <i class="fas fa-calculator"></i> Interactive Transaction Simulator
      </h3>

      <!-- Progress Indicator -->
      <div style="display:flex; align-items:center; justify-content:space-between; margin-bottom:1.5rem; padding:0.8rem; background:rgba(99,102,241,0.05); border-radius:0.5rem;">
        <div>
          <strong>Transaction <span id="currentTxNum">1</span> of <span id="totalTxNum">10</span></strong>
        </div>
        <button onclick="resetSimulation()" style="padding:0.4rem 0.8rem; border-radius:0.5rem; border:1px solid var(--primary); background:white; color:var(--primary); cursor:pointer; font-size:0.85rem; font-weight:600;">
          <i class="fas fa-redo"></i> Reset All
        </button>
      </div>

      <!-- Transaction Scenario -->
      <div style="background:linear-gradient(135deg, rgba(99,102,241,0.08), rgba(16,185,129,0.08)); padding:1.5rem; border-radius:0.8rem; margin-bottom:1.5rem; border-left:4px solid var(--accent);">
        <p id="transactionText" style="margin:0; font-weight:600; font-size:1.05rem; color:var(--text);">
          <!-- Transaction will be loaded here -->
        </p>
      </div>

      <!-- Instructions -->
      <div style="background:rgba(255,193,7,0.08); padding:1rem; border-radius:0.5rem; margin-bottom:1.5rem; border-left:3px solid #ffc107;">
        <small style="color:var(--text);">
          <i class="fas fa-lightbulb" style="color:#ffc107;"></i> 
          <strong>How to play:</strong> Select the correct Debit and Credit entries for this transaction. Both must be selected to proceed.
        </small>
      </div>

      <!-- Account Entry Options -->
      <div id="entryOptions" style="display:grid; grid-template-columns:repeat(auto-fit, minmax(200px, 1fr)); gap:1rem; margin-bottom:1.5rem;">
        <!-- Buttons will be generated here -->
      </div>

      <!-- Selected Entries Display -->
      <div id="selectedEntries" style="min-height:60px; padding:1rem; background:rgba(99,102,241,0.05); border-radius:0.5rem; margin-bottom:1rem; border:2px dashed rgba(99,102,241,0.3);">
        <strong style="color:var(--text); font-size:0.9rem;">Your Selections:</strong>
        <div id="selectionsList" style="margin-top:0.5rem; display:flex; gap:0.5rem; flex-wrap:wrap;">
          <span style="color:var(--text-light); font-style:italic; font-size:0.9rem;">None yet</span>
        </div>
      </div>

      <!-- Feedback Message -->
      <div id="feedbackContainer" style="min-height:50px; display:flex; align-items:center; justify-content:center;">
        <p id="transactionFeedback" style="margin:0; font-weight:600; font-size:1rem; transition:all 0.3s ease;"></p>
      </div>

      <!-- Current Balances - Accounting Equation Display -->
      <div style="margin-top:2rem; padding:1.5rem; background:rgba(0,0,0,0.02); border-radius:0.8rem;">
        <h4 style="text-align:center; margin-bottom:1.5rem; color:var(--text);">
          <i class="fas fa-balance-scale"></i> Accounting Equation
        </h4>
        
        <div style="display:flex; gap:1rem; align-items:center; justify-content:center; flex-wrap:wrap;">
          <!-- Assets -->
          <div id="assetsCard" class="balance-card" style="flex:1; min-width:180px; text-align:center; padding:1.5rem; border-radius:0.8rem; background:linear-gradient(135deg, rgba(99,102,241,0.1), rgba(99,102,241,0.05)); border:2px solid rgba(99,102,241,0.3); transition:all 0.4s ease;">
            <div style="font-size:0.85rem; color:var(--text-light); margin-bottom:0.5rem; text-transform:uppercase; letter-spacing:1px;">
              <i class="fas fa-building"></i> Assets
            </div>
            <div id="assetsBalance" style="font-weight:bold; color:var(--primary); font-size:1.8rem; font-family:'Courier New', monospace;">
              ₹100,000
            </div>
            <div style="font-size:0.75rem; color:var(--text-light); margin-top:0.5rem;">
              Cash: <span id="cashBalance" style="font-weight:600; color:var(--text);">₹100,000</span>
            </div>
            <div style="font-size:0.75rem; color:var(--text-light); margin-top:0.3rem;">
              Equipment: <span id="equipmentBalance" style="font-weight:600; color:var(--text);">₹0</span>
            </div>
          </div>

          <!-- Equals Sign -->
          <div style="font-size:2rem; font-weight:bold; color:var(--accent); padding:0 0.5rem;">=</div>

          <!-- Liabilities + Equity -->
          <div id="liabEquityCard" class="balance-card" style="flex:1; min-width:180px; text-align:center; padding:1.5rem; border-radius:0.8rem; background:linear-gradient(135deg, rgba(16,185,129,0.1), rgba(16,185,129,0.05)); border:2px solid rgba(16,185,129,0.3); transition:all 0.4s ease;">
            <div style="font-size:0.85rem; color:var(--text-light); margin-bottom:0.5rem; text-transform:uppercase; letter-spacing:1px;">
              <i class="fas fa-receipt"></i> Liabilities + Equity
            </div>
            <div id="liabEquityBalance" style="font-weight:bold; color:var(--secondary); font-size:1.8rem; font-family:'Courier New', monospace;">
              ₹100,000
            </div>
            <div style="font-size:0.75rem; color:var(--text-light); margin-top:0.5rem;">
              Liabilities: <span id="liabilitiesBalance" style="font-weight:600; color:var(--text);">₹60,000</span>
            </div>
            <div style="font-size:0.75rem; color:var(--text-light); margin-top:0.3rem;">
              Capital: <span id="capitalBalance" style="font-weight:600; color:var(--text);">₹40,000</span>
            </div>
          </div>
        </div>
      </div>

      <!-- Transaction History -->
      <div style="margin-top:2rem;">
        <h4 style="color:var(--text); margin-bottom:1rem;">
          <i class="fas fa-history"></i> Transaction History
        </h4>
        <div id="transactionHistory" style="max-height:250px; overflow-y:auto; background:#f8f9fa; padding:1rem; border-radius:0.5rem; border:1px solid #dee2e6;">
          <p style="color:var(--text-light); font-style:italic; font-size:0.9rem;">No transactions applied yet.</p>
        </div>
      </div>

      <!-- Inline Styles -->
      <style>
      .entry-button {
        padding: 1.2rem;
        border-radius: 0.6rem;
        border: 2px solid;
        background: #1f2937; /* Dark background instead of white */
        cursor: pointer;
        transition: all 0.3s ease;
        font-weight: 600;
        font-size: 0.95rem;
        box-shadow: 0 2px 8px rgba(0,0,0,0.2);
        position: relative;
        overflow: hidden;
        color: #f3f4f6; /* Light text for contrast */
      }

      .entry-button:hover {
        transform: translateY(-3px);
        box-shadow: 0 6px 16px rgba(0,0,0,0.35);
      }

      .entry-button.debit {
        border-color: #6366f1;
        background: #1f2937;
        color: #c7d2fe;
      }

      .entry-button.debit:hover {
        background: rgba(99,102,241,0.2);
      }

      .entry-button.credit {
        border-color: #10b981;
        background: #1f2937;
        color: #a7f3d0;
      }

      .entry-button.credit:hover {
        background: rgba(16,185,129,0.2);
      }

      .entry-button.selected {
        border-width: 3px;
        transform: scale(1.05);
        box-shadow: 0 6px 20px rgba(0,0,0,0.4);
      }

      .entry-button.debit.selected {
        border-color: #4f46e5;
        background: rgba(99,102,241,0.25);
        color: #e0e7ff;
      }

      .entry-button.credit.selected {
        border-color: #059669;
        background: rgba(16,185,129,0.25);
        color: #d1fae5;
      }

      .entry-button.wrong {
        animation: shake 0.5s;
        border-color: #ef4444;
        background: rgba(239,68,68,0.2);
      }

      .entry-button.disabled {
        opacity: 0.4;
        cursor: not-allowed;
        pointer-events: none;
      }

      .entry-button .button-label {
        font-size: 1rem;
        font-weight: 600;
      }

      .entry-button .button-type {
        font-size: 0.75rem;
        margin-top: 0.4rem;
        color: #9ca3af;
        text-transform: uppercase;
        letter-spacing: 0.5px;
        font-weight: 700;
      }

        .balance-card.highlight {
          animation: pulse 0.6s;
          transform: scale(1.05);
        }

        @keyframes shake {
          0%, 100% { transform: translateX(0); }
          25% { transform: translateX(-8px); }
          75% { transform: translateX(8px); }
        }

        @keyframes pulse {
          0%, 100% { transform: scale(1); }
          50% { transform: scale(1.08); }
        }

        @keyframes countUp {
          from { opacity: 0.5; }
          to { opacity: 1; }
        }

        .selection-tag {
          display: inline-block;
          padding: 0.5rem 1rem;
          border-radius: 1.5rem;
          font-size: 0.85rem;
          font-weight: 700;
          background: #6366f1;
          color: white;
          animation: fadeIn 0.3s ease;
        }

        .selection-tag.credit-tag {
          background: #10b981;
        }

        @keyframes fadeIn {
          from { opacity: 0; transform: scale(0.8); }
          to { opacity: 1; transform: scale(1); }
        }

        .history-item {
          padding: 1rem;
          margin-bottom: 0.6rem;
          background: white;
          border-radius: 0.6rem;
          border-left: 5px solid #6366f1;
          font-size: 0.9rem;
          animation: slideIn 0.4s ease;
          box-shadow: 0 2px 4px rgba(0,0,0,0.06);
        }

        .history-item strong {
          color: #1a1a1a;
          display: block;
          margin-bottom: 0.4rem;
        }

        .history-item .history-details {
          margin-top: 0.4rem;
          font-size: 0.85rem;
          color: #4b5563;
          font-weight: 500;
        }

        @keyframes slideIn {
          from { opacity: 0; transform: translateX(-20px); }
          to { opacity: 1; transform: translateX(0); }
        }

        #transactionHistory::-webkit-scrollbar {
          width: 6px;
        }

        #transactionHistory::-webkit-scrollbar-track {
          background: #e5e7eb;
          border-radius: 10px;
        }

        #transactionHistory::-webkit-scrollbar-thumb {
          background: #9ca3af;
          border-radius: 10px;
        }

        #transactionHistory::-webkit-scrollbar-thumb:hover {
          background: #6b7280;
        }
      </style>

      <!-- Inline JavaScript -->
      <script>
        // Transaction database - 10 diverse transactions
        const transactionDatabase = [
          {
            id: 1,
            description: "Owner invests ₹50,000 cash into the business",
            correct: [
              { account: 'cash', type: 'debit', amount: 50000 },
              { account: 'capital', type: 'credit', amount: 50000 }
            ],
            options: [
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'capital', type: 'credit', label: 'Capital' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'liabilities', type: 'credit', label: 'Liabilities' }
            ]
          },
          {
            id: 2,
            description: "Purchased equipment for ₹30,000 on credit (creating a liability)",
            correct: [
              { account: 'equipment', type: 'debit', amount: 30000 },
              { account: 'liabilities', type: 'credit', amount: 30000 }
            ],
            options: [
              { account: 'equipment', type: 'debit', label: 'Equipment' },
              { account: 'liabilities', type: 'credit', label: 'Liabilities' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'capital', type: 'debit', label: 'Capital' }
            ]
          },
          {
            id: 3,
            description: "Paid ₹20,000 cash to reduce liabilities (settling a debt)",
            correct: [
              { account: 'liabilities', type: 'debit', amount: 20000 },
              { account: 'cash', type: 'credit', amount: 20000 }
            ],
            options: [
              { account: 'liabilities', type: 'debit', label: 'Liabilities' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'liabilities', type: 'credit', label: 'Liabilities' }
            ]
          },
          {
            id: 4,
            description: "Paid utility expenses ₹5,000 in cash (expense reduces owner's equity)",
            correct: [
              { account: 'capital', type: 'debit', amount: 5000 },
              { account: 'cash', type: 'credit', amount: 5000 }
            ],
            options: [
              { account: 'capital', type: 'debit', label: 'Capital (Expense)' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'liabilities', type: 'debit', label: 'Liabilities' },
              { account: 'cash', type: 'debit', label: 'Cash' }
            ]
          },
          {
            id: 5,
            description: "Earned revenue ₹15,000 received in cash (revenue increases equity)",
            correct: [
              { account: 'cash', type: 'debit', amount: 15000 },
              { account: 'capital', type: 'credit', amount: 15000 }
            ],
            options: [
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'capital', type: 'credit', label: 'Capital (Revenue)' },
              { account: 'liabilities', type: 'credit', label: 'Liabilities' },
              { account: 'capital', type: 'debit', label: 'Capital' }
            ]
          },
          {
            id: 6,
            description: "Purchased office supplies for ₹8,000 in cash",
            correct: [
              { account: 'equipment', type: 'debit', amount: 8000 },
              { account: 'cash', type: 'credit', amount: 8000 }
            ],
            options: [
              { account: 'equipment', type: 'debit', label: 'Equipment (Supplies)' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'capital', type: 'credit', label: 'Capital' }
            ]
          },
          {
            id: 7,
            description: "Borrowed ₹25,000 cash from bank (loan - creates liability)",
            correct: [
              { account: 'cash', type: 'debit', amount: 25000 },
              { account: 'liabilities', type: 'credit', amount: 25000 }
            ],
            options: [
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'liabilities', type: 'credit', label: 'Liabilities (Loan)' },
              { account: 'capital', type: 'credit', label: 'Capital' },
              { account: 'liabilities', type: 'debit', label: 'Liabilities' }
            ]
          },
          {
            id: 8,
            description: "Paid rent expense ₹10,000 in cash (expense reduces equity)",
            correct: [
              { account: 'capital', type: 'debit', amount: 10000 },
              { account: 'cash', type: 'credit', amount: 10000 }
            ],
            options: [
              { account: 'capital', type: 'debit', label: 'Capital (Rent Expense)' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'equipment', type: 'debit', label: 'Equipment' },
              { account: 'liabilities', type: 'credit', label: 'Liabilities' }
            ]
          },
          {
            id: 9,
            description: "Provided services and earned ₹20,000 revenue in cash",
            correct: [
              { account: 'cash', type: 'debit', amount: 20000 },
              { account: 'capital', type: 'credit', amount: 20000 }
            ],
            options: [
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'capital', type: 'credit', label: 'Capital (Service Revenue)' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'liabilities', type: 'debit', label: 'Liabilities' }
            ]
          },
          {
            id: 10,
            description: "Owner withdrew ₹12,000 cash for personal use (drawings reduce equity)",
            correct: [
              { account: 'capital', type: 'debit', amount: 12000 },
              { account: 'cash', type: 'credit', amount: 12000 }
            ],
            options: [
              { account: 'capital', type: 'debit', label: 'Capital (Drawings)' },
              { account: 'cash', type: 'credit', label: 'Cash' },
              { account: 'cash', type: 'debit', label: 'Cash' },
              { account: 'capital', type: 'credit', label: 'Capital' }
            ]
          }
        ];

        // Account balances
        let accounts = {
          cash: 100000,
          equipment: 0,
          capital: 40000,
          liabilities: 60000
        };

        // Simulation state
        let currentTransactionIndex = 0;
        let selectedEntries = [];
        let transactionHistory = [];
        let isProcessing = false;

        // Initialize simulation
        function initializeSimulation() {
          document.getElementById('totalTxNum').textContent = transactionDatabase.length;
          loadTransaction(currentTransactionIndex);
          updateBalanceDisplay();
        }

        // Load a transaction
        function loadTransaction(index) {
          if (index >= transactionDatabase.length) {
            showCompletion();
            return;
          }

          const transaction = transactionDatabase[index];
          document.getElementById('currentTxNum').textContent = index + 1;
          document.getElementById('transactionText').textContent = transaction.description;
          
          // Clear selections
          selectedEntries = [];
          updateSelectionDisplay();
          clearFeedback();

          // Generate option buttons
          const optionsContainer = document.getElementById('entryOptions');
          optionsContainer.innerHTML = '';
          
          transaction.options.forEach((option, idx) => {
            const button = document.createElement('button');
            button.className = `entry-button ${option.type}`;
            button.onclick = () => selectEntry(option, button);
            button.innerHTML = `
              <div style="display:flex; align-items:center; justify-content:space-between;">
                <span class="button-label">${option.label}</span>
                <i class="fas fa-${option.type === 'debit' ? 'plus-circle' : 'minus-circle'}" 
                  style="color:${option.type === 'debit' ? '#6366f1' : '#10b981'}; font-size:1.2rem;"></i>
              </div>
              <div class="button-type">${option.type}</div>
            `;
            button.dataset.account = option.account;
            button.dataset.type = option.type;
            optionsContainer.appendChild(button);
          });
        }

        // Handle entry selection
        function selectEntry(option, buttonElement) {
          if (isProcessing) return;

          const entryKey = `${option.account}-${option.type}`;
          const existingIndex = selectedEntries.findIndex(e => `${e.account}-${e.type}` === entryKey);

          // Toggle selection
          if (existingIndex > -1) {
            selectedEntries.splice(existingIndex, 1);
            buttonElement.classList.remove('selected');
          } else {
            // Limit to 2 selections (debit and credit)
            if (selectedEntries.length >= 2) {
              showFeedback('⚠️ You can only select 2 entries (1 Debit + 1 Credit). Deselect one first.', 'warning');
              return;
            }
            selectedEntries.push(option);
            buttonElement.classList.add('selected');
          }

          updateSelectionDisplay();
          
          // Check if ready to validate
          if (selectedEntries.length === 2) {
            setTimeout(() => validateTransaction(), 600);
          } else {
            clearFeedback();
          }
        }

        // Update selection display
        function updateSelectionDisplay() {
          const container = document.getElementById('selectionsList');
          
          if (selectedEntries.length === 0) {
            container.innerHTML = '<span style="color:var(--text-light); font-style:italic; font-size:0.9rem;">None yet</span>';
            return;
          }

          container.innerHTML = selectedEntries.map(entry => 
            `<span class="selection-tag ${entry.type === 'credit' ? 'credit-tag' : ''}">
              ${entry.type.toUpperCase()}: ${entry.label}
            </span>`
          ).join('');
        }

        // Validate transaction
        function validateTransaction() {
          isProcessing = true;
          const transaction = transactionDatabase[currentTransactionIndex];
          const correct = transaction.correct;

          // Check if selections match correct entries
          const isCorrect = selectedEntries.length === correct.length &&
            selectedEntries.every(selected => 
              correct.some(c => c.account === selected.account && c.type === selected.type)
            );

          if (isCorrect) {
            handleCorrectTransaction(transaction);
          } else {
            handleIncorrectTransaction();
          }

          isProcessing = false;
        }

        // Handle correct transaction
        function handleCorrectTransaction(transaction) {
          showFeedback('✅ Correct! Transaction applied successfully.', 'success');
          
          // Apply changes to accounts
          transaction.correct.forEach(entry => {
            if (entry.type === 'debit') {
              if (entry.account === 'liabilities' || entry.account === 'capital') {
                accounts[entry.account] -= entry.amount;
              } else {
                accounts[entry.account] = (accounts[entry.account] || 0) + entry.amount;
              }
            } else { // credit
              if (entry.account === 'cash' || entry.account === 'equipment') {
                accounts[entry.account] -= entry.amount;
              } else {
                accounts[entry.account] += entry.amount;
              }
            }
          });

          // Update display with animation
          updateBalanceDisplay(true);
          
          // Add to history
          addToHistory(transaction);

          // Disable current buttons
          document.querySelectorAll('.entry-button').forEach(btn => btn.classList.add('disabled'));

          // Move to next transaction after delay
          setTimeout(() => {
            currentTransactionIndex++;
            loadTransaction(currentTransactionIndex);
          }, 2000);
        }

        // Handle incorrect transaction
        function handleIncorrectTransaction() {
          showFeedback('❌ Incorrect! Review the accounting rules and try again.', 'error');
          
          // Shake wrong buttons
          document.querySelectorAll('.entry-button.selected').forEach(btn => {
            btn.classList.add('wrong');
            setTimeout(() => {
              btn.classList.remove('wrong', 'selected');
            }, 500);
          });

          selectedEntries = [];
          updateSelectionDisplay();
        }

        // Update balance display
        function updateBalanceDisplay(animate = false) {
          const totalAssets = (accounts.cash || 0) + (accounts.equipment || 0);
          const totalLiabEquity = accounts.liabilities + accounts.capital;

          // Animate if requested
          if (animate) {
            document.getElementById('assetsCard').classList.add('highlight');
            document.getElementById('liabEquityCard').classList.add('highlight');
            setTimeout(() => {
              document.getElementById('assetsCard').classList.remove('highlight');
              document.getElementById('liabEquityCard').classList.remove('highlight');
            }, 600);
          }

          // Update displays
          animateValue('assetsBalance', totalAssets);
          animateValue('liabEquityBalance', totalLiabEquity);
          animateValue('cashBalance', accounts.cash || 0);
          animateValue('equipmentBalance', accounts.equipment || 0);
          animateValue('capitalBalance', accounts.capital);
          animateValue('liabilitiesBalance', accounts.liabilities);
        }

        // Animate number changes
        function animateValue(elementId, newValue) {
          const element = document.getElementById(elementId);
          element.style.animation = 'countUp 0.5s ease';
          element.textContent = `₹${newValue.toLocaleString()}`;
          setTimeout(() => element.style.animation = '', 500);
        }

        // Add transaction to history
        function addToHistory(transaction) {
          const historyContainer = document.getElementById('transactionHistory');
          
          if (transactionHistory.length === 0) {
            historyContainer.innerHTML = '';
          }

          const historyItem = document.createElement('div');
          historyItem.className = 'history-item';
          historyItem.innerHTML = `
            <strong>Transaction ${transactionHistory.length + 1}: ${transaction.description}</strong>
            <div class="history-details">
              ${transaction.correct.map(e => 
                `<span style="color: ${e.type === 'debit' ? '#6366f1' : '#10b981'}; font-weight:700;">
                  ${e.type === 'debit' ? 'Dr.' : 'Cr.'} ${e.account.charAt(0).toUpperCase() + e.account.slice(1)} ₹${e.amount.toLocaleString()}
                </span>`
              ).join(' | ')}
            </div>
          `;
          
          historyContainer.insertBefore(historyItem, historyContainer.firstChild);
          transactionHistory.push(transaction);
        }

        // Show feedback message
        function showFeedback(message, type) {
          const feedback = document.getElementById('transactionFeedback');
          feedback.textContent = message;
          
          const colors = {
            success: '#10b981',
            error: '#ef4444',
            warning: '#f59e0b'
          };
          
          feedback.style.color = colors[type] || '#666';
          feedback.style.animation = 'fadeIn 0.3s ease';
          feedback.style.fontSize = '1.05rem';
        }

        // Clear feedback
        function clearFeedback() {
          document.getElementById('transactionFeedback').textContent = '';
        }

        // Show completion message
        function showCompletion() {
          document.getElementById('transactionText').innerHTML = 
            '<i class="fas fa-trophy" style="color:gold; font-size:1.5rem;"></i> <strong>Congratulations! You\'ve completed all 10 transactions!</strong>';
          document.getElementById('entryOptions').innerHTML = '';
          document.getElementById('selectionsList').innerHTML = '<span style="color:#10b981; font-weight:bold; font-size:1rem;">✅ All transactions completed successfully!</span>';
          
          showFeedback('🎉 Outstanding! You\'ve mastered the basic accounting equation!', 'success');
          
          // Check if equation balances
          const totalAssets = (accounts.cash || 0) + (accounts.equipment || 0);
          const totalLiabEquity = accounts.liabilities + accounts.capital;
          
          if (totalAssets === totalLiabEquity) {
            setTimeout(() => {
              showFeedback(`✅ Perfect! The equation balances: ₹${totalAssets.toLocaleString()} = ₹${totalLiabEquity.toLocaleString()}`, 'success');
            }, 1500);
          }
        }

        // Reset simulation
        function resetSimulation() {
          if (!confirm('Are you sure you want to reset all transactions and start over?')) return;
          
          accounts = {
            cash: 100000,
            equipment: 0,
            capital: 40000,
            liabilities: 60000
          };
          
          currentTransactionIndex = 0;
          selectedEntries = [];
          transactionHistory = [];
          isProcessing = false;
          
          document.getElementById('transactionHistory').innerHTML = 
            '<p style="color:var(--text-light); font-style:italic; font-size:0.9rem;">No transactions applied yet.</p>';
          
          initializeSimulation();
        }

        // Initialize on page load
        initializeSimulation();
      </script>
    </div>
    </section>


    <!-- EXPANDED EQUATION SECTION -->
    <section class="section card animate-in">
      <h2 class="card-title">
        <i class="fas fa-expand-arrows-alt card-icon"></i>
        Expanded Accounting Equation
      </h2>
      <div class="card-content">
        <p style="margin-bottom: 2rem;">
          The expanded accounting equation provides a more detailed view of how business operations 
          affect the owner's equity component.
        </p>

        <!-- EXPANDED EQUATION DISPLAY -->
        <div class="expanded-equation-box animate-scale">
          <h3 style="color: var(--text-primary); margin-bottom: 2rem; font-size: 1.5rem;">
            Complete Formula
          </h3>
          
          <div class="equation-formula">
            <span class="equation-part" style="color: var(--primary);">ASSETS</span>
            <span style="color: var(--text-muted);">=</span>
            <span class="equation-part" style="color: var(--secondary);">LIABILITIES</span>
            <span style="color: var(--text-muted);">+</span>
            <span class="equation-part" style="color: var(--accent);">CAPITAL</span>
            <span style="color: var(--text-muted);">+</span>
            <span class="equation-part" style="color: var(--success);">REVENUE</span>
            <span style="color: var(--text-muted);">-</span>
            <span class="equation-part" style="color: #ef4444;">EXPENSES</span>
            <span style="color: var(--text-muted);">-</span>
            <span class="equation-part" style="color: var(--warning);">DRAWINGS</span>
          </div>
        </div>

        <!-- More Info Cards -->
        <div class="feature-grid" style="margin-top: 3rem;">
          <div class="feature-card">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, #10b981, #059669);">
              <i class="fas fa-arrow-up feature-icon"></i>
            </div>
            <h3 class="feature-title" style="color: var(--success);">Revenue Impact</h3>
            <p class="feature-text">
              Increases both assets and owner's equity. Examples: Sales, Service Income, Interest Earned
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
              <i class="fas fa-arrow-down feature-icon"></i>
            </div>
            <h3 class="feature-title" style="color: #ef4444;">Expense Impact</h3>
            <p class="feature-text">
              Decreases assets and owner's equity. Examples: Rent, Salaries, Utilities, Supplies
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--warning), #d97706);">
              <i class="fas fa-hand-holding-dollar feature-icon"></i>
            </div>
            <h3 class="feature-title" style="color: var(--warning);">Drawings Impact</h3>
            <p class="feature-text">
              Reduces both assets and owner's equity. Personal withdrawals by the owner
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon-wrapper" style="background: var(--gradient-primary);">
              <i class="fas fa-calculator feature-icon"></i>
            </div>
            <h3 class="feature-title">Net Income</h3>
            <p class="feature-text">
              Revenue - Expenses = Net Income (adds to owner's equity if positive)
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon-wrapper" style="background: var(--gradient-neon);">
              <i class="fas fa-sync feature-icon"></i>
            </div>
            <h3 class="feature-title">Closing Process</h3>
            <p class="feature-text">
              Revenue and expense accounts are closed to owner's equity at period end
            </p>
          </div>

          <div class="feature-card">
            <div class="feature-icon-wrapper" style="background: linear-gradient(135deg, var(--accent), var(--accent-light));">
              <i class="fas fa-book feature-icon"></i>
            </div>
            <h3 class="feature-title">Trial Balance</h3>
            <p class="feature-text">
              Used to verify that the accounting equation remains balanced
            </p>
          </div>
        </div>
      </div>
    </section>

    <!-- PRACTICAL EXAMPLES - DK GOEL STYLE -->
    <section class="section card animate-in">
      <h2 class="card-title">
        <i class="fas fa-calculator card-icon"></i>
        Practical Examples & Applications
      </h2>
      <div class="card-content">
        <p style="margin-bottom: 2rem; color: var(--text-secondary);">
          Understanding how the accounting equation changes with each business transaction — <strong>DK Goel Style Step-by-Step Solutions</strong>
        </p>

        <!-- Instruction Box -->
        <div style="background: rgba(255,193,7,0.1); border-left: 4px solid #ffc107; border-radius: 0.5rem; padding: 1.5rem; margin-bottom: 2rem;">
          <h4 style="color: #f59e0b; margin-bottom: 0.5rem;">
            <i class="fas fa-info-circle"></i> How to Read This Table
          </h4>
          <p style="color: var(--text); font-size: 0.95rem; margin: 0;">
            After each transaction, observe how account balances change while the equation <strong>Assets = Liabilities + Capital</strong> always remains balanced. 
            <span style="color: #10b981; font-weight: 600;">Green text</span> shows increases, 
            <span style="color: #ef4444; font-weight: 600;">red text</span> shows decreases.
          </p>
        </div>

        <!-- Transactions Table -->
        <div style="overflow-x: auto; margin-bottom: 2rem;">
          <table style="width: 100%; border-collapse: collapse; background: white; border-radius: 0.5rem; overflow: hidden; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <!-- Table Header -->
            <thead>
              <tr style="background: linear-gradient(135deg, #6366f1, #4f46e5); color: white;">
                <th style="padding: 1rem; text-align: left; font-weight: 700; border-right: 1px solid rgba(255,255,255,0.1);">Transaction</th>
                <th style="padding: 1rem; text-align: center; font-weight: 700; border-right: 1px solid rgba(255,255,255,0.1);">Cash (₹)</th>
                <th style="padding: 1rem; text-align: center; font-weight: 700; border-right: 1px solid rgba(255,255,255,0.1);">Furniture (₹)</th>
                <th style="padding: 1rem; text-align: center; font-weight: 700; border-right: 1px solid rgba(255,255,255,0.1);">Goods (₹)</th>
                <th style="padding: 1rem; text-align: center; font-weight: 700; border-right: 1px solid rgba(255,255,255,0.1);">Liabilities (₹)</th>
                <th style="padding: 1rem; text-align: center; font-weight: 700;">Capital (₹)</th>
              </tr>
            </thead>
            <tbody>
              <!-- Transaction 1 -->
              <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">1. Owner starts business with cash ₹1,00,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">1,00,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">0</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">0</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">0</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">1,00,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,00,000) = Liabilities (0) + Capital (1,00,000) ✓
                </td>
              </tr>

              <!-- Transaction 2 -->
              <tr style="background: white; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">2. Purchased furniture for ₹20,000 cash</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">80,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">0</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">0</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">1,00,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,00,000) = Liabilities (0) + Capital (1,00,000) ✓
                </td>
              </tr>

              <!-- Transaction 3 -->
              <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">3. Purchased goods worth ₹30,000 cash</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">50,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">30,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">0</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">1,00,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,00,000) = Liabilities (0) + Capital (1,00,000) ✓
                </td>
              </tr>

              <!-- Transaction 4 -->
              <tr style="background: white; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">4. Purchased goods on credit ₹15,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">50,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">45,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #f59e0b;">15,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">1,00,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,15,000) = Liabilities (15,000) + Capital (1,00,000) ✓
                </td>
              </tr>

              <!-- Transaction 5 -->
              <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">5. Paid rent ₹5,000 cash (expense)</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">45,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">45,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">15,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">95,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,10,000) = Liabilities (15,000) + Capital (95,000) ✓
                </td>
              </tr>

              <!-- Transaction 6 -->
              <tr style="background: white; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">6. Sold goods for ₹12,000 cash (cost ₹10,000, profit ₹2,000)</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">57,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">35,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">15,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">97,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,12,000) = Liabilities (15,000) + Capital (97,000) ✓
                </td>
              </tr>

              <!-- Transaction 7 -->
              <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">7. Paid creditors ₹7,000 cash</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">50,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">35,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">8,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">97,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,05,000) = Liabilities (8,000) + Capital (97,000) ✓
                </td>
              </tr>

              <!-- Transaction 8 -->
              <tr style="background: white; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">8. Owner withdrew cash for personal use ₹5,000 (drawings)</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">45,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">35,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">8,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">92,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,00,000) = Liabilities (8,000) + Capital (92,000) ✓
                </td>
              </tr>

              <!-- Transaction 9 -->
              <tr style="background: #f9fafb; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">9. Paid salaries ₹4,000 cash (expense)</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">41,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">35,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">8,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #ef4444;">88,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (96,000) = Liabilities (8,000) + Capital (88,000) ✓
                </td>
              </tr>

              <!-- Transaction 10 -->
              <tr style="background: white; border-bottom: 1px solid #e5e7eb;">
                <td style="padding: 1rem; font-weight: 600; color: #1f2937;">10. Purchased goods on credit ₹10,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">41,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">20,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #10b981;">45,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace; font-weight: 700; color: #f59e0b;">18,000</td>
                <td style="padding: 1rem; text-align: center; font-family: 'Courier New', monospace;">88,000</td>
              </tr>
              <tr style="background: rgba(99,102,241,0.05); border-bottom: 2px solid #6366f1;">
                <td colspan="6" style="padding: 0.6rem 1rem; font-size: 0.85rem; color: #4f46e5; font-weight: 600;">
                  <i class="fas fa-balance-scale"></i> Assets (1,06,000) = Liabilities (18,000) + Capital (88,000) ✓
                </td>
              </tr>
            </tbody>
          </table>
        </div>

        <!-- Key Learnings -->
        <div style="background: linear-gradient(135deg, rgba(99,102,241,0.1), rgba(16,185,129,0.1)); border-left: 4px solid var(--primary); border-radius: 0.5rem; padding: 2rem; margin-bottom: 2rem;">
          <h3 style="color: var(--primary); margin-bottom: 1rem;">
            <i class="fas fa-lightbulb"></i> Key Observations
          </h3>
          
          <div class="key-points">
            <ul style="list-style: none; padding: 0;">
              <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                <i class="fas fa-check-circle" style="position: absolute; left: 0; color: #10b981; top: 0.2rem;"></i>
                <strong>Cash Transactions:</strong> When buying assets for cash (T2, T3), cash decreases but another asset increases — total assets remain same.
              </li>
              <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                <i class="fas fa-check-circle" style="position: absolute; left: 0; color: #10b981; top: 0.2rem;"></i>
                <strong>Credit Purchases:</strong> Buying on credit (T4, T10) increases both assets and liabilities equally.
              </li>
              <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                <i class="fas fa-check-circle" style="position: absolute; left: 0; color: #10b981; top: 0.2rem;"></i>
                <strong>Expenses:</strong> Paying expenses (T5, T9) reduces both cash and capital.
              </li>
              <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                <i class="fas fa-check-circle" style="position: absolute; left: 0; color: #10b981; top: 0.2rem;"></i>
                <strong>Sales with Profit:</strong> Selling goods at profit (T6) increases cash more than goods decrease, profit increases capital.
              </li>
              <li style="margin-bottom: 0.8rem; padding-left: 1.5rem; position: relative;">
                <i class="fas fa-check-circle" style="position: absolute; left: 0; color: #10b981; top: 0.2rem;"></i>
                <strong>Paying Liabilities:</strong> Paying creditors (T7) decreases both cash and liabilities.
              </li>
              <li style="padding-left: 1.5rem; position: relative;">
                <i class="fas fa-check-circle" style="position: absolute; left: 0; color: #10b981; top: 0.2rem;"></i>
                <strong>Drawings:</strong> Owner withdrawals (T8) reduce both assets and capital.
              </li>
            </ul>
          </div>
        </div>

        <!-- Practice Stats -->
        <div class="info-grid" style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 1rem;">
          <div class="info-card" style="text-align: center; padding: 1.5rem; background: white; border-radius: 0.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <div class="info-number" style="font-size: 2rem; font-weight: 700; color: var(--primary);">10</div>
            <div class="info-label" style="color: var(--text-secondary); font-size: 0.9rem;">Complete Transactions</div>
          </div>
          <div class="info-card" style="text-align: center; padding: 1.5rem; background: white; border-radius: 0.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <div class="info-number" style="font-size: 2rem; font-weight: 700; color: var(--secondary);">100%</div>
            <div class="info-label" style="color: var(--text-secondary); font-size: 0.9rem;">Equation Balanced</div>
          </div>
          <div class="info-card" style="text-align: center; padding: 1.5rem; background: white; border-radius: 0.5rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
            <div class="info-number" style="font-size: 2rem; font-weight: 700; color: #f59e0b;">DK Goel</div>
            <div class="info-label" style="color: var(--text-secondary); font-size: 0.9rem;">Style Solutions</div>
          </div>
        </div>
      </div>
    </section>

    <!-- PRACTICE PROBLEMS - DK GOEL TABLE FORMAT -->
    <section class="section card animate-in" style="margin-top: 2rem;">
      <h2 class="card-title">
        <i class="fas fa-pen-fancy card-icon"></i>
        Practice Problems - Solve Yourself
      </h2>
      <div class="card-content">
        <p style="margin-bottom: 2rem; color: var(--text-secondary);">
          Try solving these problems on your own. Click "Show Solution" to verify your answers.
        </p>

        <!-- Problem 1 -->
        <div style="background: white; border-radius: 0.8rem; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
          <h3 style="color: var(--primary); margin-bottom: 1.5rem;">
            <i class="fas fa-book"></i> Problem 1: Mr. Sharma's Business
          </h3>

          <div style="background: rgba(99,102,241,0.1); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--primary);">
            <h4 style="margin-bottom: 1rem; color: var(--text);">Question:</h4>
            <p style="margin-bottom: 0.5rem;">Mr. Sharma started a business. Record the following transactions:</p>
            <ol style="margin-left: 1.5rem; line-height: 1.8;">
              <li>Commenced business with cash ₹2,00,000</li>
              <li>Purchased goods for cash ₹50,000</li>
              <li>Purchased furniture on credit ₹30,000</li>
              <li>Sold goods for cash ₹60,000 (costing ₹40,000)</li>
              <li>Paid rent ₹8,000</li>
              <li>Paid to creditors ₹20,000</li>
              <li>Withdrew cash for personal use ₹10,000</li>
            </ol>
            <p style="margin-top: 1rem; font-weight: 600; color: var(--primary);">Prepare the accounting equation showing effect of each transaction.</p>
          </div>

          <button onclick="document.getElementById('solution1').style.display = document.getElementById('solution1').style.display === 'none' ? 'block' : 'none'" 
                  style="padding: 0.8rem 1.5rem; background: var(--primary); color: white; border: none; border-radius: 0.5rem; cursor: pointer; font-weight: 600; margin-bottom: 1rem;">
            <i class="fas fa-eye"></i> Show/Hide Solution
          </button>

          <div id="solution1" style="display: none; overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
              <thead>
                <tr>
                  <th rowspan="2" style="border: 2px solid #4a5568; padding: 12px; text-align: left; font-weight: bold; background-color: #2d3748; color: white;">Transactions</th>
                  <th colspan="3" style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: bold; background-color: #2d3748; color: white;">Assets</th>
                  <th rowspan="2" style="border: 2px solid #4a5568; padding: 12px; text-align: center; background-color: #2d3748; color: white; font-size: 1.2rem;">=</th>
                  <th colspan="1" style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: bold; background-color: #2d3748; color: white;">Liabilities</th>
                  <th rowspan="2" style="border: 2px solid #4a5568; padding: 12px; text-align: center; background-color: #2d3748; color: white; font-size: 1.2rem;">+</th>
                  <th colspan="1" style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: bold; background-color: #2d3748; color: white;">Capital</th>
                </tr>
                <tr style="background-color: #4a5568; color: white;">
                  <th style="border: 2px solid #4a5568; padding: 10px; font-weight: 600;">Cash (₹)</th>
                  <th style="border: 2px solid #4a5568; padding: 10px; font-weight: 600;">Stock (₹)</th>
                  <th style="border: 2px solid #4a5568; padding: 10px; font-weight: 600;">Furniture (₹)</th>
                  <th style="border: 2px solid #4a5568; padding: 10px; font-weight: 600;">Creditors (₹)</th>
                  <th style="border: 2px solid #4a5568; padding: 10px; font-weight: 600;">Capital (₹)</th>
                </tr>
              </thead>
              <tbody>
                <!-- Initial -->
                <tr style="background-color: #e2e8f0;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">Initial Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                </tr>

                <!-- Transaction 1 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">1. Commenced business with cash ₹2,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+2,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+2,00,000</td>
                </tr>
                <tr style="background-color: #dbeafe;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1e40af;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,00,000</td>
                </tr>

                <!-- Transaction 2 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">2. Purchased goods for cash ₹50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                </tr>
                <tr style="background-color: #dbeafe;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1e40af;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,00,000</td>
                </tr>

                <!-- Transaction 3 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">3. Purchased furniture on credit ₹30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #f59e0b; font-weight: bold;">+30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                </tr>
                <tr style="background-color: #dbeafe;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1e40af;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,00,000</td>
                </tr>

                <!-- Transaction 4 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">4. Sold goods for ₹60,000 cash (cost ₹40,000)</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+60,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-40,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+20,000</td>
                </tr>
                <tr style="background-color: #dbeafe;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1e40af;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,20,000</td>
                </tr>

                <!-- Transaction 5 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">5. Paid rent ₹8,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-8,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-8,000</td>
                </tr>
                <tr style="background-color: #dbeafe;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1e40af;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,02,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,12,000</td>
                </tr>

                <!-- Transaction 6 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">6. Paid to creditors ₹20,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-20,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">-20,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                </tr>
                <tr style="background-color: #dbeafe;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1e40af;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,82,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,12,000</td>
                </tr>

                <!-- Transaction 7 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">7. Withdrew cash for personal use ₹10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-10,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-10,000</td>
                </tr>
                <tr style="background-color: #cbd5e0;">
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: left; font-weight: bold; color: #1a202c; font-size: 1.05rem;">Final Equation</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">1,72,000</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">10,000</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">30,000</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">10,000</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 2px solid #4a5568; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">2,02,000</td>
                </tr>

                <!-- Total Row -->
                <tr style="background-color: #93c5fd; font-weight: bold;">
                  <td style="border: 2px solid #4a5568; padding: 12px; text-align: left; font-weight: bold; color: #1e3a8a; font-size: 1.05rem;">Total</td>
                  <td colspan="3" style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: 700; color: #1e3a8a; font-size: 1.05rem;">2,12,000</td>
                  <td style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: bold; color: #1e3a8a;">=</td>
                  <td style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: 700; color: #1e3a8a; font-size: 1.05rem;">10,000</td>
                  <td style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: bold; color: #1e3a8a;">+</td>
                  <td style="border: 2px solid #4a5568; padding: 12px; text-align: center; font-weight: 700; color: #1e3a8a; font-size: 1.05rem;">2,02,000</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

        <!-- Problem 2 -->
        <div style="background: white; border-radius: 0.8rem; padding: 2rem; margin-bottom: 2rem; box-shadow: 0 2px 8px rgba(0,0,0,0.08);">
          <h3 style="color: var(--secondary); margin-bottom: 1.5rem;">
            <i class="fas fa-book"></i> Problem 2: Ms. Priya's Trading Firm
          </h3>

          <div style="background: rgba(16,185,129,0.1); padding: 1.5rem; border-radius: 0.5rem; margin-bottom: 1.5rem; border-left: 4px solid var(--secondary);">
            <h4 style="margin-bottom: 1rem; color: var(--text);">Question:</h4>
            <p style="margin-bottom: 0.5rem;">Ms. Priya started her business. Record the following:</p>
            <ol style="margin-left: 1.5rem; line-height: 1.8;">
              <li>Started business with cash ₹3,00,000</li>
              <li>Purchased machinery for cash ₹80,000</li>
              <li>Bought goods ₹1,00,000 - paid ₹60,000 cash, rest on credit</li>
              <li>Paid salaries ₹15,000</li>
              <li>Sold goods costing ₹50,000 for ₹70,000 cash</li>
              <li>Paid creditors ₹25,000</li>
              <li>Owner withdrew ₹12,000 for personal use</li>
            </ol>
          </div>

          <button onclick="document.getElementById('solution2').style.display = document.getElementById('solution2').style.display === 'none' ? 'block' : 'none'" 
                  style="padding: 0.8rem 1.5rem; background: var(--secondary); color: white; border: none; border-radius: 0.5rem; cursor: pointer; font-weight: 600; margin-bottom: 1rem;">
            <i class="fas fa-eye"></i> Show/Hide Solution
          </button>

          <div id="solution2" style="display: none; overflow-x: auto;">
            <table style="width: 100%; border-collapse: collapse; margin-top: 20px; box-shadow: 0 4px 12px rgba(0,0,0,0.1);">
              <thead>
                <tr>
                  <th rowspan="2" style="border: 2px solid #047857; padding: 12px; text-align: left; font-weight: bold; background-color: #065f46; color: white;">Transactions</th>
                  <th colspan="3" style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: bold; background-color: #065f46; color: white;">Assets</th>
                  <th rowspan="2" style="border: 2px solid #047857; padding: 12px; text-align: center; background-color: #065f46; color: white; font-size: 1.2rem;">=</th>
                  <th colspan="1" style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: bold; background-color: #065f46; color: white;">Liabilities</th>
                  <th rowspan="2" style="border: 2px solid #047857; padding: 12px; text-align: center; background-color: #065f46; color: white; font-size: 1.2rem;">+</th>
                  <th colspan="1" style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: bold; background-color: #065f46; color: white;">Capital</th>
                </tr>
                <tr style="background-color: #059669; color: white;">
                  <th style="border: 2px solid #047857; padding: 10px; font-weight: 600;">Cash (₹)</th>
                  <th style="border: 2px solid #047857; padding: 10px; font-weight: 600;">Machinery (₹)</th>
                  <th style="border: 2px solid #047857; padding: 10px; font-weight: 600;">Stock (₹)</th>
                  <th style="border: 2px solid #047857; padding: 10px; font-weight: 600;">Creditors (₹)</th>
                  <th style="border: 2px solid #047857; padding: 10px; font-weight: 600;">Capital (₹)</th>
                </tr>
              </thead>
              <tbody>
                <!-- Initial -->
                <tr style="background-color: #e2e8f0;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">Initial Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #1a202c;">0</td>
                </tr>

                <!-- Transaction 1 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">1. Started business with cash ₹3,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+3,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+3,00,000</td>
                </tr>
                <tr style="background-color: #d1fae5;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #065f46;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">3,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">3,00,000</td>
                </tr>

                <!-- Transaction 2 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">2. Purchased machinery for cash ₹80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                </tr>
                <tr style="background-color: #d1fae5;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #065f46;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,20,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">0</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">3,00,000</td>
                </tr>

                <!-- Transaction 3 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">3. Bought goods (60k cash + 40k credit)</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-60,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+1,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #f59e0b; font-weight: bold;">+40,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                </tr>
                <tr style="background-color: #d1fae5;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #065f46;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,60,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">40,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">3,00,000</td>
                </tr>

                <!-- Transaction 4 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">4. Paid salaries ₹15,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-15,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-15,000</td>
                </tr>
                <tr style="background-color: #d1fae5;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #065f46;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,45,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,00,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">40,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,85,000</td>
                </tr>

                <!-- Transaction 5 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">5. Sold goods (Cost: 50k, Sale: 70k)</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+70,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">+20,000</td>
                </tr>
                <tr style="background-color: #d1fae5;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #065f46;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">2,15,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">40,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">3,05,000</td>
                </tr>

                <!-- Transaction 6 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">6. Paid creditors ₹25,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-25,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #10b981; font-weight: bold;">-25,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                </tr>
                <tr style="background-color: #d1fae5;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #065f46;">New Equation</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">1,90,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">80,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">50,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">15,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; font-weight: 600; font-family: monospace; color: #1a202c;">3,05,000</td>
                </tr>

                <!-- Transaction 7 -->
                <tr style="background-color: white;">
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: left; font-weight: bold; color: #1a202c;">7. Withdrew for personal use ₹12,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-12,000</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">=</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #64748b;">—</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center;">+</td>
                  <td style="border: 1px solid #cbd5e0; padding: 10px; text-align: center; color: #ef4444; font-weight: bold;">-12,000</td>
                </tr>
                <tr style="background-color: #cbd5e0;">
                  <td style="border: 2px solid #047857; padding: 10px; text-align: left; font-weight: bold; color: #1a202c; font-size: 1.05rem;">Final Equation</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">1,78,000</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">80,000</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">50,000</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: bold;">=</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">15,000</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: bold;">+</td>
                  <td style="border: 2px solid #047857; padding: 10px; text-align: center; font-weight: 700; font-family: monospace; color: #1a202c;">2,93,000</td>
                </tr>

                <!-- Total Row -->
                <tr style="background-color: #6ee7b7; font-weight: bold;">
                  <td style="border: 2px solid #047857; padding: 12px; text-align: left; font-weight: bold; color: #064e3b; font-size: 1.05rem;">Total</td>
                  <td colspan="3" style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: 700; color: #064e3b; font-size: 1.05rem;">3,08,000</td>
                  <td style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: bold; color: #064e3b;">=</td>
                  <td style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: 700; color: #064e3b; font-size: 1.05rem;">15,000</td>
                  <td style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: bold; color: #064e3b;">+</td>
                  <td style="border: 2px solid #047857; padding: 12px; text-align: center; font-weight: 700; color: #064e3b; font-size: 1.05rem;">2,93,000</td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>

      </div>
    </section>

    <!-- SUMMARY SECTION -->
    <section class="section card animate-in">
      <h2 class="card-title">
        <i class="fas fa-bookmark card-icon"></i>
        Chapter Summary
      </h2>
      <div class="card-content">
        <div class="key-points">
          <h3><i class="fas fa-check-circle"></i> What You've Learned</h3>
          <ul>
            <li>The basic accounting equation: Assets = Liabilities + Owner's Equity</li>
            <li>How every transaction affects at least two accounts</li>
            <li>The expanded equation includes Revenue, Expenses, and Drawings</li>
            <li>The equation must always remain balanced</li>
            <li>Real-world application of the accounting equation</li>
          </ul>
        </div>
      </div>
    </section>

    <!-- MCQ PRACTICE SECTION -->
    <section class="card" id="mcqSection"> 
      <h2>🧩 MCQ Practice</h2> 
      <div id="quiz-progress"></div> 
      <div class="mcq-grid" id="quiz-container"> 
      <!-- Question 1 --> 
       <div class="mcq" data-answer="b"> <h3>1. What is the basic accounting equation?</h3> 
        <input type="radio" name="q1" id="q1a" value="a"> 
        <label for="q1a">Assets = Liabilities - Owner's Equity</label>

        <input type="radio" name="q1" id="q1b" value="b">
        <label for="q1b">Assets = Liabilities + Owner's Equity</label>

        <input type="radio" name="q1" id="q1c" value="c">
        <label for="q1c">Assets + Liabilities = Owner's Equity</label>

        <input type="radio" name="q1" id="q1d" value="d">
        <label for="q1d">Assets - Owner's Equity = Liabilities</label>
      </div>

      <!-- Question 2 -->
      <div class="mcq" data-answer="c">
        <h3>2. Which of the following is an asset?</h3>
        <input type="radio" name="q2" id="q2a" value="a">
        <label for="q2a">Bank loan</label>

        <input type="radio" name="q2" id="q2b" value="b">
        <label for="q2b">Accounts payable</label>

        <input type="radio" name="q2" id="q2c" value="c">
        <label for="q2c">Cash</label>

        <input type="radio" name="q2" id="q2d" value="d">
        <label for="q2d">Capital</label>
      </div>

      <!-- Question 3 -->
      <div class="mcq" data-answer="a">
        <h3>3. Owner's equity increases when:</h3>
        <input type="radio" name="q3" id="q3a" value="a">
        <label for="q3a">Revenue is earned</label>

        <input type="radio" name="q3" id="q3b" value="b">
        <label for="q3b">Expenses are incurred</label>

        <input type="radio" name="q3" id="q3c" value="c">
        <label for="q3c">Owner makes drawings</label>

        <input type="radio" name="q3" id="q3d" value="d">
        <label for="q3d">Liabilities increase</label>
      </div>

      <!-- Question 4 -->
      <div class="mcq" data-answer="d">
        <h3>4. Which is NOT a liability?</h3>
        <input type="radio" name="q4" id="q4a" value="a">
        <label for="q4a">Bank loan</label>

        <input type="radio" name="q4" id="q4b" value="b">
        <label for="q4b">Accounts payable</label>

        <input type="radio" name="q4" id="q4c" value="c">
        <label for="q4c">Wages payable</label>

        <input type="radio" name="q4" id="q4d" value="d">
        <label for="q4d">Equipment</label>
      </div>

      <!-- Question 5 -->
      <div class="mcq" data-answer="b">
        <h3>5. If assets are ₹100,000 and liabilities are ₹30,000, owner's equity is:</h3>
        <input type="radio" name="q5" id="q5a" value="a">
        <label for="q5a">₹130,000</label>

        <input type="radio" name="q5" id="q5b" value="b">
        <label for="q5b">₹70,000</label>

        <input type="radio" name="q5" id="q5c" value="c">
        <label for="q5c">₹30,000</label>

        <input type="radio" name="q5" id="q5d" value="d">
        <label for="q5d">₹100,000</label>
      </div>

      <!-- Question 6 -->
      <div class="mcq" data-answer="c">
        <h3>6. The expanded accounting equation includes:</h3>
        <input type="radio" name="q6" id="q6a" value="a">
        <label for="q6a">Only assets and liabilities</label>

        <input type="radio" name="q6" id="q6b" value="b">
        <label for="q6b">Assets, liabilities, and capital only</label>

        <input type="radio" name="q6" id="q6c" value="c">
        <label for="q6c">Assets, liabilities, capital, revenue, expenses, and drawings</label>

        <input type="radio" name="q6" id="q6d" value="d">
        <label for="q6d">Only revenue and expenses</label>
      </div>

      <!-- Question 7 -->
      <div class="mcq" data-answer="a">
        <h3>7. When a business purchases equipment for cash, what happens to the accounting equation?</h3>
        <input type="radio" name="q7" id="q7a" value="a">
        <label for="q7a">Total assets remain the same</label>

        <input type="radio" name="q7" id="q7b" value="b">
        <label for="q7b">Total assets increase</label>

        <input type="radio" name="q7" id="q7c" value="c">
        <label for="q7c">Total assets decrease</label>

        <input type="radio" name="q7" id="q7d" value="d">
        <label for="q7d">Liabilities increase</label>
      </div>

      <!-- Question 8 -->
      <div class="mcq" data-answer="b">
        <h3>8. Drawings by the owner:</h3>
        <input type="radio" name="q8" id="q8a" value="a">
        <label for="q8a">Increase owner's equity</label>

        <input type="radio" name="q8" id="q8b" value="b">
        <label for="q8b">Decrease owner's equity</label>

        <input type="radio" name="q8" id="q8c" value="c">
        <label for="q8c">Increase liabilities</label>

        <input type="radio" name="q8" id="q8d" value="d">
        <label for="q8d">Have no effect on the equation</label>
      </div>

      <!-- Question 9 -->
      <div class="mcq" data-answer="d">
        <h3>9. The accounting equation forms the basis of:</h3>
        <input type="radio" name="q9" id="q9a" value="a">
        <label for="q9a">Income statement</label>

        <input type="radio" name="q9" id="q9b" value="b">
        <label for="q9b">Cash flow statement</label>

        <input type="radio" name="q9" id="q9c" value="c">
        <label for="q9c">Statement of changes in equity</label>

        <input type="radio" name="q9" id="q9d" value="d">
        <label for="q9d">Balance sheet</label>
      </div>

      <!-- Question 10 -->
      <div class="mcq" data-answer="c">
        <h3>10. If a business takes a loan of ₹50,000:</h3>
        <input type="radio" name="q10" id="q10a" value="a">
        <label for="q10a">Assets decrease, liabilities increase</label>

        <input type="radio" name="q10" id="q10b" value="b">
        <label for="q10b">Assets and equity both increase</label>

        <input type="radio" name="q10" id="q10c" value="c">
        <label for="q10c">Assets and liabilities both increase</label>

        <input type="radio" name="q10" id="q10d" value="d">
        <label for="q10d">Only liabilities increase</label>
      </div>

      <!-- Question 11 -->
      <div class="mcq" data-answer="c">
        <h3>11. If Assets are ₹1,50,000 and Liabilities are ₹60,000, Capital will be:</h3>
        <input type="radio" name="q11" id="q11a" value="a">
        <label for="q11a">₹2,10,000</label>

        <input type="radio" name="q11" id="q11b" value="b">
        <label for="q11b">₹60,000</label>

        <input type="radio" name="q11" id="q11c" value="c">
        <label for="q11c">₹90,000</label>

        <input type="radio" name="q11" id="q11d" value="d">
        <label for="q11d">₹1,50,000</label>
      </div>

      <!-- Question 12 -->
      <div class="mcq" data-answer="b">
        <h3>12. Assets ₹2,40,000, Capital ₹1,80,000. Find Liabilities.</h3>
        <input type="radio" name="q12" id="q12a" value="a">
        <label for="q12a">₹2,40,000</label>

        <input type="radio" name="q12" id="q12b" value="b">
        <label for="q12b">₹60,000</label>

        <input type="radio" name="q12" id="q12c" value="c">
        <label for="q12c">₹4,20,000</label>

        <input type="radio" name="q12" id="q12d" value="d">
        <label for="q12d">₹1,80,000</label>
      </div>

      <!-- Question 13 -->
      <div class="mcq" data-answer="a">
        <h3>13. If Capital is ₹70,000 and Liabilities are ₹30,000, find Assets.</h3>
        <input type="radio" name="q13" id="q13a" value="a">
        <label for="q13a">₹1,00,000</label>

        <input type="radio" name="q13" id="q13b" value="b">
        <label for="q13b">₹70,000</label>

        <input type="radio" name="q13" id="q13c" value="c">
        <label for="q13c">₹30,000</label>

        <input type="radio" name="q13" id="q13d" value="d">
        <label for="q13d">₹40,000</label>
      </div>

      <!-- Question 14 -->
      <div class="mcq" data-answer="a">
        <h3>14. Assets ₹3,50,000, Liabilities ₹90,000. Capital = ?</h3>
        <input type="radio" name="q14" id="q14a" value="a">
        <label for="q14a">₹2,60,000</label>

        <input type="radio" name="q14" id="q14b" value="b">
        <label for="q14b">₹90,000</label>

        <input type="radio" name="q14" id="q14c" value="c">
        <label for="q14c">₹4,40,000</label>

        <input type="radio" name="q14" id="q14d" value="d">
        <label for="q14d">₹3,50,000</label>
      </div>

      <!-- Question 15 -->
      <div class="mcq" data-answer="d">
        <h3>15. A firm has Capital ₹1,20,000 and Liabilities ₹80,000. Its Assets are:</h3>
        <input type="radio" name="q15" id="q15a" value="a">
        <label for="q15a">₹40,000</label>

        <input type="radio" name="q15" id="q15b" value="b">
        <label for="q15b">₹1,20,000</label>

        <input type="radio" name="q15" id="q15c" value="c">
        <label for="q15c">₹80,000</label>

        <input type="radio" name="q15" id="q15d" value="d">
        <label for="q15d">₹2,00,000</label>
      </div>

      <!-- Question 16 -->
      <div class="mcq" data-answer="b">
        <h3>16. If Assets = ₹5,00,000 and Capital = ₹3,50,000, then Liabilities = ?</h3>
        <input type="radio" name="q16" id="q16a" value="a">
        <label for="q16a">₹8,50,000</label>

        <input type="radio" name="q16" id="q16b" value="b">
        <label for="q16b">₹1,50,000</label>

        <input type="radio" name="q16" id="q16c" value="c">
        <label for="q16c">₹3,50,000</label>

        <input type="radio" name="q16" id="q16d" value="d">
        <label for="q16d">₹5,00,000</label>
      </div>

      <!-- Question 17 -->
      <div class="mcq" data-answer="a">
        <h3>17. Opening Capital ₹80,000, further Capital introduced ₹20,000, profit earned ₹15,000, and Drawings ₹10,000. Closing Capital = ?</h3>
        <input type="radio" name="q17" id="q17a" value="a">
        <label for="q17a">₹1,05,000</label>

        <input type="radio" name="q17" id="q17b" value="b">
        <label for="q17b">₹1,15,000</label>

        <input type="radio" name="q17" id="q17c" value="c">
        <label for="q17c">₹95,000</label>

        <input type="radio" name="q17" id="q17d" value="d">
        <label for="q17d">₹80,000</label>
      </div>

      <!-- Question 18 -->
      <div class="mcq" data-answer="c">
        <h3>18. Assets ₹2,00,000, Liabilities ₹70,000. After earning profit of ₹30,000, Capital will be:</h3>
        <input type="radio" name="q18" id="q18a" value="a">
        <label for="q18a">₹70,000</label>

        <input type="radio" name="q18" id="q18b" value="b">
        <label for="q18b">₹1,00,000</label>

        <input type="radio" name="q18" id="q18c" value="c">
        <label for="q18c">₹1,60,000</label>

        <input type="radio" name="q18" id="q18d" value="d">
        <label for="q18d">₹2,00,000</label>
      </div>

      <!-- Question 19 -->
      <div class="mcq" data-answer="b">
        <h3>19. If Capital is ₹2,40,000, Liabilities ₹1,60,000. Assets = ?</h3>
        <input type="radio" name="q19" id="q19a" value="a">
        <label for="q19a">₹80,000</label>

        <input type="radio" name="q19" id="q19b" value="b">
        <label for="q19b">₹4,00,000</label>

        <input type="radio" name="q19" id="q19c" value="c">
        <label for="q19c">₹2,40,000</label>

        <input type="radio" name="q19" id="q19d" value="d">
        <label for="q19d">₹1,60,000</label>
      </div>

      <!-- Question 20 -->
      <div class="mcq" data-answer="d">
        <h3>20. Assets ₹1,80,000, Liabilities ₹50,000. After owner withdraws ₹20,000, Capital = ?</h3>
        <input type="radio" name="q20" id="q20a" value="a">
        <label for="q20a">₹1,80,000</label>

        <input type="radio" name="q20" id="q20b" value="b">
        <label for="q20b">₹1,50,000</label>

        <input type="radio" name="q20" id="q20c" value="c">
        <label for="q20c">₹1,30,000</label>

        <input type="radio" name="q20" id="q20d" value="d">
        <label for="q20d">₹1,10,000</label>
      </div>

      <!-- ✅ CHANGED: Added onclick handler -->
      <button id="submitQuiz" onclick="submitQuiz()">Submit Answers</button>
      <div id="quizResult"></div>
      
      <!-- ✅ CHANGED: Added onclick and style -->
      <button id="retry-btn" onclick="retryQuiz()" style="display:none;">Try Again</button>
      </div>

    </main>
  </section>

      <!-- Footer Section -->
      <footer class="lesson-footer">
        <div class="footer-content">
          <p class="footer-copyright">AccountsWizard © 2025 • <span id="lesson-title">Lesson 6 — Accounting Equation</span></p>
          <div class="footer-links">
            <a href="../index.html" class="footer-link">
              <i class="fas fa-home"></i>
              <span>Back to Home</span>
            </a>
            <a href="../lessons.html" class="footer-link">
              <i class="fas fa-book"></i>
              <span>All Lessons</span>
            </a>
        </div>
      </footer>

  <script type="module">
    // ========================================
    // 1. IMPORT FIREBASE (ONLY THIS LINE NEEDS EXTERNAL FILE)
    // ========================================
    import { submitLessonAttempt, loadPreviousAnswers } from '../firebase-config.js';

    // ========================================
    // 2. CONFIGURATION (CHANGE FOR EACH LESSON)
    // ========================================
    const LESSON_NUMBER = '6';  // ← Change this: '1', '2', '3', etc.
    const LESSON_ID = 'lesson-6'; // ← Change this: 'lesson-1', 'lesson-2', etc.

    // ========================================
    // 3. INITIALIZE QUIZ
    // ========================================
    function initQuiz() {
      console.log('🎯 Initializing quiz for Lesson', LESSON_NUMBER);
      
      const container = document.getElementById('quiz-container');
      if (!container) {
        console.error('❌ Quiz container not found');
        return;
      }

      // Add event listeners to all radio buttons
      const allInputs = container.querySelectorAll('input[type="radio"]');
      allInputs.forEach(input => {
        // UPDATE PROGRESS BAR ON CHANGE
        input.addEventListener('change', updateProgressBar);
        
        // ✨ ADD UNCLICK FUNCTIONALITY ✨
        input.addEventListener('click', function(e) {
          // If already checked, uncheck it
          if (this.dataset.checked === 'true') {
            this.checked = false;
            this.dataset.checked = 'false';
            updateProgressBar(); // Update progress after unclick
          } else {
            // Mark all radios in this group as unchecked
            const groupName = this.name;
            document.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => {
              radio.dataset.checked = 'false';
            });
            // Mark this one as checked
            this.dataset.checked = 'true';
          }
        });
      });

      console.log('✅ Quiz initialized with', allInputs.length, 'options');
      updateProgressBar();
    }

    // ========================================
    // 4. UPDATE PROGRESS BAR (REAL-TIME)
    // ========================================
    function updateProgressBar() {
      const container = document.getElementById('quiz-container');
      if (!container) return;

      // Count total questions
      const allQuestions = container.querySelectorAll('.mcq');
      const totalQuestions = allQuestions.length;

      // Count answered questions
      let answeredCount = 0;
      allQuestions.forEach(mcq => {
        const questionName = mcq.querySelector('input[type="radio"]').name;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);
        if (selected) answeredCount++;
      });

      // Calculate progress percentage
      const progressPercentage = totalQuestions > 0 ? Math.round((answeredCount / totalQuestions) * 100) : 0;

      // Update progress bar UI
      const progressDiv = document.getElementById('quiz-progress');
      if (progressDiv) {
        progressDiv.innerHTML = `
          <div style="margin-bottom: 20px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: var(--muted);">
              <span>Questions Answered</span>
              <span><strong style="color: var(--brand-2);">${answeredCount}/${totalQuestions}</strong></span>
            </div>
            <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
              <div style="width: ${progressPercentage}%; height: 100%; background: linear-gradient(90deg, var(--brand), var(--brand-2)); transition: width 0.3s ease;"></div>
            </div>
          </div>
        `;
      }

      console.log(`📊 Progress: ${answeredCount}/${totalQuestions} (${progressPercentage}%)`);
    }

    // ========================================
    // 5. SUBMIT QUIZ (BULLETPROOF VERSION)
    // ========================================
    window.submitQuiz = async function() {
      console.log('📤 Submitting quiz for Lesson', LESSON_NUMBER);
      
      const container = document.getElementById('quiz-container');
      if (!container) return;

      const mcqs = container.querySelectorAll('.mcq');
      if (mcqs.length === 0) return;

      let answersData = {};
      let correctCount = 0;
      let totalQuestions = mcqs.length;
      let answeredCount = 0;

      mcqs.forEach((mcq, index) => {
        const correctAnswer = mcq.dataset.answer;
        const questionNumber = `q${index + 1}`;
        const inputs = mcq.querySelectorAll('input[type="radio"]');
        const questionName = inputs[0].name;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);

        if (!selected) return;

        answeredCount++;
        const selectedValue = selected.value;
        const isCorrect = selectedValue === correctAnswer;
        if (isCorrect) correctCount++;

        answersData[questionNumber] = {
          selected: selectedValue,
          correct: correctAnswer,
          isCorrect: isCorrect
        };

        inputs.forEach(input => {
          const label = input.nextElementSibling;
          if (!label) return;
          input.disabled = true;
          if (input.value === correctAnswer) {
            label.style.background = 'linear-gradient(90deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1))';
            label.style.borderLeft = '4px solid #10b981';
            label.style.fontWeight = 'bold';
          }
          if (input.value === selectedValue && !isCorrect) {
            label.style.background = 'linear-gradient(90deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))';
            label.style.borderLeft = '4px solid #ef4444';
          }
        });
      });

      if (answeredCount === 0) {
        alert('⚠️ Please answer at least 1 question before submitting!');
        return;
      }

      const percentage = Math.round((correctCount / totalQuestions) * 100);
      const submitBtn = document.getElementById('submitQuiz');
      const resultDiv = document.getElementById('quizResult');

      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
      }

      // Show loading state
      if (resultDiv) {
        resultDiv.innerHTML = `
          <div style="padding: 20px; margin-top: 20px; background: rgba(124,77,255,0.1); border-radius: 12px; text-align: center;">
            <div style="font-size: 1.2rem; color: var(--brand-2);">⚙️ Saving your progress...</div>
          </div>`;
      }

      try {
        console.log("📤 Submitting to Firebase:", { lessonNumber: LESSON_NUMBER, correctCount, totalQuestions, percentage });
        const result = await submitLessonAttempt(LESSON_NUMBER, answersData, correctCount, totalQuestions);
        console.log("✅ Firebase response:", result);

        // ALWAYS show result, even if Firebase fails
        if (resultDiv) {
          if (result && result.success) {
            if (result.updated) {
              // New best score!
              resultDiv.innerHTML = `
                <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1)); border-radius: 12px; border: 2px solid #10b981;">
                  <div style="font-size: 1.5rem; font-weight: bold; color: #10b981; margin-bottom: 10px;">🎉 New Best Score!</div>
                  <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                  <div style="color: var(--muted); font-size: 0.9rem;">✅ Answered ${answeredCount} out of ${totalQuestions} questions</div>
                  <div style="color: var(--muted); font-size: 0.85rem; margin-top: 10px;">✅ Progress saved to cloud</div>
                </div>`;
            } else {
              // Previous score was better
              resultDiv.innerHTML = `
                <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.1)); border-radius: 12px; border: 2px solid #fbbf24;">
                  <div style="font-size: 1.5rem; font-weight: bold; color: #fbbf24; margin-bottom: 10px;">📊 Quiz Completed</div>
                  <div style="font-size: 1.2rem; margin-bottom: 10px;">Current Score: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                  <div style="font-size: 1.1rem; margin-bottom: 10px; color: #10b981;">Your Best: <strong>${result.bestScore}/${result.totalQuestions}</strong> (${result.percentage}%)</div>
                  <div style="color: var(--muted); font-size: 0.9rem;">Answered ${answeredCount} out of ${totalQuestions} questions</div>
                  <div style="color: var(--muted); font-size: 0.85rem; margin-top: 10px;">💡 Try again to beat your best score!</div>
                </div>`;
            }
          } else {
            // Firebase failed but still show score
            resultDiv.innerHTML = `
              <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(124,77,255,0.2), rgba(124,77,255,0.1)); border-radius: 12px; border: 2px solid var(--brand);">
                <div style="font-size: 1.5rem; font-weight: bold; color: var(--brand-2); margin-bottom: 10px;">📊 Your Score</div>
                <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                <div style="color: var(--muted); font-size: 0.9rem;">✅ Answered ${answeredCount} out of ${totalQuestions} questions</div>
                <div style="color: #fbbf24; font-size: 0.85rem; margin-top: 10px;">⚠️ Could not save to cloud. Check console (F12) for details.</div>
              </div>`;
            console.error("❌ Firebase error:", result?.error || "Unknown error");
          }
        }
      } catch (error) {
        console.error("❌ Critical error during submission:", error);
        // STILL show the score even if everything fails
        if (resultDiv) {
          resultDiv.innerHTML = `
            <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(124,77,255,0.2), rgba(124,77,255,0.1)); border-radius: 12px; border: 2px solid var(--brand);">
              <div style="font-size: 1.5rem; font-weight: bold; color: var(--brand-2); margin-bottom: 10px;">📊 Your Score</div>
              <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
              <div style="color: var(--muted); font-size: 0.9rem;">✅ Answered ${answeredCount} out of ${totalQuestions} questions</div>
              <div style="color: #ef4444; font-size: 0.85rem; margin-top: 10px;">❌ Error: ${error.message}</div>
              <div style="color: var(--muted); font-size: 0.8rem; margin-top: 5px;">Check browser console (F12) for details</div>
            </div>`;
        }
      } finally {
        // Always show retry button and update submit button
        const retryBtn = document.getElementById('retry-btn');
        if (retryBtn) retryBtn.style.display = 'block';
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = '✓ Submitted';
        }
      }
    };

    // ========================================
    // 6. RETRY QUIZ
    // ========================================
    window.retryQuiz = function() {
      console.log('🔄 Retrying quiz');
      
      const container = document.getElementById('quiz-container');
      if (!container) return;

      // Reset all inputs
      const allInputs = container.querySelectorAll('input[type="radio"]');
      allInputs.forEach(input => {
        input.checked = false;
        input.disabled = false;
        input.dataset.checked = 'false'; // Reset unclick tracking
        
        const label = input.nextElementSibling;
        if (label) {
          label.style.background = '';
          label.style.borderLeft = '';
          label.style.fontWeight = '';
        }
      });

      // Reset UI
      const resultDiv = document.getElementById('quizResult');
      if (resultDiv) resultDiv.innerHTML = '';

      const submitBtn = document.getElementById('submitQuiz');
      if (submitBtn) {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Answers';
      }

      const retryBtn = document.getElementById('retry-btn');
      if (retryBtn) retryBtn.style.display = 'none';

      updateProgressBar();
      document.getElementById('mcqSection')?.scrollIntoView({ behavior: 'smooth' });
    };

    // ========================================
    // 7. INITIALIZE ON PAGE LOAD
    // ========================================
    initQuiz();
    console.log('✅ Lesson', LESSON_NUMBER, 'quiz ready!');

    // ========================================
// 8. SCROLL REVEAL FOR SECTIONS
// ========================================
function setupScrollAnimations() {
  const observer = new IntersectionObserver((entries) => {
    entries.forEach(e => {
      if (e.isIntersecting) {
        e.target.classList.add('visible');
        observer.unobserve(e.target);
      }
    });
  }, { rootMargin: '0px 0px -10% 0px', threshold: 0.1 });

  document.querySelectorAll('.section').forEach(sec => observer.observe(sec));
}

// ========================================
// 9. TABLE ROW ANIMATIONS ON SCROLL (staggered)
// ========================================
function setupTableRowObserver() {
  const rows = document.querySelectorAll('.table-row-animated');
  const rowObserver = new IntersectionObserver((entries) => {
    entries.forEach((e) => {
      if (e.isIntersecting) {
        // Add a little stagger
        e.target.style.animationDelay = `${Math.random() * 0.25 + 0.05}s`;
        // Force reflow if needed
        // eslint-disable-next-line no-unused-expressions
        e.target.offsetHeight;
        e.target.style.animationPlayState = 'running';
        rowObserver.unobserve(e.target);
      }
    });
  }, { threshold: 0.1 });

  rows.forEach((row) => {
    // pause animation until visible
    row.style.animationPlayState = 'paused';
    rowObserver.observe(row);
  });
}

// ========================================
// 10. SAVE/LOAD QUIZ PROGRESS (localStorage + Firebase)
// ========================================
const LOCAL_KEY = `lesson-${LESSON_NUMBER}-answers`;

function getAllSelections() {
  const container = document.getElementById('quiz-container');
  const mcqs = container?.querySelectorAll('.mcq') || [];
  const out = {};
  mcqs.forEach((mcq, index) => {
    const name = mcq.querySelector('input[type="radio"]')?.name || `q${index+1}`;
    const selected = document.querySelector(`input[name="${name}"]:checked`);
    if (selected) out[name] = selected.value;
  });
  return out;
}

function applySelections(selections) {
  if (!selections) return;
  Object.entries(selections).forEach(([q, val]) => {
    const input = document.querySelector(`input[name="${q}"][value="${val}"]`);
    if (input) {
      input.checked = true;
      input.dataset.checked = 'true';
    }
  });
  updateProgressBar();
}

function saveLocalProgress() {
  try {
    const data = getAllSelections();
    localStorage.setItem(LOCAL_KEY, JSON.stringify(data));
  } catch (e) {
    console.warn('Local save failed:', e);
  }
}

function loadLocalProgress() {
  try {
    const raw = localStorage.getItem(LOCAL_KEY);
    if (!raw) return null;
    const data = JSON.parse(raw);
    applySelections(data);
    return data;
  } catch (e) {
    console.warn('Local load failed:', e);
    return null;
  }
}

async function hydratePreviousAnswers() {
  try {
    const cloud = await loadPreviousAnswers?.(LESSON_NUMBER);
    if (cloud && (cloud.answers || cloud.attempt?.answers)) {
      const answers = cloud.answers || cloud.attempt.answers;
      // Normalize to { q1: 'a', ... } shape
      const normalized = {};
      Object.entries(answers).forEach(([q, obj]) => {
        normalized[q] = typeof obj === 'string' ? obj : obj?.selected;
      });
      applySelections(normalized);
    } else {
      // Fallback to local if no cloud data
      loadLocalProgress();
    }
  } catch (err) {
    console.warn('Cloud load failed, using local:', err);
    loadLocalProgress();
  }
}

// Global change listener to persist locally
document.getElementById('quiz-container')?.addEventListener('change', saveLocalProgress);

// ========================================
// 11. INIT EXTRA FEATURES
// ========================================
setupScrollAnimations();
setupTableRowObserver();
hydratePreviousAnswers();

console.log('✨ Enhancements ready for Lesson', LESSON_NUMBER);

  </script>
</body>
</html>