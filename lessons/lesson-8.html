<!DOCTYPE html>
<html lang="en">
<head>
  <link rel="icon" type="image/png" href="../favicon/favicon-96x96.png" sizes="96x96" />
  <link rel="icon" type="image/svg+xml" href="../favicon/favicon.svg" />
  <link rel="shortcut icon" href="../favicon/favicon.ico" />
  <link rel="apple-touch-icon" sizes="180x180" href="../favicon/apple-touch-icon.png" />
  <link rel="manifest" href="../favicon/site.webmanifest" />
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1.0" />
  <title>Chapter 8 â€“ Origin of Transactions & Source Documents | AccountsWizard</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" />
  <link rel="stylesheet" href="main.css">
    <style>
      :root {
        --bg: #0b1020;
        --bg-2: #0f1733;
        --card: #111633;
        --muted: #b8c2ff;
        --brand: #7c4dff;
        --brand-2: #00e5ff;
        --accent: #ff7ac6;
        --text: #e9eefc;
        --success: #4caf50;
        --warning: #ff9800;
        --error: #f44336;
        --radius: 16px;
        --shadow: 0 18px 40px rgba(2,6,23,.55);
        --speed: 300ms;
      }

      * { box-sizing: border-box; }

      body {
        margin: 0;
        font-family: ui-sans-serif, system-ui, Roboto, Arial;
        color: var(--text);
        background: linear-gradient(180deg, var(--bg), var(--bg-2));
        min-height: 100vh;
        padding: 20px;
        overflow-x: hidden;
      }

      header { text-align: center; padding: 30px 20px; }

      .lesson-title {
        font-size: 2.2rem; font-weight: 900;
        background: linear-gradient(90deg,#fff,var(--accent));
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      }

      .breadcrumb { color: var(--muted); font-size: .95rem; }
      .breadcrumb a { color: inherit; text-decoration: none; }
      .breadcrumb a:hover { color: var(--text); }

      .nav-header {
        display: flex; justify-content: space-between; align-items: center;
        padding: 12px 24px; background: var(--card); border-radius: var(--radius);
        margin-bottom: 32px; box-shadow: var(--shadow);
      }

      .nav-header a {
        color: var(--muted); text-decoration: none; display: flex; align-items: center;
        gap: 8px; padding: 8px 16px; border-radius: 8px; transition: all var(--speed);
      }

      .nav-header a:hover { color: var(--text); background: rgba(255,255,255,.1); }

      section {
        background: var(--card); border-radius: var(--radius);
        padding: 32px; margin-bottom: 32px; box-shadow: var(--shadow);
        overflow: visible;
      }

      section h2 {
        margin-top: 0; font-size: 1.5rem;
        background: linear-gradient(90deg,#fff,var(--brand-2));
        -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      }

      section p { line-height: 1.6; color: var(--muted); }

      /* Animation System */
      .animate-card {
        opacity: 1;
        transform: translateY(0) scale(1);
        transition: all 0.6s cubic-bezier(0.4, 0.0, 0.2, 1);
      }

      .animate-card.animate-pending {
        opacity: 0;
        transform: translateY(30px) scale(0.95);
      }

      .animate-card.animate-pending.visible {
        opacity: 1;
        transform: translateY(0) scale(1);
      }

      .animate-card:hover {
        transform: translateY(-8px) scale(1.02);
        box-shadow: 0 25px 50px rgba(2,6,23,.8) !important;
        animation: pulse-border 1.5s infinite;
      }

      .slide-in-left {
        opacity: 0;
        transform: translateX(-50px);
        transition: all 0.7s cubic-bezier(0.175, 0.885, 0.32, 1.275);
      }

      .slide-in-left.visible {
        opacity: 1;
        transform: translateX(0);
      }

      .fade-up {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.6s ease;
      }

      .fade-up.visible {
        opacity: 1;
        transform: translateY(0);
      }

      @keyframes pulse-border {
        0% { box-shadow: 0 0 0 0 rgba(124, 77, 255, 0.7); }
        70% { box-shadow: 0 0 0 10px rgba(124, 77, 255, 0); }
        100% { box-shadow: 0 0 0 0 rgba(124, 77, 255, 0); }
      }

      /* Definition Box */
      .definition-box {
        background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
        padding: 25px;
        border-radius: 15px;
        margin: 20px 0;
        border-left: 5px solid var(--brand);
        box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        color: white;
      }

      /* Document Grid */
      .documents-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
        gap: 25px;
        margin: 30px 0;
      }

      .document-card {
        background: rgba(255,255,255,0.02);
        border-radius: 16px;
        padding: 25px;
        transition: all 0.3s ease;
        border: 2px solid rgba(255,255,255,0.1);
        position: relative;
        overflow: hidden;
      }

      .document-card::before {
        content: '';
        position: absolute;
        top: 0;
        left: -100%;
        width: 100%;
        height: 100%;
        background: linear-gradient(90deg, transparent, rgba(255,255,255,0.1), transparent);
        transition: left 0.8s ease;
      }

      .document-card:hover::before { left: 100%; }

      .document-card:hover {
        transform: translateY(-10px);
        border-color: var(--brand-2);
        box-shadow: 0 20px 40px rgba(0,229,255,0.2);
      }

      .document-header {
        display: flex;
        align-items: center;
        gap: 15px;
        margin-bottom: 20px;
      }

      .document-icon {
        width: 50px;
        height: 50px;
        border-radius: 12px;
        display: flex;
        align-items: center;
        justify-content: center;
        font-size: 1.5rem;
        color: white;
      }

      .cash-memo .document-icon { background: linear-gradient(135deg, var(--success), #66bb6a); }
      .invoice .document-icon { background: linear-gradient(135deg, var(--brand), #9c27b0); }
      .credit-note .document-icon { background: linear-gradient(135deg, var(--brand-2), #26c6da); }
      .debit-note .document-icon { background: linear-gradient(135deg, var(--accent), #ec407a); }
      .pay-slip .document-icon { background: linear-gradient(135deg, var(--warning), #ffa726); }
      .cheque .document-icon { background: linear-gradient(135deg, #607d8b, #78909c); }
      .voucher .document-icon { background: linear-gradient(135deg, #795548, #8d6e63); }

      .document-title {
        color: var(--text);
        font-size: 1.3rem;
        font-weight: 700;
        margin: 0;
      }

      .document-subtitle {
        color: var(--muted);
        font-size: 0.9rem;
        margin: 5px 0 0 0;
      }

      .document-content {
        color: var(--muted);
        line-height: 1.6;
        margin-bottom: 20px;
      }

      .document-features {
        background: rgba(255,255,255,0.05);
        border-radius: 10px;
        padding: 15px;
        margin-bottom: 20px;
      }

      .document-features h5 {
        color: var(--brand-2);
        margin: 0 0 10px 0;
        font-size: 1rem;
      }

      .document-features ul {
        margin: 0;
        padding-left: 20px;
        color: var(--muted);
      }

      .document-features li {
        margin: 5px 0;
        font-size: 0.9rem;
      }

      /* Document Sample */
      .document-sample {
        background: white;
        color: #333;
        border-radius: 8px;
        padding: 20px;
        margin-top: 15px;
        box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        position: relative;
        overflow: visible;
      }

      .document-sample.active { overflow: auto; }

      .document-sample::before {
        content: 'SAMPLE';
        position: absolute;
        top: 10px;
        right: -30px;
        background: rgba(255,0,0,0.1);
        color: #ff0000;
        padding: 5px 40px;
        font-size: 0.8rem;
        font-weight: bold;
        transform: rotate(45deg);
        border: 1px dashed #ff0000;
      }

      .sample-header {
        text-align: center;
        border-bottom: 2px solid #333;
        padding-bottom: 10px;
        margin-bottom: 15px;
      }

      .sample-company {
        font-size: 1.2rem;
        font-weight: bold;
        color: #333;
        margin-bottom: 5px;
      }

      .sample-address {
        font-size: 0.9rem;
        color: #666;
      }

      .sample-details {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin: 15px 0;
      }

      .sample-table {
        width: 100%;
        border-collapse: collapse;
        margin: 15px 0;
      }

      .sample-table th,
      .sample-table td {
        border: 1px solid #ddd;
        padding: 8px;
        text-align: left;
      }

      .sample-table th {
        background-color: #f5f5f5;
        font-weight: bold;
      }

      /* Common fixes for debit/credit notes & vouchers */
      #debit-note-sample .sample-footer,
      #credit-note-sample .sample-footer,
      #debit-voucher-sample .sample-footer,
      #credit-voucher-sample .sample-footer {
        margin-top: 20px;
        text-align: right;
        padding-right: 20px;
      }

      #debit-note-sample .sample-footer div,
      #credit-note-sample .sample-footer div {
        margin: 5px 0;
        white-space: nowrap;
      }

      #debit-note-sample .sample-table td:last-child,
      #credit-note-sample .sample-table td:last-child,
      #debit-voucher-sample .sample-table td:last-child,
      #credit-voucher-sample .sample-table td:last-child {
        text-align: right;
        padding-right: 15px;
        min-width: 100px;
      }

      #debit-voucher-sample,
      #credit-voucher-sample { min-height: 400px; }

      #debit-voucher-sample .sample-table,
      #credit-voucher-sample .sample-table { margin: 20px 0; }

      #debit-voucher-sample .sample-table th,
      #credit-voucher-sample .sample-table th,
      #debit-voucher-sample .sample-table td,
      #credit-voucher-sample .sample-table td {
        padding: 12px 15px;
      }

      .sample-footer {
        margin-top: 20px;
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      /* Comparison Table */
      .comparison-table {
        width: 100%;
        border-collapse: collapse;
        margin: 25px 0;
        background: rgba(255,255,255,0.02);
        border-radius: 12px;
        overflow: hidden;
      }

      .comparison-table th,
      .comparison-table td {
        padding: 15px;
        text-align: left;
        border-bottom: 1px solid rgba(255,255,255,0.1);
      }

      .comparison-table th {
        background: rgba(255,255,255,0.05);
        font-weight: 700;
        color: var(--brand-2);
      }

      .comparison-table tr:nth-child(even) { background: rgba(255,255,255,0.02); }

      .comparison-table tr:hover {
        background: rgba(255,255,255,0.05);
        transform: translateX(5px);
      }

      /* Benefits Section */
      .benefits-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
        gap: 20px;
        margin: 25px 0;
      }

      .benefit-card {
        background: linear-gradient(135deg, rgba(124,77,255,0.1), rgba(0,229,255,0.05));
        border-radius: 16px;
        padding: 25px;
        text-align: center;
        transition: all 0.3s ease;
        border: 2px solid transparent;
      }

      .benefit-card:hover {
        border-color: var(--brand-2);
        transform: translateY(-5px);
        box-shadow: 0 15px 30px rgba(0,229,255,0.2);
      }

      .benefit-icon {
        font-size: 3rem;
        margin-bottom: 15px;
        display: block;
      }

      .benefit-card:nth-child(1) .benefit-icon { color: var(--success); }
      .benefit-card:nth-child(2) .benefit-icon { color: var(--brand); }
      .benefit-card:nth-child(3) .benefit-icon { color: var(--brand-2); }
      .benefit-card:nth-child(4) .benefit-icon { color: var(--accent); }
      .benefit-card:nth-child(5) .benefit-icon { color: var(--warning); }
      .benefit-card:nth-child(6) .benefit-icon { color: var(--success); }

      .benefit-title {
        color: var(--text);
        font-size: 1.2rem;
        font-weight: 600;
        margin-bottom: 10px;
      }

      .benefit-description {
        color: var(--muted);
        line-height: 1.6;
        font-size: 0.95rem;
      }

      .document-sample {
        transform: scale(0.7);   /* shrink content */
        transform-origin: top left;
        width: 100%;
        max-width: 100%;
        overflow-x: auto; /* fallback just in case */
      }

      .sample-table {
        width: 100%;
        font-size: 0.9rem; /* slightly smaller text */
      }


      /* Animation keyframes */
      @keyframes shakeX {
        0%,100%{transform:translateX(0)}
        20%{transform:translateX(-8px)}
        40%{transform:translateX(8px)}
        60%{transform:translateX(-6px)}
        80%{transform:translateX(6px)}
      }
      .aw-shake{animation:shakeX 0.4s ease}
      .aw-pop{animation:popIn 0.35s ease both}
      @keyframes popIn {
        0%{opacity:0;transform:translateY(10px) scale(.96)}
        60%{opacity:1;transform:translateY(-4px) scale(1.02)}
        100%{opacity:1;transform:translateY(0) scale(1)}
      }

      .view-sample-btn {
        background: var(--brand-2);
        color: white;
        border: none;
        padding: 8px 16px;
        border-radius: 6px;
        cursor: pointer;
        font-size: 0.9rem;
        transition: all 0.3s ease;
        margin-top: 10px;
      }

      .view-sample-btn:hover {
        background: var(--brand);
        transform: scale(1.05);
      }

      /* Responsive Design */
      @media (max-width: 768px) {
        #debit-note-sample .sample-footer,
        #credit-note-sample .sample-footer,
        #debit-voucher-sample .sample-footer,
        #credit-voucher-sample .sample-footer {
          padding-right: 10px;
        }

        .sample-table {
          font-size: 0.85rem;
        }

        .sample-table td:last-child {
          min-width: 80px;
        }

        .documents-grid { grid-template-columns: 1fr; gap: 20px; }
        .sample-details { grid-template-columns: 1fr; gap: 10px; }
        .benefits-grid { grid-template-columns: 1fr; }
        .comparison-table { font-size: 0.85rem; }
        .comparison-table th,
        .comparison-table td { padding: 10px 8px; }
      }

      @keyframes buttonPress {
        0%   { transform: scale(1); }
        40%  { transform: scale(0.95); }
        60%  { transform: scale(1.05); }
        100% { transform: scale(1); }
      }
      .btn-animate {
        animation: buttonPress 0.3s ease;
      }
  </style>

</head>
<body>
  <div class="nav-header">
    <a href="../index.html"><i class="fa-solid fa-house"></i><span>Home</span></a>
    <a href="../lessons.html"><i class="fa-solid fa-book"></i><span>All Lessons</span></a>
  </div>

  <header>
    <h1 class="lesson-title">Origin of Transactions & Source Documents</h1>
    <div class="breadcrumb">
      <a href="../index.html">Home</a> / 
      <a href="../lessons.html">Lessons</a> / 
      Origin of Transactions & Source Documents
    </div>
  </header>

  <main>

    <!-- Introduction Section -->
    <section class="animate-card">
      <h2>What are Source Documents?</h2>
      
      <div class="definition-box animate-card fade-up">
        <h3 style="margin:0 0 15px 0; color:white; display: flex; align-items: center; gap: 10px;">
          <i class="fas fa-file-invoice" style="color:#fff;"></i>
          Definition
        </h3>
        <p style="color:white; margin:0; font-size:1.1rem; line-height:1.6;">
          <strong>Source Documents</strong> are the original records or evidence of business 
          transactions that provide written proof of commercial activities. They serve as the 
          foundation for recording entries in accounting books and are essential for maintaining 
          accurate financial records.
        </p>
      </div>

      <p style="font-size:1.1rem; line-height:1.8; color: var(--muted);">
        Every business transaction begins with a source document that provides evidence of the 
        exchange between parties. These documents contain essential details like date, amount, 
        parties involved, and nature of the transaction, making them legally admissible and 
        crucial for audit trails.
      </p>

      <div style="
        margin-top:20px; 
        padding:20px; 
        border-radius:12px; 
        background:rgba(255,255,255,0.04);
        box-shadow: var(--shadow); 
        text-align:center;"
        class="animate-card slide-in-left">
        <i class="fas fa-lightbulb" style="font-size:2rem; color:var(--brand-2); margin-bottom:10px;"></i>
        <h3 style="margin:10px 0; color: var(--text);">Why Source Documents Matter?</h3>
        <p style="color:var(--muted); font-size:0.95rem; line-height:1.6;">
          Source documents provide legal evidence, ensure accuracy in accounting records, 
          facilitate audits, and help in resolving disputes between business parties.
        </p>
      </div>
    </section>

    <!-- Types of Source Documents -->
    <section class="animate-card">
      <h2>Types of Source Documents</h2>
      <p style="color: var(--muted); line-height: 1.6; margin-bottom: 25px;">
        Source documents can be classified into different categories based on their nature and purpose in business transactions.
      </p>

      <div class="documents-grid">
        
        <!-- Cash Memo -->
        <div class="document-card cash-memo animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-receipt"></i>
            </div>
            <div>
              <h3 class="document-title">Cash Memo</h3>
              <p class="document-subtitle">Immediate Cash Transactions</p>
            </div>
          </div>
          
          <div class="document-content">
            A cash memo is issued when goods are sold for immediate cash payment. It serves as proof 
            of purchase and contains details of items sold, quantities, rates, and total amount.
          </div>

          <div class="document-features">
            <h5>Key Features:</h5>
            <ul>
              <li>Issued for cash sales</li>
              <li>Immediate payment receipt</li>
              <li>Contains item details and prices</li>
              <li>Serial numbered</li>
              <li>Date and seller signature</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('cash-memo')">View Sample</button>

          <div class="document-sample" id="cash-memo-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">ABC Electronics Store</div>
              <div class="sample-address">123 Market Street, Delhi - 110001</div>
              <div style="margin-top:10px; font-weight:bold;">CASH MEMO</div>
            </div>
            <div class="sample-details">
              <div><strong>No:</strong> CM-2024-001</div>
              <div><strong>Date:</strong> 15/03/2024</div>
            </div>
            <table class="sample-table">
              <tr>
                <th>Item</th>
                <th>Qty</th>
                <th>Rate</th>
                <th>Amount</th>
              </tr>
              <tr>
                <td>Mobile Phone</td>
                <td>1</td>
                <td>â‚¹15,000</td>
                <td>â‚¹15,000</td>
              </tr>
              <tr>
                <td>Screen Guard</td>
                <td>1</td>
                <td>â‚¹200</td>
                <td>â‚¹200</td>
              </tr>
            </table>
            <div class="sample-footer">
              <div><strong>Total: â‚¹15,200</strong></div>
              <div>Cashier Signature: ______</div>
            </div>
          </div>
        </div>

        <!-- Invoice/Bill -->
        <div class="document-card invoice animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-file-invoice-dollar"></i>
            </div>
            <div>
              <h3 class="document-title">Invoice/Bill</h3>
              <p class="document-subtitle">Credit Sales Documentation</p>
            </div>
          </div>
          
          <div class="document-content">
            An invoice is issued when goods are sold on credit. It contains detailed information 
            about the transaction and serves as a demand for payment within specified terms.
          </div>

          <div class="document-features">
            <h5>Key Features:</h5>
            <ul>
              <li>Issued for credit sales</li>
              <li>Payment terms specified</li>
              <li>Customer billing details</li>
              <li>Tax calculations included</li>
              <li>Unique invoice number</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('invoice')">View Sample</button>

          <div class="document-sample" id="invoice-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">XYZ Trading Co.</div>
              <div class="sample-address">456 Business Park, Mumbai - 400001</div>
              <div style="margin-top:10px; font-weight:bold;">TAX INVOICE</div>
            </div>
            <div class="sample-details">
              <div>
                <strong>Invoice No:</strong> INV-2024-0501<br>
                <strong>Date:</strong> 20/03/2024<br>
                <strong>GST No:</strong> 27XXXXX1234X1Z5
              </div>
              <div>
                <strong>Bill To:</strong><br>
                ABC Industries Ltd.<br>
                789 Industrial Area<br>
                Pune - 411001
              </div>
            </div>
            <table class="sample-table">
              <tr>
                <th>Description</th>
                <th>Qty</th>
                <th>Rate</th>
                <th>Amount</th>
              </tr>
              <tr>
                <td>Raw Materials</td>
                <td>100 kg</td>
                <td>â‚¹500</td>
                <td>â‚¹50,000</td>
              </tr>
            </table>
            <div style="margin-top:15px; text-align:right;">
              <div>Subtotal: â‚¹50,000</div>
              <div>CGST @ 9%: â‚¹4,500</div>
              <div>SGST @ 9%: â‚¹4,500</div>
              <div><strong>Total: â‚¹59,000</strong></div>
              <div style="margin-top:10px; font-size:0.9rem;">Payment Terms: 30 Days</div>
            </div>
          </div>
        </div>

        <!-- Credit Note -->
        <div class="document-card credit-note animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-minus-circle"></i>
            </div>
            <div>
              <h3 class="document-title">Credit Note</h3>
              <p class="document-subtitle">Reduction in Customer Debt</p>
            </div>
          </div>
          
          <div class="document-content">
            A credit note is issued to reduce the amount owed by a customer, typically due to 
            returns, discounts, or allowances. It acts as a negative invoice.
          </div>

          <div class="document-features">
            <h5>Key Features:</h5>
            <ul>
              <li>Issued for sales returns</li>
              <li>Reduces customer debt</li>
              <li>Reference to original invoice</li>
              <li>Reason for credit clearly stated</li>
              <li>Approved by authorized person</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('credit-note')">View Sample</button>

          <div class="document-sample" id="credit-note-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">XYZ Trading Co.</div>
              <div class="sample-address">456 Business Park, Mumbai - 400001</div>
              <div style="margin-top:10px; font-weight:bold; color:#4caf50;">CREDIT NOTE</div>
            </div>
            <div class="sample-details">
              <div>
                <strong>Credit Note No:</strong> CN-2024-0012<br>
                <strong>Date:</strong> 25/03/2024<br>
                <strong>Ref Invoice:</strong> INV-2024-0501
              </div>
              <div>
                <strong>To:</strong><br>
                ABC Industries Ltd.<br>
                789 Industrial Area<br>
                Pune - 411001
              </div>
            </div>
            <div style="margin:15px 0;">
              <strong>Reason:</strong> Goods returned due to quality issues
            </div>
            <table class="sample-table">
              <tr>
                <th>Description</th>
                <th>Qty Returned</th>
                <th>Rate</th>
                <th>Amount</th>
              </tr>
              <tr>
                <td>Raw Materials (Defective)</td>
                <td>10 kg</td>
                <td>â‚¹500</td>
                <td>â‚¹5,000</td>
              </tr>
            </table>
            <div style="margin-top:15px; text-align:right;">
              <div>Credit Amount: â‚¹5,000</div>
              <div>CGST @ 9%: â‚¹450</div>
              <div>SGST @ 9%: â‚¹450</div>
              <div><strong>Total Credit: â‚¹5,900</strong></div>
            </div>
            <div style="margin-top:20px; font-size:0.9rem;">
              Authorized By: Manager Signature ______
            </div>
          </div>
        </div>

        <!-- Debit Note -->
        <div class="document-card debit-note animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-plus-circle"></i>
            </div>
            <div>
              <h3 class="document-title">Debit Note</h3>
              <p class="document-subtitle">Increase in Supplier Debt</p>
            </div>
          </div>
          
          <div class="document-content">
            A debit note is issued to increase the amount owed by a supplier, typically when 
            returning goods purchased or claiming additional charges. It requests a credit note from the supplier.
          </div>

          <div class="document-features">
            <h5>Key Features:</h5>
            <ul>
              <li>Issued for purchase returns</li>
              <li>Increases supplier's obligation</li>
              <li>Reference to original purchase</li>
              <li>Reason for debit mentioned</li>
              <li>Supplier acknowledgment required</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('debit-note')">View Sample</button>

          <div class="document-sample" id="debit-note-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">ABC Industries Ltd.</div>
              <div class="sample-address">789 Industrial Area, Pune - 411001</div>
              <div style="margin-top:10px; font-weight:bold; color:#f44336;">DEBIT NOTE</div>
            </div>
            <div class="sample-details">
              <div>
                <strong>Debit Note No:</strong> DN-2024-0008<br>
                <strong>Date:</strong> 22/03/2024<br>
                <strong>Ref Invoice:</strong> Your-INV-5678
              </div>
              <div>
                <strong>To:</strong><br>
                XYZ Trading Co.<br>
                456 Business Park<br>
                Mumbai - 400001
              </div>
            </div>
            <div style="margin:15px 0;">
              <strong>Reason:</strong> Goods returned due to wrong specifications
            </div>
            <table class="sample-table">
              <tr>
                <th>Description</th>
                <th>Qty Returned</th>
                <th>Rate</th>
                <th>Amount</th>
              </tr>
              <tr>
                <td>Wrong Size Components</td>
                <td>25 units</td>
                <td>â‚¹200</td>
                <td>â‚¹5,000</td>
              </tr>
            </table>
            <div style="margin-top:15px; text-align:right;">
              <div>Debit Amount: â‚¹5,000</div>
              <div>CGST @ 9%: â‚¹450</div>
              <div>SGST @ 9%: â‚¹450</div>
              <div><strong>Total Debit: â‚¹5,900</strong></div>
            </div>
            <div style="margin-top:20px; font-size:0.9rem;">
              Please issue Credit Note for the above amount.<br>
              Authorized By: Purchase Manager ______
            </div>
          </div>
        </div>

        <!-- Pay-in Slip -->
        <div class="document-card pay-slip animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-money-check-alt"></i>
            </div>
            <div>
              <h3 class="document-title">Pay-in Slip</h3>
              <p class="document-subtitle">Bank Deposit Receipt</p>
            </div>
          </div>
          
          <div class="document-content">
            A pay-in slip is used when depositing money into a bank account. It provides proof 
            of the deposit transaction and contains details of cash/cheques deposited.
          </div>

          <div class="document-features">
            <h5>Key Features:</h5>
            <ul>
              <li>Bank deposit documentation</li>
              <li>Account number and details</li>
              <li>Breakdown of cash/cheques</li>
              <li>Bank stamp and signature</li>
              <li>Date and time of deposit</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('pay-slip')">View Sample</button>

          <div class="document-sample" id="pay-slip-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">State Bank of India</div>
              <div class="sample-address">Branch: Commercial Street, Bangalore - 560001</div>
              <div style="margin-top:10px; font-weight:bold;">PAY-IN SLIP</div>
            </div>
            <div class="sample-details">
              <div>
                <strong>Date:</strong> 18/03/2024<br>
                <strong>A/c No:</strong> 12345678901<br>
                <strong>A/c Name:</strong> ABC Enterprises
              </div>
              <div style="border-left: 2px solid #ccc; padding-left: 15px;">
                <strong>Depositor:</strong><br>
                Mr. Rajesh Kumar<br>
                Contact: 9876543210
              </div>
            </div>
            <table class="sample-table">
              <tr>
                <th>Particulars</th>
                <th>Count</th>
                <th>Amount (â‚¹)</th>
              </tr>
              <tr>
                <td>Cash Notes</td>
                <td>-</td>
                <td>25,000</td>
              </tr>
              <tr>
                <td>Cheques</td>
                <td>2</td>
                <td>15,000</td>
              </tr>
              <tr>
                <td colspan="2"><strong>Total</strong></td>
                <td><strong>40,000</strong></td>
              </tr>
            </table>
            <div style="margin-top:20px; display:grid; grid-template-columns:1fr 1fr; gap:20px;">
              <div>
                <div>Depositor Signature</div>
                <div style="border-top:1px solid #333; margin-top:20px; padding-top:5px;">Mr. Rajesh Kumar</div>
              </div>
              <div style="text-align:right;">
                <div>Bank Stamp & Signature</div>
                <div style="border-top:1px solid #333; margin-top:20px; padding-top:5px;">Cashier</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Cheque -->
        <div class="document-card cheque animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-money-check"></i>
            </div>
            <div>
              <h3 class="document-title">Cheque</h3>
              <p class="document-subtitle">Written Payment Instruction</p>
            </div>
          </div>
          
          <div class="document-content">
            A cheque is a written instruction to a bank to pay a specific amount from the 
            drawer's account to the person named on the cheque (payee).
          </div>

          <div class="document-features">
            <h5>Key Features:</h5>
            <ul>
              <li>Written payment instruction</li>
              <li>Bank and account details</li>
              <li>Payee name and amount</li>
              <li>Date and signature</li>
              <li>Unique cheque number</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('cheque')">View Sample</button>

          <div class="document-sample" id="cheque-sample" style="display:none;">
            <div style="border: 3px solid #333; padding: 15px; background: #f8f8f8;">
              <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:15px; border-bottom:2px solid #333; padding-bottom:10px;">
                <div>
                  <div style="font-weight:bold; font-size:1.1rem;">HDFC BANK</div>
                  <div style="font-size:0.8rem;">Commercial Street Branch</div>
                </div>
                <div style="text-align:right;">
                  <div style="font-size:0.9rem;">Cheque No: 123456</div>
                  <div style="font-size:0.8rem;">MICR: 560240012</div>
                </div>
              </div>
              
              <div style="margin:15px 0;">
                <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                  <span>Date: <u style="padding:0 50px;">18/03/2024</u></span>
                </div>
              </div>

              <div style="margin:20px 0;">
                <div>Pay <u style="padding:0 200px;">ABC Suppliers Ltd.</u></div>
                <div style="margin:10px 0;">
                  Rupees <u style="padding:0 150px;">Twenty Five Thousand Only</u>
                </div>
              </div>

              <div style="display:flex; justify-content:space-between; align-items:end; margin-top:30px;">
                <div>
                  <div style="border:1px solid #333; padding:10px; text-align:center;">
                    <div style="font-weight:bold;">â‚¹ 25,000/-</div>
                  </div>
                </div>
                <div style="text-align:right;">
                  <div style="border-top:1px solid #333; padding-top:5px; width:150px;">
                    Authorized Signatory
                  </div>
                </div>
              </div>

              <div style="margin-top:15px; font-size:0.7rem; text-align:center; border-top:1px solid #ccc; padding-top:10px;">
                A/c No: 50100123456789 | IFS Code: HDFC0001234
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Vouchers Section -->
    <section class="animate-card">
      <h2>Understanding Vouchers</h2>
      
      <div class="definition-box animate-card fade-up">
        <h3 style="margin:0 0 15px 0; color:white; display: flex; align-items: center; gap: 10px;">
          <i class="fas fa-receipt" style="color:#fff;"></i>
          What are Vouchers?
        </h3>
        <p style="color:white; margin:0; font-size:1.1rem; line-height:1.6;">
          <strong>Vouchers</strong> are internal documents prepared by the accounting department 
          based on source documents. They serve as authorization for recording transactions in 
          accounting books and provide a systematic way to process financial entries.
        </p>
      </div>

      <div class="documents-grid">
        
        <!-- Debit Voucher -->
        <div class="document-card voucher animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-file-circle-plus"></i>
            </div>
            <div>
              <h3 class="document-title">Debit Voucher</h3>
              <p class="document-subtitle">Records Debit Entries</p>
            </div>
          </div>
          
          <div class="document-content">
            A debit voucher is used to record transactions where an account is debited. It typically 
            covers expenses, asset purchases, and amounts receivable from debtors.
          </div>

          <div class="document-features">
            <h5>Used For:</h5>
            <ul>
              <li>Recording expenses (rent, salary)</li>
              <li>Asset purchases</li>
              <li>Amounts due from debtors</li>
              <li>Withdrawal of cash from bank</li>
              <li>Any transaction involving debits</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('debit-voucher')">View Sample</button>

          <div class="document-sample" id="debit-voucher-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">ABC Trading Company</div>
              <div style="margin-top:10px; font-weight:bold; color:#f44336;">DEBIT VOUCHER</div>
            </div>
            <div class="sample-details">
              <div>
                <strong>Voucher No:</strong> DV-2024-0156<br>
                <strong>Date:</strong> 20/03/2024
              </div>
              <div>
                <strong>Prepared by:</strong> Accountant<br>
                <strong>Approved by:</strong> Manager
              </div>
            </div>
            <table class="sample-table">
              <tr>
                <th>Account Head</th>
                <th>Dr Amount</th>
                <th>Cr Amount</th>
              </tr>
              <tr>
                <td>Office Rent A/c</td>
                <td>â‚¹15,000</td>
                <td>-</td>
              </tr>
              <tr>
                <td>Cash A/c</td>
                <td>-</td>
                <td>â‚¹15,000</td>
              </tr>
            </table>
            <div style="margin-top:15px;">
              <strong>Narration:</strong> Office rent paid for March 2024
            </div>
            <div style="margin-top:15px; text-align:right;">
              <strong>Total: â‚¹15,000</strong>
            </div>
            <div style="margin-top:20px; display:grid; grid-template-columns:1fr 1fr; gap:20px;">
              <div>
                <div style="border-top:1px solid #333; padding-top:5px;">Prepared by</div>
              </div>
              <div style="text-align:right;">
                <div style="border-top:1px solid #333; padding-top:5px;">Approved by</div>
              </div>
            </div>
          </div>
        </div>

        <!-- Credit Voucher -->
        <div class="document-card voucher animate-card slide-in-left">
          <div class="document-header">
            <div class="document-icon">
              <i class="fas fa-file-circle-minus"></i>
            </div>
            <div>
              <h3 class="document-title">Credit Voucher</h3>
              <p class="document-subtitle">Records Credit Entries</p>
            </div>
          </div>
          
          <div class="document-content">
            A credit voucher is used to record transactions where an account is credited. It covers 
            income receipts, liability increases, and amounts payable to creditors.
          </div>

          <div class="document-features">
            <h5>Used For:</h5>
            <ul>
              <li>Recording income (sales, commission)</li>
              <li>Amounts due to creditors</li>
              <li>Liability increases</li>
              <li>Cash deposits in bank</li>
              <li>Any transaction involving credits</li>
            </ul>
          </div>

          <button class="view-sample-btn" onclick="showSample('credit-voucher')">View Sample</button>

          <div class="document-sample" id="credit-voucher-sample" style="display:none;">
            <div class="sample-header">
              <div class="sample-company">ABC Trading Company</div>
              <div style="margin-top:10px; font-weight:bold; color:#4caf50;">CREDIT VOUCHER</div>
            </div>
            <div class="sample-details">
              <div>
                <strong>Voucher No:</strong> CV-2024-0089<br>
                <strong>Date:</strong> 21/03/2024
              </div>
              <div>
                <strong>Prepared by:</strong> Accountant<br>
                <strong>Approved by:</strong> Manager
              </div>
            </div>
            <table class="sample-table">
              <tr>
                <th>Account Head</th>
                <th>Dr Amount</th>
                <th>Cr Amount</th>
              </tr>
              <tr>
                <td>Bank A/c</td>
                <td>â‚¹50,000</td>
                <td>-</td>
              </tr>
              <tr>
                <td>Sales A/c</td>
                <td>-</td>
                <td>â‚¹50,000</td>
              </tr>
            </table>
            <div style="margin-top:15px;">
              <strong>Narration:</strong> Cash sales deposited in bank
            </div>
            <div style="margin-top:15px; text-align:right;">
              <strong>Total: â‚¹50,000</strong>
            </div>
            <div style="margin-top:20px; display:grid; grid-template-columns:1fr 1fr; gap:20px;">
              <div>
                <div style="border-top:1px solid #333; padding-top:5px;">Prepared by</div>
              </div>
              <div style="text-align:right;">
                <div style="border-top:1px solid #333; padding-top:5px;">Approved by</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Difference Between Source Documents and Vouchers -->
    <section class="animate-card">
      <h2>Source Documents vs Vouchers</h2>
      <p style="color: var(--muted); line-height: 1.6; margin-bottom: 25px;">
        Understanding the key differences between source documents and vouchers is crucial for proper accounting procedures.
      </p>

      <table class="comparison-table animate-card fade-up">
        <thead>
          <tr>
            <th>Aspect</th>
            <th>Source Documents</th>
            <th>Vouchers</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td><strong>Origin</strong></td>
            <td>External parties (customers, suppliers)</td>
            <td>Internal accounting department</td>
          </tr>
          <tr>
            <td><strong>Purpose</strong></td>
            <td>Evidence of business transactions</td>
            <td>Authorization for accounting entries</td>
          </tr>
          <tr>
            <td><strong>Legal Status</strong></td>
            <td>Legally admissible documents</td>
            <td>Internal control documents</td>
          </tr>
          <tr>
            <td><strong>Examples</strong></td>
            <td>Invoices, receipts, bank statements</td>
            <td>Payment vouchers, journal vouchers</td>
          </tr>
          <tr>
            <td><strong>Preparation</strong></td>
            <td>Prepared during transactions</td>
            <td>Prepared based on source documents</td>
          </tr>
          <tr>
            <td><strong>Timing</strong></td>
            <td>Generated at time of transaction</td>
            <td>Created for recording purposes</td>
          </tr>
          <tr>
            <td><strong>Audit Trail</strong></td>
            <td>Primary evidence for auditors</td>
            <td>Supporting internal controls</td>
          </tr>
          <tr>
            <td><strong>Storage</strong></td>
            <td>Must be preserved as legal proof</td>
            <td>Maintained for internal reference</td>
          </tr>
        </tbody>
      </table>

      <div style="
        margin-top:30px; 
        padding:20px; 
        border-radius:12px; 
        background:rgba(0, 229, 255, 0.1);
        border-left: 5px solid var(--brand-2);"
        class="animate-card slide-in-left">
        <h4 style="margin:0 0 15px 0; color: var(--brand-2);">Key Relationship</h4>
        <p style="color:var(--muted); font-size:1rem; line-height:1.6; margin:0;">
          Source documents serve as the foundation for creating vouchers. Every voucher must be 
          supported by relevant source documents to ensure accuracy and provide proper authorization 
          for accounting entries.
        </p>
      </div>
    </section>

    <!-- Benefits of Source Documents -->
    <section class="animate-card">
      <h2>Benefits of Source Documents</h2>
      <p style="color: var(--muted); line-height: 1.6; margin-bottom: 25px;">
        Source documents provide numerous advantages for businesses in maintaining accurate and reliable financial records.
      </p>

      <div class="benefits-grid">
        
        <div class="benefit-card animate-card fade-up">
          <i class="fas fa-shield-alt benefit-icon"></i>
          <h4 class="benefit-title">Legal Evidence</h4>
          <p class="benefit-description">
            Provide legally admissible proof of transactions in case of disputes, audits, 
            or legal proceedings, protecting business interests.
          </p>
        </div>

        <div class="benefit-card animate-card fade-up">
          <i class="fas fa-check-double benefit-icon"></i>
          <h4 class="benefit-title">Accuracy Assurance</h4>
          <p class="benefit-description">
            Ensure accurate recording of financial transactions by providing detailed 
            information about amounts, dates, and parties involved.
          </p>
        </div>

        <div class="benefit-card animate-card fade-up">
          <i class="fas fa-search benefit-icon"></i>
          <h4 class="benefit-title">Audit Trail</h4>
          <p class="benefit-description">
            Create clear audit trails that help auditors trace transactions from 
            source to final accounts, facilitating smooth audit processes.
          </p>
        </div>

        <div class="benefit-card animate-card fade-up">
          <i class="fas fa-gavel benefit-icon"></i>
          <h4 class="benefit-title">Dispute Resolution</h4>
          <p class="benefit-description">
            Help resolve disputes between business parties by providing concrete 
            evidence of agreed terms and completed transactions.
          </p>
        </div>

        <div class="benefit-card animate-card fade-up">
          <i class="fas fa-chart-line benefit-icon"></i>
          <h4 class="benefit-title">Financial Analysis</h4>
          <p class="benefit-description">
            Enable detailed financial analysis and reporting by providing comprehensive 
            data about business operations and performance trends.
          </p>
        </div>

        <div class="benefit-card animate-card fade-up">
          <i class="fas fa-clipboard-check benefit-icon"></i>
          <h4 class="benefit-title">Compliance</h4>
          <p class="benefit-description">
            Ensure compliance with legal and regulatory requirements by maintaining 
            proper documentation of all business transactions.
          </p>
        </div>
      </div>
    </section>

    <!-- MCQ Section -->
    <section class="card" id="mcqSection">
      <h2>ðŸ§© MCQ Practice</h2>
      <p style="color: var(--muted); line-height: 1.6; margin-bottom: 30px;">
        Test your understanding of Source Documents and their applications. Complete all questions to see your results.
      </p>
  <div id="quiz-progress"></div>
      <div class="mcq-grid" id="quiz-container">
        
        <!-- Question 1 -->
        <div class="mcq" data-answer="b">
          <h3>1. Source documents are:</h3>
          <input type="radio" name="q1" id="q1a" value="a"><label for="q1a">Internal documents prepared by accounting department</label>
          <input type="radio" name="q1" id="q1b" value="b"><label for="q1b">Original records that provide evidence of business transactions</label>
          <input type="radio" name="q1" id="q1c" value="c"><label for="q1c">Final financial statements</label>
          <input type="radio" name="q1" id="q1d" value="d"><label for="q1d">Budget planning documents</label>
        </div>

        <!-- Question 2 -->
        <div class="mcq" data-answer="a">
          <h3>2. A cash memo is issued when:</h3>
          <input type="radio" name="q2" id="q2a" value="a"><label for="q2a">Goods are sold for immediate cash payment</label>
          <input type="radio" name="q2" id="q2b" value="b"><label for="q2b">Goods are sold on credit</label>
          <input type="radio" name="q2" id="q2c" value="c"><label for="q2c">Goods are returned by customer</label>
          <input type="radio" name="q2" id="q2d" value="d"><label for="q2d">Payment is made to supplier</label>
        </div>

        <!-- Question 3 -->
        <div class="mcq" data-answer="c">
          <h3>3. Which document is used to reduce the amount owed by a customer?</h3>
          <input type="radio" name="q3" id="q3a" value="a"><label for="q3a">Invoice</label>
          <input type="radio" name="q3" id="q3b" value="b"><label for="q3b">Debit Note</label>
          <input type="radio" name="q3" id="q3c" value="c"><label for="q3c">Credit Note</label>
          <input type="radio" name="q3" id="q3d" value="d"><label for="q3d">Pay-in Slip</label>
        </div>

        <!-- Question 4 -->
        <div class="mcq" data-answer="b">
          <h3>4. A debit note is issued when:</h3>
          <input type="radio" name="q4" id="q4a" value="a"><label for="q4a">Customer returns goods</label>
          <input type="radio" name="q4" id="q4b" value="b"><label for="q4b">We return goods to supplier</label>
          <input type="radio" name="q4" id="q4c" value="c"><label for="q4c">We sell goods on credit</label>
          <input type="radio" name="q4" id="q4d" value="d"><label for="q4d">We receive payment</label>
        </div>

        <!-- Question 5 -->
        <div class="mcq" data-answer="a">
          <h3>5. Pay-in slip is used for:</h3>
          <input type="radio" name="q5" id="q5a" value="a"><label for="q5a">Depositing money in bank account</label>
          <input type="radio" name="q5" id="q5b" value="b"><label for="q5b">Withdrawing money from bank</label>
          <input type="radio" name="q5" id="q5c" value="c"><label for="q5c">Transferring money between accounts</label>
          <input type="radio" name="q5" id="q5d" value="d"><label for="q5d">Recording loan transactions</label>
        </div>

        <!-- Question 6 -->
        <div class="mcq" data-answer="c">
          <h3>6. The main difference between source documents and vouchers is:</h3>
          <input type="radio" name="q6" id="q6a" value="a"><label for="q6a">There is no difference</label>
          <input type="radio" name="q6" id="q6b" value="b"><label for="q6b">Vouchers are more important</label>
          <input type="radio" name="q6" id="q6c" value="c"><label for="q6c">Source documents are external, vouchers are internal</label>
          <input type="radio" name="q6" id="q6d" value="d"><label for="q6d">Source documents are prepared later</label>
        </div>

        <!-- Question 7 -->
        <div class="mcq" data-answer="a">
          <h3>7. A debit voucher is used to record:</h3>
          <input type="radio" name="q7" id="q7a" value="a"><label for="q7a">Transactions where an account is debited</label>
          <input type="radio" name="q7" id="q7b" value="b"><label for="q7b">Only cash transactions</label>
          <input type="radio" name="q7" id="q7c" value="c"><label for="q7c">Only credit transactions</label>
          <input type="radio" name="q7" id="q7d" value="d"><label for="q7d">Bank transactions only</label>
        </div>

        <!-- Question 8 -->
        <div class="mcq" data-answer="b">
          <h3>8. Which of the following is NOT a source document?</h3>
          <input type="radio" name="q8" id="q8a" value="a"><label for="q8a">Invoice</label>
          <input type="radio" name="q8" id="q8b" value="b"><label for="q8b">Trial Balance</label>
          <input type="radio" name="q8" id="q8c" value="c"><label for="q8c">Cash Memo</label>
          <input type="radio" name="q8" id="q8d" value="d"><label for="q8d">Bank Statement</label>
        </div>

        <!-- Question 9 -->
        <div class="mcq" data-answer="a">
          <h3>9. The primary purpose of source documents is to:</h3>
          <input type="radio" name="q9" id="q9a" value="a"><label for="q9a">Provide evidence of business transactions</label>
          <input type="radio" name="q9" id="q9b" value="b"><label for="q9b">Calculate profit and loss</label>
          <input type="radio" name="q9" id="q9c" value="c"><label for="q9c">Prepare budget forecasts</label>
          <input type="radio" name="q9" id="q9d" value="d"><label for="q9d">Distribute dividends</label>
        </div>

        <!-- Question 10 -->
        <div class="mcq" data-answer="c">
          <h3>10. Credit vouchers are typically used for recording:</h3>
          <input type="radio" name="q10" id="q10a" value="a"><label for="q10a">Expense transactions only</label>
          <input type="radio" name="q10" id="q10b" value="b"><label for="q10b">Asset purchases only</label>
          <input type="radio" name="q10" id="q10c" value="c"><label for="q10c">Income receipts and liability increases</label>
          <input type="radio" name="q10" id="q10d" value="d"><label for="q10d">Cash withdrawals only</label>
        </div>
      </div>

      <!-- âœ… CHANGED: Added onclick handler -->
            <button id="submitQuiz" onclick="submitQuiz()">Submit Answers</button>
            <div id="quizResult"></div>
            
            <!-- âœ… CHANGED: Added onclick and style -->
            <button id="retry-btn" onclick="retryQuiz()" style="display:none;">Try Again</button>
    </section>

    <!-- Footer Section -->
    <footer class="lesson-footer">
      <div class="footer-content">
        <p class="footer-copyright">AccountsWizard Â© 2025 â€¢ <span id="lesson-title">Lesson 6 â€” Accounting Equation</span></p>
        <div class="footer-links">
          <a href="../index.html" class="footer-link">
            <i class="fas fa-home"></i>
            <span>Back to Home</span>
          </a>
          <a href="../lessons.html" class="footer-link">
            <i class="fas fa-book"></i>
            <span>All Lessons</span>
          </a>
      </div>
    </footer>
  </main>

  <script type="module">
    // ========================================
    // 1. IMPORT FIREBASE (ONLY THIS LINE NEEDS EXTERNAL FILE)
    // ========================================
    import { submitLessonAttempt, loadPreviousAnswers } from '../firebase-config.js';

    // ========================================
    // 2. CONFIGURATION (CHANGE FOR EACH LESSON)
    // ========================================
    const LESSON_NUMBER = '8';  // â† Change this: '1', '2', '3', etc.
    const LESSON_ID = 'lesson-8'; // â† Change this: 'lesson-1', 'lesson-2', etc.

    // ========================================
    // 3. INITIALIZE QUIZ
    // ========================================
    function initQuiz() {
      console.log('ðŸŽ¯ Initializing quiz for Lesson', LESSON_NUMBER);
      
      const container = document.getElementById('quiz-container');
      if (!container) {
        console.error('âŒ Quiz container not found');
        return;
      }

      // Add event listeners to all radio buttons
      const allInputs = container.querySelectorAll('input[type="radio"]');
      allInputs.forEach(input => {
        // UPDATE PROGRESS BAR ON CHANGE
        input.addEventListener('change', updateProgressBar);
        
        // âœ¨ ADD UNCLICK FUNCTIONALITY âœ¨
        input.addEventListener('click', function(e) {
          // If already checked, uncheck it
          if (this.dataset.checked === 'true') {
            this.checked = false;
            this.dataset.checked = 'false';
            updateProgressBar(); // Update progress after unclick
          } else {
            // Mark all radios in this group as unchecked
            const groupName = this.name;
            document.querySelectorAll(`input[name="${groupName}"]`).forEach(radio => {
              radio.dataset.checked = 'false';
            });
            // Mark this one as checked
            this.dataset.checked = 'true';
          }
        });
      });

      console.log('âœ… Quiz initialized with', allInputs.length, 'options');
      updateProgressBar();
    }

    // ========================================
    // 4. UPDATE PROGRESS BAR (REAL-TIME)
    // ========================================
    function updateProgressBar() {
      const container = document.getElementById('quiz-container');
      if (!container) return;

      // Count total questions
      const allQuestions = container.querySelectorAll('.mcq');
      const totalQuestions = allQuestions.length;

      // Count answered questions
      let answeredCount = 0;
      allQuestions.forEach(mcq => {
        const questionName = mcq.querySelector('input[type="radio"]').name;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);
        if (selected) answeredCount++;
      });

      // Calculate progress percentage
      const progressPercentage = totalQuestions > 0 ? Math.round((answeredCount / totalQuestions) * 100) : 0;

      // Update progress bar UI
      const progressDiv = document.getElementById('quiz-progress');
      if (progressDiv) {
        progressDiv.innerHTML = `
          <div style="margin-bottom: 20px; padding: 15px; background: rgba(255,255,255,0.05); border-radius: 10px;">
            <div style="display: flex; justify-content: space-between; margin-bottom: 8px; color: var(--muted);">
              <span>Questions Answered</span>
              <span><strong style="color: var(--brand-2);">${answeredCount}/${totalQuestions}</strong></span>
            </div>
            <div style="width: 100%; height: 8px; background: rgba(255,255,255,0.1); border-radius: 4px; overflow: hidden;">
              <div style="width: ${progressPercentage}%; height: 100%; background: linear-gradient(90deg, var(--brand), var(--brand-2)); transition: width 0.3s ease;"></div>
            </div>
          </div>
        `;
      }

      console.log(`ðŸ“Š Progress: ${answeredCount}/${totalQuestions} (${progressPercentage}%)`);
    }

    // ========================================
    // 5. SUBMIT QUIZ (BULLETPROOF VERSION)
    // ========================================
    window.submitQuiz = async function() {
      console.log('ðŸ“¤ Submitting quiz for Lesson', LESSON_NUMBER);
      
      const container = document.getElementById('quiz-container');
      if (!container) return;

      const mcqs = container.querySelectorAll('.mcq');
      if (mcqs.length === 0) return;

      let answersData = {};
      let correctCount = 0;
      let totalQuestions = mcqs.length;
      let answeredCount = 0;

      mcqs.forEach((mcq, index) => {
        const correctAnswer = mcq.dataset.answer;
        const questionNumber = `q${index + 1}`;
        const inputs = mcq.querySelectorAll('input[type="radio"]');
        const questionName = inputs[0].name;
        const selected = document.querySelector(`input[name="${questionName}"]:checked`);

        if (!selected) return;

        answeredCount++;
        const selectedValue = selected.value;
        const isCorrect = selectedValue === correctAnswer;
        if (isCorrect) correctCount++;

        answersData[questionNumber] = {
          selected: selectedValue,
          correct: correctAnswer,
          isCorrect: isCorrect
        };

        inputs.forEach(input => {
          const label = input.nextElementSibling;
          if (!label) return;
          input.disabled = true;
          if (input.value === correctAnswer) {
            label.style.background = 'linear-gradient(90deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1))';
            label.style.borderLeft = '4px solid #10b981';
            label.style.fontWeight = 'bold';
          }
          if (input.value === selectedValue && !isCorrect) {
            label.style.background = 'linear-gradient(90deg, rgba(239, 68, 68, 0.2), rgba(239, 68, 68, 0.1))';
            label.style.borderLeft = '4px solid #ef4444';
          }
        });
      });

      if (answeredCount === 0) {
        alert('âš ï¸ Please answer at least 1 question before submitting!');
        return;
      }

      const percentage = Math.round((correctCount / totalQuestions) * 100);
      const submitBtn = document.getElementById('submitQuiz');
      const resultDiv = document.getElementById('quizResult');

      if (submitBtn) {
        submitBtn.disabled = true;
        submitBtn.textContent = 'Submitting...';
      }

      // Show loading state
      if (resultDiv) {
        resultDiv.innerHTML = `
          <div style="padding: 20px; margin-top: 20px; background: rgba(124,77,255,0.1); border-radius: 12px; text-align: center;">
            <div style="font-size: 1.2rem; color: var(--brand-2);">âš™ï¸ Saving your progress...</div>
          </div>`;
      }

      try {
        console.log("ðŸ“¤ Submitting to Firebase:", { lessonNumber: LESSON_NUMBER, correctCount, totalQuestions, percentage });
        const result = await submitLessonAttempt(LESSON_NUMBER, answersData, correctCount, totalQuestions);
        console.log("âœ… Firebase response:", result);

        // ALWAYS show result, even if Firebase fails
        if (resultDiv) {
          if (result && result.success) {
            if (result.updated) {
              // New best score!
              resultDiv.innerHTML = `
                <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(16, 185, 129, 0.2), rgba(16, 185, 129, 0.1)); border-radius: 12px; border: 2px solid #10b981;">
                  <div style="font-size: 1.5rem; font-weight: bold; color: #10b981; margin-bottom: 10px;">ðŸŽ‰ New Best Score!</div>
                  <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                  <div style="color: var(--muted); font-size: 0.9rem;">âœ… Answered ${answeredCount} out of ${totalQuestions} questions</div>
                  <div style="color: var(--muted); font-size: 0.85rem; margin-top: 10px;">âœ… Progress saved to cloud</div>
                </div>`;
            } else {
              // Previous score was better
              resultDiv.innerHTML = `
                <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(251, 191, 36, 0.2), rgba(251, 191, 36, 0.1)); border-radius: 12px; border: 2px solid #fbbf24;">
                  <div style="font-size: 1.5rem; font-weight: bold; color: #fbbf24; margin-bottom: 10px;">ðŸ“Š Quiz Completed</div>
                  <div style="font-size: 1.2rem; margin-bottom: 10px;">Current Score: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                  <div style="font-size: 1.1rem; margin-bottom: 10px; color: #10b981;">Your Best: <strong>${result.bestScore}/${result.totalQuestions}</strong> (${result.percentage}%)</div>
                  <div style="color: var(--muted); font-size: 0.9rem;">Answered ${answeredCount} out of ${totalQuestions} questions</div>
                  <div style="color: var(--muted); font-size: 0.85rem; margin-top: 10px;">ðŸ’¡ Try again to beat your best score!</div>
                </div>`;
            }
          } else {
            // Firebase failed but still show score
            resultDiv.innerHTML = `
              <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(124,77,255,0.2), rgba(124,77,255,0.1)); border-radius: 12px; border: 2px solid var(--brand);">
                <div style="font-size: 1.5rem; font-weight: bold; color: var(--brand-2); margin-bottom: 10px;">ðŸ“Š Your Score</div>
                <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
                <div style="color: var(--muted); font-size: 0.9rem;">âœ… Answered ${answeredCount} out of ${totalQuestions} questions</div>
                <div style="color: #fbbf24; font-size: 0.85rem; margin-top: 10px;">âš ï¸ Could not save to cloud. Check console (F12) for details.</div>
              </div>`;
            console.error("âŒ Firebase error:", result?.error || "Unknown error");
          }
        }
      } catch (error) {
        console.error("âŒ Critical error during submission:", error);
        // STILL show the score even if everything fails
        if (resultDiv) {
          resultDiv.innerHTML = `
            <div style="padding: 20px; margin-top: 20px; background: linear-gradient(135deg, rgba(124,77,255,0.2), rgba(124,77,255,0.1)); border-radius: 12px; border: 2px solid var(--brand);">
              <div style="font-size: 1.5rem; font-weight: bold; color: var(--brand-2); margin-bottom: 10px;">ðŸ“Š Your Score</div>
              <div style="font-size: 1.2rem; margin-bottom: 10px;">You scored: <strong>${correctCount}/${totalQuestions}</strong> (${percentage}%)</div>
              <div style="color: var(--muted); font-size: 0.9rem;">âœ… Answered ${answeredCount} out of ${totalQuestions} questions</div>
              <div style="color: #ef4444; font-size: 0.85rem; margin-top: 10px;">âŒ Error: ${error.message}</div>
              <div style="color: var(--muted); font-size: 0.8rem; margin-top: 5px;">Check browser console (F12) for details</div>
            </div>`;
        }
      } finally {
        // Always show retry button and update submit button
        const retryBtn = document.getElementById('retry-btn');
        if (retryBtn) retryBtn.style.display = 'block';
        if (submitBtn) {
          submitBtn.disabled = true;
          submitBtn.textContent = 'âœ“ Submitted';
        }
      }
    };

    // ========================================
    // 6. RETRY QUIZ
    // ========================================
    window.retryQuiz = function() {
      console.log('ðŸ”„ Retrying quiz');
      
      const container = document.getElementById('quiz-container');
      if (!container) return;

      // Reset all inputs
      const allInputs = container.querySelectorAll('input[type="radio"]');
      allInputs.forEach(input => {
        input.checked = false;
        input.disabled = false;
        input.dataset.checked = 'false'; // Reset unclick tracking
        
        const label = input.nextElementSibling;
        if (label) {
          label.style.background = '';
          label.style.borderLeft = '';
          label.style.fontWeight = '';
        }
      });

      // Reset UI
      const resultDiv = document.getElementById('quizResult');
      if (resultDiv) resultDiv.innerHTML = '';

      const submitBtn = document.getElementById('submitQuiz');
      if (submitBtn) {
        submitBtn.disabled = false;
        submitBtn.textContent = 'Submit Answers';
      }

      const retryBtn = document.getElementById('retry-btn');
      if (retryBtn) retryBtn.style.display = 'none';

      updateProgressBar();
      document.getElementById('mcqSection')?.scrollIntoView({ behavior: 'smooth' });
    };

    // ========================================
    // 7. INITIALIZE ON PAGE LOAD
    // ========================================
    initQuiz();
    console.log('âœ… Lesson', LESSON_NUMBER, 'quiz ready!');
    
// Complete JavaScript Code for Chapter 8 - Source Documents
(() => {
  // Selectors
  const $ = sel => document.querySelector(sel);
  const $$ = sel => Array.from(document.querySelectorAll(sel));

  /* Animation CSS injection */
  const css = `
    @keyframes shakeX {
      0%,100%{transform:translateX(0)}
      20%{transform:translateX(-8px)}
      40%{transform:translateX(8px)}
      60%{transform:translateX(-6px)}
      80%{transform:translateX(6px)}
    }
    .aw-shake{animation:shakeX 0.4s ease}
    .aw-pop{animation:popIn 0.35s ease both}
    @keyframes popIn {
      0%{opacity:0;transform:translateY(10px) scale(.96)}
      60%{opacity:1;transform:translateY(-4px) scale(1.02)}
      100%{opacity:1;transform:translateY(0) scale(1)}
    }
  `;
  const st = document.createElement("style");
  st.textContent = css;
  document.head.appendChild(st);

  /* Card Animation System */
  class CardAnimator {
    constructor() {
      this.observer = null;
      this.init();
    }

    init() {
      setTimeout(() => {
        this.addAnimationClasses();
        this.setupObserver();
        this.animateOnLoad();
      }, 100);
    }

    addAnimationClasses() {
      // Document cards
      $$('.document-card').forEach(card => {
        card.classList.add('slide-in-left');
      });

      // Benefit cards
      $$('.benefit-card').forEach(card => {
        card.classList.add('fade-up');
      });

      // Definition boxes
      $$('.definition-box').forEach(box => {
        box.classList.add('fade-up');
      });

      // Comparison table
      $$('.comparison-table').forEach(table => {
        table.classList.add('fade-up');
      });
    }

    setupObserver() {
      const options = {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px'
      };

      this.observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.isIntersecting) {
            entry.target.classList.add('visible');
            this.observer.unobserve(entry.target);
          }
        });
      }, options);

      $$('.slide-in-left, .fade-up').forEach(element => {
        this.observer.observe(element);
      });
    }

    animateOnLoad() {
      setTimeout(() => {
        const introSection = $('section:first-of-type');
        if (introSection) {
          introSection.querySelectorAll('.fade-up').forEach(card => {
            card.classList.add('visible');
          });
        }
      }, 300);
    }
  }

  // Toggle sample document visibility
  window.showSample = function(documentType) {
    const sample = document.getElementById(`${documentType}-sample`);
    const btn = document.querySelector(`[onclick="showSample('${documentType}')"]`);

    if (btn) {
      btn.classList.add('btn-animate');
      btn.addEventListener('animationend', () => btn.classList.remove('btn-animate'), { once: true });
    }

    if (sample) {
      sample.style.display = '';
      
      if (sample.classList.contains('active')) {
        sample.classList.remove('active');
        setTimeout(() => {
          sample.style.display = 'none';
        }, 500);
      } else {
        document.querySelectorAll('.document-sample').forEach(otherSample => {
          otherSample.classList.remove('active');
          setTimeout(() => {
            if (!otherSample.classList.contains('active')) {
              otherSample.style.display = 'none';
            }
          }, 500);
        });
        sample.style.display = '';
        setTimeout(() => {
          sample.classList.add('active');
          sample.classList.add('aw-pop');
        }, 10);
      }
    }
  };

  /* Initialize Everything */
  function initialize() {
    const animator = new CardAnimator();
    console.log('Chapter 8 - Source Documents loaded successfully!');
  }

  /* Event Listeners */
  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initialize);
  } else {
    initialize();
  }
})();
</script>

</body>
</html>