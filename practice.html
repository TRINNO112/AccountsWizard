<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Practice Journal Entries – AccountsWizard</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='96' height='96' viewBox='0 0 24 24'%3E%3Cpath fill='%23fff' d='M7 3h10a2 2 0 0 1 2 2v2H5V5a2 2 0 0 1 2-2m12 6v8a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V9z'/%3E%3Cpath fill='%23a5b4fc' d='M8.5 12h7v1.6h-7zM8.5 15h5v1.6h-5z'/%3E%3C/svg%3E" />
  <style>
    :root{
      --bg: #0b1020;
      --bg-2:#0f1733;
      --text:#f7f9ff;
      --muted:#b8c2ff;
      --brand:#7c4dff;
      --brand-2:#00e5ff;
      --accent:#ff7ac6;
      --lime:#b7ff4a;
      --card:#141b38;
      --ok:#27e1a3;
      --warn:#ffd166;
      --error:#ff5757;
      --shadow: 0 15px 30px rgba(0,0,0,.35), 0 6px 10px rgba(0,0,0,.2);
      --radius: 18px;
      --radius-lg: 28px;
    }

    * { box-sizing: border-box; }
    html, body { margin:0; padding:0; }
    body{
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", sans-serif;
      color: var(--text);
      background: radial-gradient(1200px 800px at 80% -10%, rgba(124,77,255,.35), transparent 60%),
                  radial-gradient(1000px 700px at 10% 10%, rgba(0,229,255,.25), transparent 55%),
                  linear-gradient(180deg, var(--bg), var(--bg-2));
      min-height: 100dvh;
      padding-bottom: 60px;
    }

    .floaters { position: fixed; inset: 0; pointer-events: none; z-index: -1; }
    .bubble{
      position: absolute; border-radius: 999px; filter: blur(1px);
      opacity: .35; mix-blend-mode: screen;
      animation: drift var(--dur) linear infinite;
      box-shadow: 0 0 50px currentColor;
    }
    @keyframes drift{
      from{ transform: translateY(120vh) translateX(var(--sx)) scale(var(--sc)); }
      to  { transform: translateY(-20vh) translateX(calc(var(--sx) + var(--dx))) scale(var(--sc)); }
    }

    header{
      position: sticky; top: 0; z-index: 20;
      backdrop-filter: blur(10px);
      background: linear-gradient(180deg, rgba(13,18,40,.9), rgba(13,18,40,.5));
      border-bottom: 1px solid rgba(255,255,255,.06);
    }
    .nav{
      max-width: 1200px; margin: 0 auto; padding: 14px 18px;
      display: flex; align-items: center; justify-content: space-between;
      gap: 12px;
    }
    .brand{
      display: flex; align-items: center; gap: 10px; text-decoration: none;
    }
    .logo{
      width: 40px; height: 40px; border-radius: 10px;
      background: conic-gradient(from 180deg, var(--brand), var(--brand-2), var(--accent), var(--brand));
      box-shadow: 0 8px 18px rgba(124,77,255,.5);
      transform: rotate(8deg);
    }
    .brand h1{
      margin:0; font-size: 1.1rem; letter-spacing: .6px;
      background: linear-gradient(90deg, #fff, var(--muted), var(--lime));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      font-weight: 800;
    }
    .back-btn{
      text-decoration: none; color: var(--text); opacity: .9;
      padding: 10px 16px; border-radius: 12px; transition: .2s ease;
      display: flex; align-items: center; gap: 8px; font-weight: 600;
    }
    .back-btn:hover{ background: rgba(255,255,255,.06); transform: translateY(-1px); }

    .container{
      max-width: 900px; margin: 30px auto; padding: 0 18px;
    }

    .page-header{
      text-align: center; margin-bottom: 32px;
    }
    .page-title{
      font-size: clamp(1.8rem, 3vw + .8rem, 2.8rem);
      background: linear-gradient(90deg, #fff, var(--accent), var(--lime));
      -webkit-background-clip: text; background-clip: text; color: transparent;
      margin: 0 0 12px; font-weight: 900;
    }
    .page-subtitle{
      color: #dfe5ff; opacity: .85; font-size: 1.05rem; margin: 0;
    }

    .stats-bar{
      display: grid; grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
      gap: 14px; margin-bottom: 28px;
    }
    .stat-card{
      background: linear-gradient(180deg, #0f1330, #0b0f2a);
      border: 1px solid rgba(255,255,255,.08); border-radius: 16px;
      padding: 16px; text-align: center;
    }
    .stat-label{
      font-size: .85rem; color: var(--muted); margin-bottom: 6px;
    }
    .stat-value{
      font-size: 1.8rem; font-weight: 900; letter-spacing: .5px;
    }
    .stat-value.ok{ color: var(--ok); }
    .stat-value.warn{ color: var(--warn); }
    .stat-value.accent{ color: var(--accent); }

    .question-card{
      background: linear-gradient(180deg, #0f1330, #0b0f2a);
      border: 1px solid rgba(255,255,255,.08); border-radius: var(--radius-lg);
      box-shadow: var(--shadow); padding: 28px; margin-bottom: 24px;
    }
    .question-header{
      display: flex; justify-content: space-between; align-items: flex-start;
      margin-bottom: 18px; flex-wrap: wrap; gap: 12px;
    }
    .question-number{
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      color: #0b1020; font-weight: 900; padding: 8px 16px;
      border-radius: 999px; font-size: .9rem; letter-spacing: .5px;
    }
    .difficulty{
      padding: 6px 14px; border-radius: 999px; font-size: .85rem;
      font-weight: 700; letter-spacing: .3px;
    }
    .difficulty.easy{ background: rgba(39,225,163,.15); color: var(--ok); border: 1px solid rgba(39,225,163,.3); }
    .difficulty.medium{ background: rgba(255,209,102,.15); color: var(--warn); border: 1px solid rgba(255,209,102,.3); }
    .difficulty.hard{ background: rgba(255,87,87,.15); color: var(--error); border: 1px solid rgba(255,87,87,.3); }

    .scenario{
      background: rgba(124,77,255,.08); border-left: 4px solid var(--brand);
      padding: 16px; border-radius: 12px; margin-bottom: 20px;
      font-size: 1.05rem; line-height: 1.7; color: #e9edff;
    }
    .scenario strong{ color: var(--lime); }

    .entry-builder{
      background: rgba(0,229,255,.05); border: 1px solid rgba(0,229,255,.15);
      border-radius: 14px; padding: 20px; margin-bottom: 20px;
    }
    .entry-row{
      display: grid; grid-template-columns: 1fr auto 1fr;
      gap: 14px; margin-bottom: 14px; align-items: center;
    }
    .account-select, .amount-input{
      background: rgba(255,255,255,.06); border: 1px solid rgba(255,255,255,.12);
      color: var(--text); padding: 12px 14px; border-radius: 12px;
      font-size: .95rem; font-family: inherit; transition: .2s ease;
    }
    .account-select:focus, .amount-input:focus{
      outline: none; border-color: var(--brand-2);
      background: rgba(255,255,255,.08); box-shadow: 0 0 0 3px rgba(0,229,255,.15);
    }
    .account-select option{
      background: #0b0f2a; color: var(--text);
    }
    .side-badge{
      padding: 8px 16px; border-radius: 999px; font-weight: 800;
      font-size: .85rem; letter-spacing: .5px; text-align: center;
    }
    .side-badge.dr{
      background: linear-gradient(90deg, rgba(39,225,163,.25), rgba(39,225,163,.15));
      color: var(--ok); border: 1px solid rgba(39,225,163,.3);
    }
    .side-badge.cr{
      background: linear-gradient(90deg, rgba(255,122,198,.25), rgba(255,122,198,.15));
      color: var(--accent); border: 1px solid rgba(255,122,198,.3);
    }

    .narration-box{
      margin-top: 16px;
    }
    .narration-box label{
      display: block; margin-bottom: 8px; font-weight: 600; color: var(--muted);
    }
    .narration-input{
      width: 100%; background: rgba(255,255,255,.06);
      border: 1px solid rgba(255,255,255,.12); color: var(--text);
      padding: 12px 14px; border-radius: 12px; font-size: .95rem;
      font-family: inherit; resize: vertical; min-height: 60px;
    }
    .narration-input:focus{
      outline: none; border-color: var(--brand-2);
      background: rgba(255,255,255,.08); box-shadow: 0 0 0 3px rgba(0,229,255,.15);
    }

    .actions{
      display: flex; gap: 12px; flex-wrap: wrap; margin-top: 20px;
    }
    .btn{
      padding: 12px 20px; border-radius: 14px; font-weight: 800;
      border: none; cursor: pointer; font-size: .95rem;
      transition: .2s ease; letter-spacing: .3px;
    }
    .btn-primary{
      background: linear-gradient(90deg, var(--brand), var(--brand-2));
      color: #0b1020; box-shadow: 0 8px 20px rgba(0,229,255,.25);
    }
    .btn-primary:hover{ transform: translateY(-2px); filter: brightness(1.1); }
    .btn-secondary{
      background: rgba(255,255,255,.08); color: var(--text);
      border: 1px solid rgba(255,255,255,.15);
    }
    .btn-secondary:hover{ background: rgba(255,255,255,.12); }
    .btn:disabled{
      opacity: .5; cursor: not-allowed;
    }

    .feedback{
      margin-top: 20px; padding: 18px; border-radius: 14px;
      font-size: .95rem; line-height: 1.6; display: none;
    }
    .feedback.show{ display: block; animation: slideDown .3s ease; }
    .feedback.correct{
      background: rgba(39,225,163,.12); border: 1px solid rgba(39,225,163,.25);
      color: var(--ok);
    }
    .feedback.incorrect{
      background: rgba(255,87,87,.12); border: 1px solid rgba(255,87,87,.25);
      color: var(--error);
    }
    .feedback strong{ font-size: 1.1rem; display: block; margin-bottom: 8px; }
    .feedback-detail{
      margin-top: 10px; padding-top: 10px;
      border-top: 1px solid rgba(255,255,255,.1);
      font-family: monospace; font-size: .9rem; color: #dfe5ff;
    }

    @keyframes slideDown{
      from{ opacity: 0; transform: translateY(-10px); }
      to{ opacity: 1; transform: translateY(0); }
    }

    .hint-box{
      background: rgba(255,209,102,.08); border-left: 4px solid var(--warn);
      padding: 14px; border-radius: 10px; margin-top: 16px;
      font-size: .9rem; color: #f5e5c1;
    }
    .hint-box strong{ color: var(--warn); }

    .progress-bar{
      background: rgba(255,255,255,.08); height: 8px;
      border-radius: 999px; overflow: hidden; margin-bottom: 24px;
    }
    .progress-fill{
      height: 100%; background: linear-gradient(90deg, var(--brand), var(--brand-2), var(--lime));
      border-radius: 999px; transition: width .5s ease;
    }

    @media (max-width: 680px){
      .entry-row{
        grid-template-columns: 1fr;
      }
      .stats-bar{
        grid-template-columns: 1fr 1fr;
      }
    }

    .reveal{ opacity:0; transform: translateY(14px); transition: .5s ease; }
    .reveal.on{ opacity:1; transform: translateY(0); }
  </style>
</head>
<body>
  <div class="floaters" id="floaters"></div>

  <header>
    <nav class="nav">
      <a class="brand" href="index.html">
        <span class="logo"></span>
        <h1>Accounts<span style="letter-spacing:.5px;">Wizard</span> ✨</h1>
      </a>
      <a class="back-btn" href="index.html">
        ← Back to Home
      </a>
    </nav>
  </header>

  <div class="container">
    <div class="page-header reveal">
      <h2 class="page-title">Practice Journal Entries</h2>
      <p class="page-subtitle">Master DK Goel basics with interactive scenarios • Get instant feedback</p>
    </div>

    <div class="progress-bar reveal">
      <div class="progress-fill" id="progressBar" style="width: 0%"></div>
    </div>

    <div class="stats-bar reveal">
      <div class="stat-card">
        <div class="stat-label">Current Question</div>
        <div class="stat-value accent" id="currentQ">1</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Correct Answers</div>
        <div class="stat-value ok" id="correctCount">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Incorrect</div>
        <div class="stat-value warn" id="incorrectCount">0</div>
      </div>
      <div class="stat-card">
        <div class="stat-label">Total Questions</div>
        <div class="stat-value" id="totalQ" style="color: var(--brand-2)">10</div>
      </div>
    </div>

    <div class="question-card reveal" id="questionCard">
      <div class="question-header">
        <span class="question-number" id="questionNum">Question 1 of 10</span>
        <span class="difficulty" id="difficultyBadge">Easy</span>
      </div>

      <div class="scenario" id="scenario">
        Loading question...
      </div>

      <div class="entry-builder">
        <div class="entry-row">
          <select class="account-select" id="debitAccount">
            <option value="">Select Debit Account...</option>
          </select>
          <span class="side-badge dr">Dr.</span>
          <input type="number" class="amount-input" id="debitAmount" placeholder="₹ Amount">
        </div>

        <div class="entry-row">
          <select class="account-select" id="creditAccount">
            <option value="">Select Credit Account...</option>
          </select>
          <span class="side-badge cr">Cr.</span>
          <input type="number" class="amount-input" id="creditAmount" placeholder="₹ Amount">
        </div>

        <div class="narration-box">
          <label for="narration">Narration (Brief explanation):</label>
          <textarea class="narration-input" id="narration" placeholder="e.g., Being cash paid for rent"></textarea>
        </div>
      </div>

      <div class="hint-box" id="hintBox" style="display: none;">
        <strong>💡 Hint:</strong> <span id="hintText"></span>
      </div>

      <div class="actions">
        <button class="btn btn-primary" id="submitBtn">Check Answer</button>
        <button class="btn btn-secondary" id="hintBtn">Show Hint</button>
        <button class="btn btn-secondary" id="nextBtn" style="display: none;">Next Question →</button>
        <button class="btn btn-secondary" id="resetBtn">Reset Practice</button>
      </div>

      <div class="feedback" id="feedback"></div>
    </div>
  </div>

  <script>
    const $ = (q) => document.querySelector(q);
    const $$ = (q) => [...document.querySelectorAll(q)];

    // Account list based on DK Goel Class 11
    const accounts = [
      'Cash A/c',
      'Bank A/c',
      'Capital A/c',
      'Drawings A/c',
      'Purchases A/c',
      'Sales A/c',
      'Returns Inward A/c',
      'Returns Outward A/c',
      'Furniture A/c',
      'Machinery A/c',
      'Building A/c',
      'Land A/c',
      'Stock A/c',
      'Debtors A/c',
      'Creditors A/c',
      'Loan A/c',
      'Rent A/c',
      'Salary A/c',
      'Wages A/c',
      'Commission Received A/c',
      'Interest Received A/c',
      'Discount Allowed A/c',
      'Discount Received A/c',
      'Bad Debts A/c',
      'Depreciation A/c',
      'Insurance A/c',
      'Electricity A/c',
      'Stationery A/c',
      'Carriage Inward A/c',
      'Carriage Outward A/c',
      'Advertisement A/c'
    ];

    // Practice questions based on DK Goel Class 11 syllabus
    const questions = [
      {
        scenario: "Started business with <strong>₹50,000</strong> cash.",
        debitAccount: "Cash A/c",
        creditAccount: "Capital A/c",
        amount: 50000,
        hint: "Cash is coming into the business (Asset increases), and Capital is the source (Owner's investment).",
        difficulty: "easy"
      },
      {
        scenario: "Purchased furniture for office for <strong>₹15,000</strong> in cash.",
        debitAccount: "Furniture A/c",
        creditAccount: "Cash A/c",
        amount: 15000,
        hint: "Furniture (Asset) is coming in, Cash (Asset) is going out.",
        difficulty: "easy"
      },
      {
        scenario: "Purchased goods worth <strong>₹25,000</strong> from suppliers on credit.",
        debitAccount: "Purchases A/c",
        creditAccount: "Creditors A/c",
        amount: 25000,
        hint: "Purchases (Expense) increases, Creditors (Liability) increases as payment is pending.",
        difficulty: "easy"
      },
      {
        scenario: "Sold goods for <strong>₹30,000</strong> cash.",
        debitAccount: "Cash A/c",
        creditAccount: "Sales A/c",
        amount: 30000,
        hint: "Cash (Asset) increases, Sales (Income) increases.",
        difficulty: "easy"
      },
      {
        scenario: "Paid rent for office <strong>₹8,000</strong> by cash.",
        debitAccount: "Rent A/c",
        creditAccount: "Cash A/c",
        amount: 8000,
        hint: "Rent (Expense) is incurred, Cash (Asset) is going out.",
        difficulty: "easy"
      },
      {
        scenario: "Withdrew <strong>₹10,000</strong> cash from bank for personal use.",
        debitAccount: "Drawings A/c",
        creditAccount: "Bank A/c",
        amount: 10000,
        hint: "Drawings represents owner's personal withdrawal. Debit Drawings, Credit Bank.",
        difficulty: "medium"
      },
      {
        scenario: "Received commission of <strong>₹5,000</strong> in cash.",
        debitAccount: "Cash A/c",
        creditAccount: "Commission Received A/c",
        amount: 5000,
        hint: "Cash (Asset) increases, Commission Received (Income) increases.",
        difficulty: "easy"
      },
      {
        scenario: "Paid salary to employees <strong>₹12,000</strong> by cheque.",
        debitAccount: "Salary A/c",
        creditAccount: "Bank A/c",
        amount: 12000,
        hint: "Salary (Expense) increases, Bank (Asset) decreases. Cheque payment affects Bank account.",
        difficulty: "medium"
      },
      {
        scenario: "Goods returned by customer worth <strong>₹3,000</strong>.",
        debitAccount: "Returns Inward A/c",
        creditAccount: "Debtors A/c",
        amount: 3000,
        hint: "Returns Inward (Sales Return) reduces revenue. Debtors liability decreases.",
        difficulty: "medium"
      },
      {
        scenario: "Deposited <strong>₹20,000</strong> cash into bank account.",
        debitAccount: "Bank A/c",
        creditAccount: "Cash A/c",
        amount: 20000,
        hint: "Bank (Asset) increases, Cash (Asset) decreases. This is a contra entry.",
        difficulty: "medium"
      }
    ];

    let currentQuestionIndex = 0;
    let correctAnswers = 0;
    let incorrectAnswers = 0;
    let hintUsed = false;

    // Populate account dropdowns
    function populateAccounts() {
      const debitSelect = $('#debitAccount');
      const creditSelect = $('#creditAccount');
      
      accounts.forEach(acc => {
        debitSelect.add(new Option(acc, acc));
        creditSelect.add(new Option(acc, acc));
      });
    }

    // Load current question
    function loadQuestion() {
      if (currentQuestionIndex >= questions.length) {
        showCompletion();
        return;
      }

      const q = questions[currentQuestionIndex];
      hintUsed = false;

      $('#questionNum').textContent = `Question ${currentQuestionIndex + 1} of ${questions.length}`;
      $('#currentQ').textContent = currentQuestionIndex + 1;
      $('#totalQ').textContent = questions.length;
      $('#scenario').innerHTML = q.scenario;
      $('#difficultyBadge').textContent = q.difficulty.charAt(0).toUpperCase() + q.difficulty.slice(1);
      $('#difficultyBadge').className = `difficulty ${q.difficulty}`;
      $('#hintText').textContent = q.hint;
      $('#hintBox').style.display = 'none';

      // Reset inputs
      $('#debitAccount').value = '';
      $('#creditAccount').value = '';
      $('#debitAmount').value = '';
      $('#creditAmount').value = '';
      $('#narration').value = '';

      // Hide feedback and next button
      $('#feedback').classList.remove('show', 'correct', 'incorrect');
      $('#nextBtn').style.display = 'none';
      $('#submitBtn').style.display = 'inline-block';

      // Update progress
      const progress = (currentQuestionIndex / questions.length) * 100;
      $('#progressBar').style.width = `${progress}%`;
    }

    // Check answer
        function checkAnswer() {
        const q = questions[currentQuestionIndex];
        const debitAcc = $('#debitAccount').value;
        const creditAcc = $('#creditAccount').value;  // ← Fixed: removed extra quote
        const debitAmt = parseInt($('#debitAmount').value) || 0;
        const creditAmt = parseInt($('#creditAmount').value) || 0;

      const feedback = $('#feedback');
      feedback.classList.add('show');

      const isCorrect = (
        debitAcc === q.debitAccount &&
        creditAcc === q.creditAccount &&
        debitAmt === q.amount &&
        creditAmt === q.amount
      );

      if (isCorrect) {
        correctAnswers++;
        $('#correctCount').textContent = correctAnswers;
        feedback.classList.remove('incorrect');
        feedback.classList.add('correct');
        feedback.innerHTML = `
          <strong>🎉 Correct!</strong>
          <div class="feedback-detail">
            <strong>Correct Entry:</strong><br>
            ${q.debitAccount} ........ Dr. ₹${q.amount.toLocaleString('en-IN')}<br>
            &nbsp;&nbsp;To ${q.creditAccount} ........ ₹${q.amount.toLocaleString('en-IN')}<br>
            (Being ${q.hint.toLowerCase()})
          </div>
        `;
      } else {
        incorrectAnswers++;
        $('#incorrectCount').textContent = incorrectAnswers;
        feedback.classList.remove('correct');
        feedback.classList.add('incorrect');
        
        let errors = [];
        if (debitAcc !== q.debitAccount) errors.push('Wrong debit account');
        if (creditAcc !== q.creditAccount) errors.push('Wrong credit account');
        if (debitAmt !== q.amount || creditAmt !== q.amount) errors.push('Incorrect amount');

        feedback.innerHTML = `
          <strong>❌ Not quite right!</strong>
          <p>Issues: ${errors.join(', ')}</p>
          <div class="feedback-detail">
            <strong>Correct Entry:</strong><br>
            ${q.debitAccount} ........ Dr. ₹${q.amount.toLocaleString('en-IN')}<br>
            &nbsp;&nbsp;To ${q.creditAccount} ........ ₹${q.amount.toLocaleString('en-IN')}<br>
            (Being ${q.hint.toLowerCase()})
          </div>
        `;
      }

      $('#submitBtn').style.display = 'none';
      $('#nextBtn').style.display = 'inline-block';
    }

    // Next question
    function nextQuestion() {
      currentQuestionIndex++;
      loadQuestion();
    }

    // Show hint
    function showHint() {
      $('#hintBox').style.display = 'block';
      hintUsed = true;
    }

    // Reset practice
    function resetPractice() {
      if (confirm('Are you sure you want to reset? Your progress will be lost.')) {
        currentQuestionIndex = 0;
        correctAnswers = 0;
        incorrectAnswers = 0;
        $('#correctCount').textContent = '0';
        $('#incorrectCount').textContent = '0';
        loadQuestion();
      }
    }

    // Show completion
    function showCompletion() {
      const percentage = Math.round((correctAnswers / questions.length) * 100);
      let message = '';
      let emoji = '';

      if (percentage >= 90) {
        emoji = '🏆';
        message = 'Outstanding! You\'re a Journal Entry wizard!';
      } else if (percentage >= 70) {
        emoji = '🌟';
        message = 'Great job! You\'ve got a solid understanding!';
      } else if (percentage >= 50) {
        emoji = '👍';
        message = 'Good effort! Keep practicing to improve!';
      } else {
        emoji = '📚';
        message = 'Keep learning! Review the concepts and try again!';
      }

      $('#questionCard').innerHTML = `
        <div style="text-align: center; padding: 40px 20px;">
          <div style="font-size: 5rem; margin-bottom: 20px;">${emoji}</div>
          <h2 style="color: var(--lime); font-size: 2rem; margin-bottom: 16px;">Practice Complete!</h2>
          <p style="font-size: 1.2rem; color: var(--muted); margin-bottom: 32px;">${message}</p>
          
          <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 16px; max-width: 500px; margin: 0 auto 32px;">
            <div class="stat-card">
              <div class="stat-label">Score</div>
              <div class="stat-value accent">${percentage}%</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Correct</div>
              <div class="stat-value ok">${correctAnswers}</div>
            </div>
            <div class="stat-card">
              <div class="stat-label">Incorrect</div>
              <div class="stat-value warn">${incorrectAnswers}</div>
            </div>
          </div>

          <div style="display: flex; gap: 12px; justify-content: center; flex-wrap: wrap;">
            <button class="btn btn-primary" onclick="location.reload()">Practice Again</button>
            <button class="btn btn-secondary" onclick="location.href='quiz.html'">Take Quiz</button>
            <button class="btn btn-secondary" onclick="location.href='index.html'">Back Home</button>
          </div>
        </div>
      `;

      // Update progress to 100%
      $('#progressBar').style.width = '100%';
    }

    // Event listeners
    $('#submitBtn').addEventListener('click', checkAnswer);
    $('#nextBtn').addEventListener('click', nextQuestion);
    $('#hintBtn').addEventListener('click', showHint);
    $('#resetBtn').addEventListener('click', resetPractice);

    // Initialize
    populateAccounts();
    loadQuestion();

    // Floating bubbles
    const floaterHost = $('#floaters');
    const COLORS = ['#7c4dff', '#00e5ff', '#ff7ac6', '#b7ff4a', '#ffd166'];
    function mkBubble(){
      const b = document.createElement('div');
      b.className = 'bubble';
      const size = Math.floor(40 + Math.random()*160);
      const color = COLORS[Math.floor(Math.random()*COLORS.length)];
      const startX = Math.floor(Math.random()*100) + 'vw';
      const driftX = (Math.random()*60 - 30) + 'vw';
      const scale = (0.6 + Math.random()*1.2).toFixed(2);
      const duration = 14 + Math.random()*22;
      b.style.width = b.style.height = size+'px';
      b.style.left = startX;
      b.style.setProperty('--sx', '0');
      b.style.setProperty('--dx', driftX);
      b.style.setProperty('--sc', scale);
      b.style.setProperty('--dur', duration+'s');
      b.style.color = color;
      floaterHost.appendChild(b);
      setTimeout(()=> b.remove(), duration*1000);
    }
    setInterval(()=>{ for(let i=0;i<2;i++) mkBubble(); }, 1600);
    for(let i=0;i<8;i++) mkBubble();

    // Reveal animations
    const observer = new IntersectionObserver((entries)=>{
    entries.forEach(e=>{
        if(e.isIntersecting){
        e.target.classList.add('on');
        observer.unobserve(e.target);
        }
    });
    }, { threshold:.14 });
    $$('.reveal').forEach(el=> observer.observe(el));  // ← Fixed: changed $ to $$

    // Keyboard shortcuts
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' && e.ctrlKey) {
        if ($('#submitBtn').style.display !== 'none') {
          checkAnswer();
        } else if ($('#nextBtn').style.display !== 'none') {
          nextQuestion();
        }
      }
      if (e.key === 'h' && e.ctrlKey) {
        e.preventDefault();
        showHint();
      }
    });

    // Auto-save progress to memory (could integrate with Firebase later)
    let practiceProgress = {
      completed: 0,
      totalAttempts: 0,
      bestScore: 0
    };

    function savePracticeProgress() {
      practiceProgress.totalAttempts++;
      practiceProgress.completed = currentQuestionIndex;
      const currentScore = Math.round((correctAnswers / questions.length) * 100);
      if (currentScore > practiceProgress.bestScore) {
        practiceProgress.bestScore = currentScore;
      }
      // In a real app with Firebase, save to Firestore here
      console.log('Practice progress:', practiceProgress);
    }

    // Save on completion
    window.addEventListener('beforeunload', () => {
      if (currentQuestionIndex > 0) {
        savePracticeProgress();
      }
    });
  </script>
</body>
</html>